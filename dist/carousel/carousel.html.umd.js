!/*! License details at fancyapps.com/license */function(t,e){"object"==typeof exports&&"u">typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="u">typeof globalThis?globalThis:t||self).window=t.window||{})}(this,function(t){"use strict";let e={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}};t.Html=()=>{let t;function a(t,e){let a=e.src;if("string"!=typeof a)return;let i=e.type;if(!i){if(!i&&("#"===a.charAt(0)?i="inline":a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?i="image":a.match(/\.(pdf)((\?|#).*)?$/i)?i="pdf":a.match(/\.(html|php)((\?|#).*)?$/i)&&(i="iframe")),!i){let t=a.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);t&&(a=`https://maps.google.${t[1]}/?ll=${(t[2]?t[2]+"&z="+Math.floor(parseFloat(t[3]))+(t[4]?t[4].replace(/^\//,"&"):""):t[4]+"").replace(/\?/,"&")}&output=${t[4]&&t[4].indexOf("layer=c")>0?"svembed":"embed"}`,i="gmap")}if(!i){let t=a.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);t&&(a=`https://maps.google.${t[1]}/maps?q=${t[2].replace("query=","q=").replace("api=1","")}&output=embed`,i="gmap")}e.src=a,e.type=i}}function i(a,i){("iframe"===i.type||"pdf"===i.type||"gmap"===i.type)&&function(a){let i;if(!t||!a.el||!a.src)return;let l=document.createElement("iframe");for(let[a,o]of(l.classList.add("f-iframe"),Object.entries(("object"==typeof(i=t?.getOptions().Html)&&null!==i&&i.constructor===Object&&"[object Object]"===Object.prototype.toString.call(i)?{...e,...i}:e).iframeAttr||{})))l.setAttribute(a,o);l.onerror=()=>{t&&1===t.getState()&&t.showError(a,"{{IFRAME_ERROR}}")},l.src=a.src;let o=document.createElement("div");if(o.classList.add("f-html"),o.append(l),a.width){let t=`${a.width}`;t.match(/^\d+$/)&&(t+="px"),o.style.maxWidth=`${t}`}if(a.height){let t=`${a.height}`;t.match(/^\d+$/)&&(t+="px"),o.style.maxHeight=`${t}`}if(a.aspectRatio){let t=a.el.getBoundingClientRect();o.style.aspectRatio=`${a.aspectRatio}`,o.style[t.width>t.height?"width":"height"]="auto",o.style[t.width>t.height?"maxWidth":"maxHeight"]="none"}a.contentEl=l,a.htmlEl=o,a.el.classList.add("has-html"),a.el.classList.add("has-iframe"),a.el.classList.add(`has-${a.type}`),a.el.prepend(o),t.emit("contentReady",a)}(i)}function l(e,a){("iframe"===a.type||"pdf"===a.type||"gmap"===a.type)&&(t?.hideError(a),a.contentEl?.remove(),a.contentEl=void 0,a.htmlEl?.remove(),a.htmlEl=void 0)}return{init:function(e){(t=e).on("addSlide",a),t.on("attachSlideEl",i),t.on("detachSlideEl",l)},destroy:function(){t?.off("addSlide",a),t?.off("attachSlideEl",i),t?.off("detachSlideEl",l),t=void 0}}}});