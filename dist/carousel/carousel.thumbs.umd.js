!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,n=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),i=(e,...t)=>{let o=t.length;for(let s=0;s<o;s++)Object.entries(t[s]||{}).forEach(([t,o])=>{let s=Array.isArray(o)?[]:{};e[t]||Object.assign(e,{[t]:s}),n(o)?Object.assign(e[t],i(e[t],o)):Array.isArray(o)?Object.assign(e,{[t]:[...o]}):Object.assign(e,{[t]:o})});return e},o=function(e="",t="",n=""){return e.split(t).join(n)},s={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},r=()=>{let e,t;function i(){let t=e?.getOptions().Sync;return n(t)?{...s,...t}:s}function o(){let n=i().target;e&&n&&e&&n&&(t=n,e.getOptions().classes={...e.getOptions().classes,isSelected:""},e.getOptions().initialSlide=t.getPage()?.slides[0]?.index||0,i().syncOnChange&&e.on("change",a),i().syncOnClick&&e.on("click",d),i().syncOnHover&&e.getViewport()?.addEventListener("mouseover",c),e&&t&&(e.on("ready",r),e.on("refresh",f),t.on("change",l),t.on("filter",u)))}function r(){g()}function a(){if(e&&t){let n=e.getPage()?.slides||[],i=t.getPageIndex(n[0].index||0);i>-1&&t.goTo(i,e.hasNavigated()?void 0:{tween:!1,transition:!1}),g()}}function l(){if(e&&t){let n=e.getPageIndex(t.getPage()?.slides[0].index||0);n>-1&&e.goTo(n,t.hasNavigated()?void 0:{tween:!1,transition:!1}),g()}}function d(n,i){if(!e||!t||e.getTween()?.isRunning())return;let o=e?.getOptions().classes.slide;if(!o)return;let s=o?i.target.closest(`.${o}`):null;if(s){let e=parseInt(s.getAttribute("index")||"")||0,n=t.getPageIndex(e);t.goTo(n)}}function c(t){e&&d(e,t)}function f(){if(e&&t){let n=e.getPageIndex(t.getPage()?.slides[0].index||0);n>-1&&e.goTo(n,{tween:!1,transition:!1}),g()}}function u(n,i){e&&t&&(e.filter(i),l())}function g(){if(!t)return;let n=t.getPage()?.slides[0]?.index||0;for(let t of e?.getSlides()||[])t.el?.classList.toggle("is-selected",t.index===n)}return{init:function(t){(e=t).on("initSlides",o)},destroy:function(){e?.off("ready",r),e?.off("refresh",f),e?.off("change",a),e?.off("click",d),e?.getViewport()?.removeEventListener("mouseover",c),t?.off("change",l),t?.off("filter",u),t=void 0,e?.off("initSlides",o),e=void 0},getTarget:function(){return t}}},a=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.add(t)})},l=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.remove(t)})},d={showLoading:!0,preload:1},c="is-lazyloading",f="is-lazyloaded",u="has-lazyerror",g=()=>{let e;function t(){let t=e?.getOptions().Lazyload;return n(t)?{...d,...t}:d}function i(){if(!e)return;let n=[...e.getVisibleSlides()],i=t().preload;if(i>0){let t=e.getPosition(),o=e.getViewportDim();n.push(...e.getVisibleSlides(t+o*i),...e.getVisibleSlides(t-o*i))}for(let i of n)!function(n){let i=n.el;if(!i)return;let o="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",s=Array.from(i.querySelectorAll(o));for(let r of(i.matches(o)&&s.push(i),s)){let i=r.dataset.lazySrc,o=r.dataset.lazySrcset,s=r.dataset.lazySizes,d=r.dataset.lazyBg,g=(r instanceof HTMLImageElement||r instanceof HTMLSourceElement)&&(i||o),h=r instanceof HTMLElement&&d;if(!(g||h))continue;let m=i||o||d;if(m){if(g&&m){let d=r.parentElement?.classList.contains("f-panzoom__wrapper");t().showLoading&&e?.showLoading(n),r.addEventListener("load",()=>{e?.hideLoading(n),l(r,u),r instanceof HTMLImageElement?r.decode().then(()=>{l(r,c),a(r,f)}):(l(r,c),a(r,f)),d||e?.emit("lazyLoad:loaded",n,r,m)}),r.addEventListener("error",()=>{e?.hideLoading(n),l(r,c),a(r,u),d||e?.emit("lazyLoad:error",n,r,m)}),r.classList.add("f-lazyload"),r.classList.add(c),d||e?.emit("lazyLoad:load",n,r,m),i&&(r.src=i),o&&(r.srcset=o),s&&(r.sizes=s)}else h&&(document.body.contains(r)||(document.createElement("img").src=d),r.style.backgroundImage=`url('${d}')`);delete r.dataset.lazySrc,delete r.dataset.lazySrcset,delete r.dataset.lazySizes,delete r.dataset.lazyBg}}}(i)}return{init:function(t){(e=t).on("render",i)},destroy:function(){e?.off("render",i),e=void 0}}},h={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};e.Thumbs=()=>{let e,s,l,d,c=0,f=0,u=!0;function m(t){let i=e?.getOptions().Thumbs,o=(n(i)?{...h,...i}:h)[t];return o&&"function"==typeof o&&e?o(e):o}function y(){if(!e||e?.getOptions().Thumbs===!1)return!1;let t=0;for(let n of e.getSlides())n.thumbSrc&&t++;return t>=m("minCount")}function p(){return"modern"===m("type")}function b(){return"scrollable"===m("type")}function v(){let t=[];for(let n of e?.getSlides()||[])t.push({index:n.index,html:L(n)});return t}function L(e){let t=e.thumb?e.thumb instanceof HTMLImageElement?e.thumb.src:e.thumb:e.thumbSrc||void 0,n=void 0===e.thumbAlt?`Thumbnail #${e.index}`:e.thumbAlt+"",i=m("thumbTpl");return i=o(i,"{{alt}}",n),i=o(i,"{{src}}",t+""),i=o(i,"{{index}}",`${e.index}`),i=o(i,"{{page}}",`${e.index||1}`)}function S(t=!1){let n=e?.getContainer();if(!e||!n||l||!y())return;let i=m("Carousel")?.classes||{};if(i.container=i.container||"f-thumbs",!l){let e=n.nextElementSibling;e?.classList.contains(i.container)&&(l=e)}if(!l){l=document.createElement("div");let e=m("parentEl");e?e.insertAdjacentElement("beforeend",l):n.insertAdjacentElement("afterend",l)}a(l,i.container),a(l,"f-thumbs"),a(l,`is-${m("type")}`),t&&a(l,"is-hidden")}function x(){if(!l||!b())return;a(d=document.createElement("div"),"f-thumbs__viewport");let t="";for(let e of v()){let n=e.html||"";"string"==typeof n&&(t+=`<div index="${e.index}" class="f-thumbs__slide">${n}</div>`)}d.innerHTML=t,l.append(d),l.addEventListener("click",t=>{t.preventDefault();let n=t.target.closest("[index]"),i=parseInt(n?.getAttribute("index")||"-1");e&&i>-1&&e.goTo(i)});let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target instanceof HTMLImageElement&&(e.target.src=e.target.getAttribute("data-lazy-src")+"",e.target.removeAttribute("data-lazy-src"),n.unobserve(e.target))})},{root:d,rootMargin:"100px"});l.querySelectorAll("[data-lazy-src]").forEach(e=>{n.observe(e)}),e?.emit("thumbs:ready")}function w(){if(!t||!e||!l||b()||s)return;let n=v();if(!n.length)return;let o=i({},{Sync:{target:e},Lazyload:{preload:1},slides:n,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!p(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:e=>{let t=0;return(p()&&(function(){if(!p()||!l)return;let e=e=>l&&parseFloat(getComputedStyle(l).getPropertyValue("--f-thumb-"+e))||0;c=e("width"),f=e("clip-width")}(),t=(c-f)*4),e&&e.getTotalSlideDim()<=e.getViewportDim()-t)?1/0:1}},h.Carousel||{},m("Carousel")||{});(s=t(l,o,{Sync:r,Lazyload:g})).on("ready",()=>{a(l,"is-syncing"),e?.emit("thumbs:ready"),p()&&e?.on("render",O)}),s.on("destroy",()=>{e?.emit("thumbs:destroy")}),s.init(),s.getGestures()?.on("start",()=>{u=!1}),s.on("click",(e,t)=>{let n=t.target;if(n){let e=n.matches("button")?n:n.firstElementChild;e&&e.matches("button")&&(t.preventDefault(),e.focus({preventScroll:!0}))}}),a(e.getContainer(),"has-thumbs"),j()}function T(){y()&&m("showOnStart")&&(S(),x())}function z(){y()&&(w(),e?.on("addSlide",C),e?.on("click",A),e?.on("refresh",M),e?.getGestures()?.on("start",E),I())}function E(){u=!0,document.activeElement?.closest(".f-thumbs")&&document.activeElement?.blur()}function O(){l?.classList.toggle("is-syncing",e?.hasNavigated()===!1||e?.getTween()?.isRunning()),j(),e?.getGestures()?.isPointerDown()&&function(){if(!p()||!e||!s||!u)return;let t=s.getTween(),n=s.getPages(),i=e.getPageIndex()||0,o=e.getPageProgress()||0;if(!e||!n||!n[i]||!t)return;let r=t.isRunning()?t.getCurrentValues().pos:s.getPosition();if(void 0===r)return;let a=n[i].pos+o*(c-f);a=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)}(n[0].pos,a,n[n.length-1].pos),t.from({pos:r}).to({pos:a}).start()}()}function P(){u=!0,I()}function C(e,t){s?.add({html:L(t)},t.index)}function A(e,t){let n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.thumbsAction&&(l||(S(!0),x(),w()),l&&l.classList.toggle("is-hidden"))}function M(){I()}function I(){if(!e||!d||!b())return;let t=e.getPageIndex();d.querySelectorAll(".is-selected").forEach(e=>{e.classList.remove("is-selected")});let n=d.querySelector(`[index="${t}"]`);if(n){n.classList.add("is-selected");let e=d.getBoundingClientRect(),t=n.getBoundingClientRect(),i=n.offsetTop-d.offsetTop-.5*e.height+.5*t.height,o=n.scrollLeft-d.scrollLeft-.5*e.width+.5*t.width;d.scrollTo({top:i,left:o,behavior:"smooth"})}}function j(){if(!p()||!e||!s)return;let t=s?.getSlides()||[],n=-.5*c;for(let i of t){let t=i.el;if(!t)continue;let o=e.getPageProgress(i.index)||0;(o=Math.max(-1,Math.min(1,o)))>-1&&o<1&&(n+=.5*c*(1-Math.abs(o))),o=Math.round(1e4*o)/1e4,n=Math.round(1e4*n)/1e4,t.style.setProperty("--progress",`${Math.abs(o)}`),t.style.setProperty("--shift",`${e?.isRTL()?-1*n:n}px`),o>-1&&o<1&&(n+=.5*c*(1-Math.abs(o)))}}return{init:function(n,i){t=i,(e=n).on("ready",z),e.on("initSlides",T),e.on("change",P)},destroy:function(){b()&&e?.emit("thumbs:destroy"),e?.off("ready",z),e?.off("initSlides",T),e?.off("change",P),e?.off("render",O),e?.off("addSlide",C),e?.off("click",A),e?.off("refresh",M),e?.getGestures()?.off("start",E),e?.getContainer()?.classList.remove("has-thumbs"),e=void 0,s?.destroy(),s=void 0,l?.remove(),l=void 0},getCarousel:function(){return s},getContainer:function(){return l},getType:function(){return m("type")},isEnabled:y}}});