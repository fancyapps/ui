!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,n=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),i=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,o=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),o=-1!==n.indexOf("visible");return t&&!i&&!o},r=function(e,t){return!e||e===document.body||t&&e===t?null:o(e)?e:r(e.parentElement,t)},s=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(!t||e.matches(t))&&n.push(e)}),n},l=(e,...t)=>{let i=t.length;for(let o=0;o<i;o++)Object.entries(t[o]||{}).forEach(([t,i])=>{let o=Array.isArray(i)?[]:{};e[t]||Object.assign(e,{[t]:o}),n(i)?Object.assign(e[t],l(o,i)):Array.isArray(i)?Object.assign(e,{[t]:[...i]}):Object.assign(e,{[t]:i})});return e},a=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)},u=function(e=0,t=0,n=0,i=0,o=0,r=!1){let s=(e-t)/(n-t)*(o-i)+i;return r?i<o?a(i,s,o):a(o,s,i):s},f=function(e){var t=new DOMParser().parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}let i=t.firstChild;if(i&&!(i instanceof HTMLElement)){var n=document.createElement("div");return n.appendChild(i),n}return i},d=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.add(t)})},c=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.remove(t)})},p=(e,t="",n)=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.toggle(t,n||!1)})};function g(e){return n(e)||Array.isArray(e)}function h(e,t){let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>{let i=e[n],o=t[n];return"function"==typeof i?`${i}`==`${o}`:g(i)&&g(o)?h(i,o):i===o})}let m=1/60*3e3,v=function(e){for(let t of S)t.getState()===E.Running&&t.tick(O?e-O:0);O=e,R=window.requestAnimationFrame(v)},E=((y={})[y.Initializing=0]="Initializing",y[y.Running=1]="Running",y[y.Paused=2]="Paused",y[y.Completed=3]="Completed",y[y.Destroyed=4]="Destroyed",y);var y,b,M,w,L,T=((b=T||{})[b.Spring=0]="Spring",b[b.Ease=1]="Ease",b);let x=((M={})[M.Loop=0]="Loop",M[M.Reverse=1]="Reverse",M),S=new Set,R=null,O=0;function P(){let e=E.Initializing,t=T.Ease,n=0,i=0,o=P.Easings.Linear,r=500,s=0,l=0,u=0,f=0,d=1/0,c=.01,p=.01,g=!1,y={},b=null,M={},w={},L={},O=0,A=0,C=x.Loop,I=P.Easings.Linear,D=new Map;function V(e,...t){for(let n of D.get(e)||[])n(...t)}function j(e){return i=0,e?b=setTimeout(()=>{H()},e):H(),_}function H(){e=E.Running,V("start",M,w)}function z(){if(e=E.Completed,L={},V("end",M),e===E.Completed)if(n<O){if(n++,C===x.Reverse){let e={...y};y={...w},w=e}j(A)}else n=0;return _}let _={getState:function(){return e},easing:function(e){return o=e,t=T.Ease,L={},_},duration:function(e){return r=e,_},spring:function(e={}){t=T.Spring;let{velocity:n,mass:i,tension:o,friction:r,restDelta:a,restSpeed:h,maxSpeed:m,clamp:v}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return s=n,l=i,u=o,f=r,p=a,c=h,d=m,g=v,L={},_},isRunning:function(){return e===E.Running},isSpring:function(){return t===T.Spring},from:function(e){return M={...e},_},to:function(e){return w=e,_},repeat:function(e,t=0,n=x.Loop,i){return O=e,A=t,C=n,I=i||o,_},on:function(e,t){return D.set(e,[...D.get(e)||[],t]),_},off:function(e,t){return D.has(e)&&D.set(e,D.get(e).filter(e=>e!==t)),_},start:function(t){return e=E.Initializing,h(y={...M},w)||(S.add(this),R||(R=window.requestAnimationFrame(v)),j(t)),_},pause:function(){return b&&(clearTimeout(b),b=null),e===E.Running&&(e=E.Paused,V("pause",M)),_},end:z,tick:function(n){n>m&&(n=m),i+=n;let v=0,b=!1;if(e!==E.Running)return _;if(t===T.Ease){b=1===(v=a(0,i/r,1));let e=C===x.Reverse?I:o;for(let t in M)M[t]=y[t]+(w[t]-y[t])*e(v)}if(t===T.Spring){let e=.001*n,t=0;for(let n in M){let i=w[n],o=M[n];if(!("number"==typeof i&&!isNaN(i))||!("number"==typeof o&&!isNaN(o)))continue;if(Math.abs(i-o)<=p){M[n]=i,L[n]=0;continue}L[n]||("object"==typeof s&&"number"==typeof s[n]?L[n]=s[n]:"number"==typeof s?L[n]=s:L[n]=0);let r=L[n],h=(r=a(-1*Math.abs(d),r,Math.abs(d)))*l*f,m=Math.abs(i-o)*u;r+=((o>i?-1:1)*m-h)/l*e,o+=r*e;let v=M[n]>i?o<i:o>i,E=Math.abs(r)<c&&Math.abs(i-o)<=p;g&&v&&(E=!0),E?(o=i,r=0):t++,M[n]=o,L[n]=r}b=!t}let S={...w};return V("step",M,y,w,v),b&&e===E.Running&&h(w,S)&&(e=E.Completed,z()),_},getStartValues:function(){return y},getCurrentValues:function(){return M},getCurrentVelocities:function(){return L},getEndValues:function(){return w},destroy:function(){e=E.Destroyed,b&&(clearTimeout(b),b=null),y=M=w={},S.delete(this)}};return _}function A(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&"mouseup"!==e.type?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function C(e){let t=e[0],n=e[1]||t;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2,ts:n.ts}}function I(e){let t=e[0],n=e[1]||e[0];return t&&n?-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)):0}P.destroy=()=>{for(let e of S)e.destroy();R&&(cancelAnimationFrame(R),R=null)},P.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};let D=e=>{e.cancelable&&e.preventDefault()},V={passive:!1},j={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]},H=!1,z=!0,_=(e,t)=>{let n,i,o,r={...j,...t},s=[],l=[],a=[],u=!1,f=!1,d=!1,c=0,p=0,g=0,h=0,m=0,v=0,E=0,y=0,b=0,M=[],w=0,L=0,T=new Map;function x(e){let t=I(l),r=I(a),d=Math.abs(E)>Math.abs(y)?E:y,c={srcEvent:o,isPanRecognized:u,isSwipeRecognized:f,firstTouch:s,previousTouch:a,currentTouch:l,deltaX:g,deltaY:h,offsetX:m,offsetY:v,velocityX:E,velocityY:y,velocity:d,angle:b,axis:i,scale:t&&r?t/r:0,center:n};for(let t of T.get(e)||[])t(c)}function S(e){let t=Date.now();M=M.filter(e=>!e.ts||e.ts>t-100),e&&M.push(e)}function R(){if(E=0,y=0,M.length>3){let e=M[0],t=M[M.length-1];if(e&&t){let n=t.x-e.x,i=t.y-e.y,o=e.ts&&t.ts?t.ts-e.ts:0;o>0&&(E=Math.abs(n)>3?n/(o/30):0,y=Math.abs(i)>3?i/(o/30):0)}}}function O(e){if(e instanceof MouseEvent){if(H)return}else H=!0;let t=e.composedPath()[0],i=r.ignore.join(",");if(t.matches(i)||t.closest(i)||"undefined"!=typeof MouseEvent&&e instanceof MouseEvent&&(!e.buttons||0!==e.button))return;e instanceof MouseEvent&&D(e);let g=Date.now(),h=g-(c||g);d=h>0&&h<=250,c=g,clearTimeout(w),o=e,e instanceof MouseEvent&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",_)),window.addEventListener("blur",F),s=[...l=A(e)],a=[],p=l.length,n=C(l),1===p&&(u=!1,f=!1),p&&S(C(l)),x("start")}function P(e){if(!s.length||e.defaultPrevented)return;o=e,a=[...l],p=(l=A(e)).length;let t=n=C(l),f=C(a);if(g=t.x-f.x,h=t.y-f.y,S(t),R(),x("move"),l.length>1&&Math.abs(I(l)-I(a))>=.1&&x("pinch"),!u&&s.length){let e=C(s);m=t.x-e.x,v=t.y-e.y,(u=Math.abs(m)>r.panThreshold||Math.abs(v)>r.panThreshold)&&(z=!1,clearTimeout(L),L=0,i=(b=Math.abs(180*Math.atan2(v,m)/Math.PI))>45&&b<135?"y":"x",s=[...l],a=[...l],window.getSelection()?.removeAllRanges(),x("panstart"))}u&&(g||h)&&x("pan")}function _(e){if(o=e,!s.length)return;let t=A(e),i=function(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}(e);if(p=t.length,n=C(i),i.length&&S(C(i)),R(),a=[...l],l=[...t],s=[...t],t.length>0)x("end"),u=!1,f=!1,M=[];else{let e=r.swipeThreshold;(Math.abs(E)>e||Math.abs(y)>e)&&(f=!0),u&&x("panend"),f&&x("swipe"),u||f||(x("tap"),d?x("doubleTap"):w=setTimeout(function(){x("singleTap")},250)),x("end"),N()}}function F(){clearTimeout(w),N(),u&&x("panend"),x("end")}function N(){u=!1,f=!1,d=!1,p=0,M=[],l=[],a=[],s=[],g=0,h=0,m=0,v=0,E=0,y=0,b=0,i=void 0,window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",_),window.removeEventListener("blur",F),z||L||(L=setTimeout(()=>{z=!0,L=0},100))}function G(e){let t=e.target;H=!1,t&&!e.defaultPrevented&&(z||(D(e),e.stopPropagation()))}let k={init:function(){if(e)return e.addEventListener("click",G,V),e.addEventListener("mousedown",O,V),e.addEventListener("touchstart",O,V),e.addEventListener("touchmove",P,V),e.addEventListener("touchend",_),e.addEventListener("touchcancel",_),k},on:function(e,t){return T.set(e,[...T.get(e)||[],t]),k},off:function(e,t){return T.has(e)&&T.set(e,T.get(e).filter(e=>e!==t)),k},isPointerDown:()=>p>0,destroy:function(){clearTimeout(w),clearTimeout(L),L=0,e&&(e.removeEventListener("click",G,V),e.removeEventListener("mousedown",O,V),e.removeEventListener("touchstart",O,V),e.removeEventListener("touchmove",P,V),e.removeEventListener("touchend",_),e.removeEventListener("touchcancel",_)),e=null,N()}};return k};_.isClickAllowed=()=>z;let F={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"},N=e=>{e.cancelable&&e.preventDefault()},G=((w={})[w.Init=0]="Init",w[w.Ready=1]="Ready",w[w.Destroyed=2]="Destroyed",w),k=((L={})[L.Loading=0]="Loading",L[L.Loaded=1]="Loaded",L[L.Error=2]="Error",L),$={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:F,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:200,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1},q=0,B=(e,o={},g={})=>{let h,m,v,E,y;q++;let b=G.Init,M={...$},w={...$},L={},T=null,x=null,S=!1,R=!1,O=!1,A="height",C=0,I=!0,D=0,V=0,j=0,H=0,z="*",F=[],k=[],U=new Set,X=[],Y=0,Z=0;function W(e,...t){let n=w[e];return n&&n instanceof Function?n(eS,...t):n}function J(e,t=[]){let n=W("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let K=new Map;function Q(e,...t){let n=K.get(e)||[];for(let i of(w.on&&n.push(w.on[e]),n))i&&i instanceof Function&&i(eS,...t);"*"!==e&&Q("*",e,...t)}function ee(){let e=l({},$,M);l(e,$,M);let t="",i=M.breakpoints||{};if(i)for(let[n,o]of Object.entries(i))window.matchMedia(n).matches&&(t+=n,l(e,o));if(void 0===y||t!==y){if(y=t,b!==G.Init){let t=X[D]?.slides[0]?.index;for(let n of(void 0===t&&(t=w.initialSlide),e.initialSlide=t,e.slides=[],F))n.isVirtual&&e.slides.push(n)}ex(),!1!==(w=e).enabled&&(b=G.Init,Q("init"),function(){for(let[e,t]of Object.entries({...g,...w.plugins||{}}))if(e&&!L[e]&&t instanceof Function){let n=t();n.init(eS,B),L[e]=n}Q("initPlugins")}(),function(){if(!T)return;let e=W("classes")||{};d(T,e.container),d(T,e.isEnabled);let t=W("style");if(t&&n(t))for(let[e,n]of Object.entries(t))T.style.setProperty(e,n);(x=T.querySelector(`.${e.viewport}`))||(d(x=document.createElement("div"),e.viewport),x.append(...s(T,`.${e.slide}`)),T.insertAdjacentElement("afterbegin",x)),T.carousel=eS,Q("initLayout")}(),function(){if(!x)return;let e=W("classes")||{};for(let t of(F=[],[...s(x,`.${e.slide}`)].forEach(e=>{e.parentElement&&(F.push(ed({el:e,isVirtual:!1,...e.dataset||{}})),e.parentElement.removeChild(e))}),ef(W("slides")),F))Q("addSlide",t);Q("initSlides")}(),m=P().on("start",()=>{I=!1,h&&h.isPointerDown()||(ei(),eT())}).on("step",e=>{C=e.pos,eT()}).on("end",e=>{!h?.isPointerDown()&&(C=e.pos,m&&!S&&(C<j||C>H)?m.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:C}).to({pos:a(j,C,H)}).start():I||(I=!0,Q("settle")))}),function(){let e=W("gestures");x&&!1!==e&&(h=_(x,e).on("start",e=>{if(!m)return;let{srcEvent:t}=e;O&&N(t),m.pause(),m.getCurrentVelocities().pos=0;let n=X[D]?.slides[0];n&&U.has(n.index)&&n.el&&(C=(n.offset||0)+(function(e){let t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);return{width:t.m41||0,height:t.m42||0}}(n.el)[A]||0)*(R&&!O?1:-1)),ev(),!S&&(C<j||C>H)&&m.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:m.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:C}).to({pos:a(j,C,H)}).start()}).on("move",e=>{let{srcEvent:t,axis:n}=e,i=e.srcEvent.target;i&&r(i)||(n||(t.stopPropagation(),t.stopImmediatePropagation()),("y"===n&&O||"x"===n&&!O)&&(N(t),t.stopPropagation()))}).on("panstart",e=>{e?.axis===(O?"y":"x")&&d(x,"is-dragging")}).on("panend",()=>{c(x,"is-dragging")}).on("pan",e=>{let{deltaX:t,deltaY:n,currentTouch:i,axis:o}=e;if(!m||i.length>1||"y"===o&&!O||"x"===o&&O)return;let r=R&&!O?1:-1,s=O?n:t,l=m?.isRunning()?m.getEndValues().pos:C,a=1;!S&&(l<=j&&s*r<0?a=.2*Math.max(.01,1-Math.abs(1/ea()*Math.abs(l-j))):l>=H&&s*r>0&&(a=.2*Math.max(.01,1-Math.abs(1/ea()*Math.abs(l-H))))),l+=s*a*r,m.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:m.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:C}).to({pos:l}).start()}).on("end",e=>{let{axis:t,velocityX:n,velocityY:i,currentTouch:o}=e,r=X.length,s=W("dragFree");if(o.length>0||!m||!r)return;let l=W("vertical")?i:n,u=m?.isRunning()?m.getEndValues().pos:C,f=R&&!O?1:-1;if(u+=l*(s?5:1)*f,!S&&(l*f<=0&&u<j||l*f>=0&&u>H)){let e=0;Math.abs(l)>0&&(e=2*Math.abs(l),e=Math.min(.3*ea(),e)),u=a(j+-1*e,u,H+e),m.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*l,restDelta:1,restSpeed:1}).from({pos:C}).to({pos:u}).start();return}if(s||L.Autoscroll?.isEnabled())return void(Math.abs(l)>10?m.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*l,restDelta:1,restSpeed:1}).from({pos:C}).to({pos:u}).start():m.isRunning()||I||(I=!0,Q("settle")));if(!(s||L.Autoscroll?.isEnabled())&&(!(e.offsetX||e.offsetY)||"y"===t&&!O||"x"===t&&O))return void eL(D,{transition:"tween"});let d=es(u);Math.abs(l)>10&&d===D&&(l>0?d+=R&&!O?1:-1:d+=R&&!O?-1:1),eL(d,{transition:"tween",tween:{tension:160,friction:25,velocity:-1*l}})}).init())}(),eh(),function(){if(T&&(T.addEventListener("click",ey,{passive:!1}),document.addEventListener("mousemove",et),!v)){let e=null;(v=new ResizeObserver(t=>{e||(e=requestAnimationFrame(()=>{(function(e){if(!T)return;let t=e[0].contentBoxSize[0].blockSize,n=e[0].contentBoxSize[0].inlineSize;if(b===G.Init){Y=t,Z=n,b=G.Ready,eT(),eo(),Q("ready");return}if(b!==G.Ready)return;let i=X.length;eh();let o=T.getBoundingClientRect();if(t=o.height,n=o.width,!(i>1&&(O&&.5>Math.abs(t-Y)||!O&&.5>Math.abs(n-Z))))Y=t,Z=n,(!O||t)&&(O||n)&&T&&x&&(i===X.length&&(h?.isPointerDown()||W("dragFree")&&m?.isRunning())||eL(D,{transition:!1}))})(t),e=null}))})).observe(T)}}())}}function et(e){t=e}function en(e="*"){let t=[];for(let n of F)("*"===e||n.class&&n.class.includes(e)||n.el&&n.el?.classList.contains(e))&&t.push(n);E=void 0,z=e,k=[...t]}function ei(){if(!m)return;let e=es(m?.isRunning()?m.getEndValues().pos:C);e!==D&&(E=D,D=e,ew(),eo(),er(),Q("change",D,E))}function eo(){if(!T)return;for(let e of(p(x,"is-draggable",!!h&&X.length>0),T.querySelectorAll("[data-carousel-index]")))e.innerHTML=D+"";for(let e of T.querySelectorAll("[data-carousel-page]"))e.innerHTML=D+1+"";for(let e of T.querySelectorAll("[data-carousel-pages]"))e.innerHTML=X.length+"";let e=!1,t=X[D]?.slides[0];for(let n of(t&&(t.downloadSrc||"image"===t.type&&t.src)&&(e=!0),T.querySelectorAll("[data-carousel-download]")))n.toggleAttribute("aria-disabled",!e)}function er(e){if(!T)return;e||(e=X[D]?.slides[0]);let t=e.el;if(t)for(let n of t.querySelectorAll("[data-slide-index]"))n.innerHTML=e.index+1+""}function es(e){if(!X.length||!m)return 0;let t=eu(),n=e;S?n-=Math.floor((e-X[0].pos)/t)*t:n=a(X[0].pos,e,X[X.length-1].pos);let i=new Map,o=0;for(let e of X){let r=Math.abs(e.pos-n),s=Math.min(r,Math.abs(e.pos-n-t),Math.abs(e.pos-n+t));i.set(o,s),o++}return parseInt((i.size>0?[...i.entries()].reduce((e,t)=>t[1]<e[1]?t:e):[D,0])[0])}function el(){return x&&parseFloat(getComputedStyle(x).getPropertyValue("--f-carousel-gap"))||0}function ea(){return x&&x.getBoundingClientRect()[A]||0}function eu(e=!0){let t=el();return k.reduce((e,t)=>e+t.dim,0)+(k.length-(S&&e?0:1))*t}function ef(e,t){let n=[];for(let t of Array.isArray(e)?e:[e]){let e=ed({...t,isVirtual:!0});n.push(e)}for(let e of(F.splice(void 0===t?F.length:t,0,...n),eg(),n))!function(e){if(!e)return;let t=e.el;t||(e.el=t=document.createElement("div"));let n=e.html?e.html instanceof HTMLElement?e.html:f(e.html):void 0;n&&(d(n,"f-html"),e.htmlEl=n,d(t,"has-html"),t.append(n),Q("contentReady",e))}(e);return en(z),n}function ed(e){return("string"==typeof e||e instanceof HTMLElement)&&(e={html:e}),{index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:"",...e}}function ec(e){if(!x||!e)return;let t=e.el;if(t){if(t.setAttribute("index",e.index+""),t.parentElement!==x){let n;for(let i of(d(t,w.classes.slide),d(t,e.class),ew(e),F))if(i.index>e.index){n=i.el;break}x.insertBefore(t,n&&x.contains(n)?n:null),eo(),er(e),Q("attachSlideEl",e)}return t}}function ep(e){let t=e?.el;t&&(t.remove(),em(t),Q("detachSlideEl",e))}function eg(){for(let e=0;e<F.length;e++){let t=F[e],n=t.el;n&&(t.index!==e&&em(n),n.setAttribute("index",`${e}`)),t.index=e}}function eh(){if(!T||!x)return;R=W("rtl"),A=(O=W("vertical"))?"height":"width";let e=W("classes");p(T,e.isLTR,!R),p(T,e.isRTL,R),p(T,e.isHorizontal,!O),p(T,e.isVertical,O),p(T,e.hasAdaptiveHeight,W("adaptiveHeight"));let t=function(){let e=0;if(x){let t=document.createElement("div");d(t,w.classes.slide),x.appendChild(t),e=t.getBoundingClientRect()[A],t.remove(),t=void 0}return e}();for(let e of k){let n=e.el,o=0;if(!e.isVirtual&&n&&i(n)){let e=!1;n.parentElement&&n.parentElement===x||(x.appendChild(n),e=!0),o=n.getBoundingClientRect()[A],e&&n.parentElement?.removeChild(n)}else o=t;e.dim=o}if(!function(){let e;if(!T)return;eg();let t=ea(),n=el(),i=eu(!1),o=W("slidesPerPage");o="auto"===o?1/0:parseFloat(o+""),X=[];let r=0,s=0;for(let e of k)(!X.length||r+e.dim-t>.05||s>=o)&&(X.push({index:X.length,slides:[],dim:0,offset:0,pos:0}),r=0,s=0),X[X.length-1].slides.push(e),r+=e.dim+n,s++;let l=W("center"),u=W("fill"),f=W("infinite"),d=0;for(let e of X){for(let t of(e.dim=(e.slides.length-1)*n,e.slides))e.dim+=t.dim;e.offset=d,e.pos=d,!1!==l&&(e.pos-=(t-e.dim)*.5),u&&!f&&i>t&&(e.pos=a(0,e.pos,i-t)),d+=e.dim+n}let c=[];for(let t of X){let n={...t};e&&n.pos===e.pos?(e.dim+=n.dim,e.slides=[...e.slides,...n.slides]):(e=n,n.index=c.length,c.push(n))}X=c}(),S=W("infinite")&&X.length>1&&eu()-(ea()+(k[0]?.dim||0))>-.5,j=X[0]?.pos||0,H=X[X.length-1]?.pos||0,b===G.Init){E=void 0,D=W("initialPage");let e=W("initialSlide")||void 0;void 0!==e&&(D=eS.getPageIndex(e)||0),D=a(0,D,X.length-1),V=C=X[D]?.pos||0}else{let e=m?.isRunning()?m.getEndValues().pos:C;(e<j||e>H)&&(D=a(0,D,X.length-1))}Q("refresh")}function em(e){if(!e||!i(e))return;let t=parseInt(e.getAttribute("index")||"-1"),n="";for(let t of Array.from(e.classList)){let e=t.match(/^f-(\w+)(Out|In)$/);e&&e[1]&&(n=e[1]+"")}if(!e||!n)return;let o=[`f-${n}Out`,`f-${n}In`,"to-prev","to-next","from-prev","from-next"];e.removeEventListener("animationend",eE),c(e,o.join(" ")),U.delete(t)}function ev(){if(!x)return;let e=U.size;for(let e of k)em(e.el);U.clear(),e&&eT()}function eE(e){"f-"===e.animationName.substring(0,2)&&(em(e.target),!U.size&&(c(T,"in-transition"),!I&&.5>Math.abs(eS.getPosition(!0)-V)&&(I=!0,Q("settle"))),eT())}function ey(e){if(e.defaultPrevented)return;let t=e.composedPath()[0];if(t.closest("[data-carousel-go-prev]")){N(e),eS.prev();return}if(t.closest("[data-carousel-go-next]")){N(e),eS.next();return}let n=t.closest("[data-carousel-go-to]");if(n){N(e),eS.goTo(parseFloat(n.dataset.carouselGoTo||"")||0);return}if(t.closest("[data-carousel-download]")){N(e);let t=X[D].slides[0];if(t.downloadSrc||"image"===t.type&&t.src){let e=t.downloadFilename,n=document.createElement("a");n.href=t.downloadSrc||t.src||"",n.target="_blank",e&&(n.download=e),n.click()}return}Q("click",e)}function eb(e){let t=e.el;t&&(t.querySelector(".f-spinner")?.remove(),c(t,"is-loading"))}function eM(e){let t=e.el;t&&(t.querySelector(".f-html.is-error")?.remove(),c(t,"has-error"))}function ew(e){e||(e=X[D]?.slides[0]);let t=e?.el;if(!t)return;let n=W("formatCaption",e);void 0===n&&(n=e.caption),n=n||"";let i=W("captionEl");if(i&&i instanceof HTMLElement){if(e.index!==D)return;if("string"==typeof n&&(i.innerHTML=J(n+"")),n instanceof HTMLElement){if(n.parentElement===i)return;i.innerHTML="",n.parentElement&&(n=n.cloneNode(!0)),i.append(n)}return}if(!n)return;let o=e.captionEl||t.querySelector(".f-caption");!o&&n instanceof HTMLElement&&n.classList.contains("f-caption")&&(o=n),!o&&(d(o=document.createElement("div"),"f-caption"),"string"==typeof n?o.innerHTML=J(n+""):n instanceof HTMLElement&&(n.parentElement&&(n=n.cloneNode(!0)),o.append(n)));let r=`f-caption-${q}_${e.index}`;o.setAttribute("id",r),o.dataset.selectable="true",d(t,"has-caption"),t.setAttribute("aria-labelledby",r),e.captionEl=o,t.insertAdjacentElement("beforeend",o)}function eL(e,t){let{transition:i,tween:o}={...{transition:w.transition,tween:w.tween},...t||{}};if(!T||!m)return;let r=X.length;if(!r||function(e,t){if(!T||!m||!t||"string"!=typeof t||"tween"===t)return!1;let n=X.length,i=e>D?1:-1;e=S?(e%n+n)%n:a(0,e,n-1),R&&(i*=-1);let o=X[D]?.slides[0],r=o?.index,s=X[e]?.slides[0],l=s?.index,u=X[e]?.pos;if(void 0===l||void 0===r||r===l||C===u||Math.abs(ea()-(s?.dim||0))>1)return!1;I=!1,m.pause(),ev(),d(T,"in-transition"),C=V=u,ei();let f=ec(o),p=ec(s);return f&&(U.add(r),f.style.transform="",f.addEventListener("animationend",eE),c(f,w.classes.isSelected),d(f,`f-${t}Out to-${i>0?"next":"prev"}`)),p&&(U.add(l),p.style.transform="",p.addEventListener("animationend",eE),d(p,w.classes.isSelected),d(p,`f-${t}In from-${i>0?"prev":"next"}`)),eT(),!0}(e,i))return;V=X[(e=S?(e%r+r)%r:a(0,e,r-1))||0].pos||0;let s=m.isRunning()?m.getEndValues().pos:C;if(1>Math.abs(V-s)){C=V,D!==e&&(ew(),eo(),er(),E=D,Q("change",D=e,E)),eT(),I||(I=!0,Q("settle"));return}if(m.pause(),ev(),S){let e=eu(),t=Math.floor((s-X[0].pos)/e),n=V+t*e,i=n-e;V=[n+e,n,i].reduce(function(e,t){return Math.abs(t-s)<Math.abs(e-s)?t:e})}if(!1!==i&&n(o))return void m.spring(o).from({pos:C}).to({pos:V}).start();C=V,ei(),eT(),I||(I=!0,Q("settle"))}function eT(){let e;if(!T||!x)return;let t=X[D],n=function(e){let t=el(),n=eu(),i=ea(),o=[];if(!n||!i)return o;e=void 0===e?C:e,S&&(e-=Math.floor(e/n)*n);let r=0,s=0,l=0;do{for(let n of k)o.indexOf(n)>-1||(n.offset=s,n.pos=s-e,n.offset+n.dim>e+.51&&n.offset<e+i-.51&&o.push(n),s+=n.dim+t,r=e+i-((n.pos||0)+n.dim+t));if(++l>100||!S)break}while(r>0&&n>0);return o}(),i=new Set,o=new Set;for(let r of n){let n=ec(r);if(!n)continue;i.add(n);let s=t?.slides?.indexOf(r)>-1;s&&o.add(n);let l=r.pos?Math.round(1e4*r.pos)/1e4:0,a=O?0:R?-1*l:l,f=O?l:0,d=u(a,0,r.dim,0,100),c=u(f,0,r.dim,0,100),p=w.setTransform||void 0;if(p instanceof Function?p(eS,r,{x:a,y:f,xPercent:d,yPercent:c}):n.style.transform=a||f?`translate3d(${d}%, ${c}%,0)`:"",W("adaptiveHeight")&&s){let t=(n.firstElementChild||n).getBoundingClientRect().height;e=void 0==e?t:Math.max(e,t)}}[...s(x,`.${w.classes.slide}`)].forEach(e=>{let t=parseInt(e.getAttribute("index")||"-1"),n=F[t];n||e.remove(),p(e,w.classes.isSelected,o.has(e)),U.has(t)||i.has(e)||ep(n)}),x&&e&&(x.style.height=`${e}px`),Q("render",n)}function ex(){for(let e of(T?.removeEventListener("click",ey),ev(),document.removeEventListener("mousemove",et),v?.disconnect(),v=void 0,Object.values(L)))e?.destroy();for(let e of(L={},F))e.el&&i(e.el)&&(e.state=void 0,eb(e),eM(e),ep(e),e.isVirtual?(e.el?.remove(),e.el=void 0):(e.el.style.transform="",x?.appendChild(e.el)));for(let e of(h?.destroy(),h=void 0,m?.destroy(),m=void 0,Object.values(w.classes||{})))c(T,e);c(x,"is-draggable")}let eS={add:function(e,t){for(let n of ef(e,t))Q("addSlide",n);return en(z),eh(),eT(),eS},canGoPrev:function(){return S||D>0},canGoNext:function(){return S||D<X.length-1},destroy:function(){return Q("destroy"),window.removeEventListener("resize",ee),ex(),K.clear(),T=null,X=[],F=[],w={...$},L={},k=[],y="",z="*",b=G.Destroyed,eS},emit:Q,filter:function(e="*"){return en(e),eh(),eT(),Q("filter",e),eS},getContainer:function(){return T},getGapDim:el,getGestures:function(){return h},getLastMouseMove:function(){return t},getOptions:function(){return w},getPage:function(){return X[D]},getPageIndex:function(e){if(void 0!==e){for(let t of X||[])for(let n of t.slides)if(n.index===e)return t.index;return -1}return D},getPageProgress:function(e,t){void 0===e&&(e=D);let n=X[e];if(!n)return e>D?-1:1;let i=n.pos,o=el(),r=eS.getPosition(),s=eu();if(S&&!0!==t){let e=Math.floor((r-X[0].pos)/s),t=i+s*e;i=[t+s,t,t-s].reduce(function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e})}return(r-i)/(n.dim+o)},getPageVisibility:function(e){void 0===e&&(e=D);let t=X[e];if(!t)return e>D?-1:1;let n=eS.getPosition(),i=ea(),o=t.pos;if(S){let e=eS.getPosition(),t=eu(),n=o+Math.floor((e-X[0].pos)/t)*t,i=n-t;o=[n+t,n,i].reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})}return o>n&&o+t.dim<n+i?1:o<n?(o+t.dim-n)/t.dim:o+t.dim>n+i?(n+i-o)/t.dim:0},getPages:function(){return X},getPlugins:function(){return L},getPosition:function(e){let t=C;if(S&&!0!==e){let e=eu();t-=Math.floor((C-X[0]?.pos||0)/e)*e}return t},getSlides:function(){return F},getState:function(){return b},getTotalSlideDim:eu,getTween:function(){return m},getViewport:function(){return x},getViewportDim:ea,goTo:eL,hasNavigated:function(){return void 0!==E},hideError:eM,hideLoading:eb,init:function(){if(!e||!i(e))throw Error("No Element found");return b!==G.Init&&(ex(),b=G.Init),T=e,M=o,window.removeEventListener("resize",ee),M.breakpoints&&window.addEventListener("resize",ee),ee(),eS},isInfinite:function(){return S},isInTransition:function(){return U.size>0},isRTL:function(){return R},isSettled:function(){return I},localize:function(e,t=[]){return J(e,t)},next:function(e={}){return eL(D+1,e),eS},off:function(e,t){for(let n of e instanceof Array?e:[e])K.has(n)&&K.set(n,K.get(n).filter(e=>e!==t));return eS},on:function(e,t){for(let n of e instanceof Array?e:[e])K.set(n,[...K.get(n)||[],t]);return eS},prev:function(e={}){return eL(D-1,e),eS},remove:function(e){void 0===e&&(e=F.length-1);let t=F[e];return t&&(Q("removeSlide",t),t.el&&(em(t.el),t.el.remove(),t.el=void 0),F.splice(e,1),en(z),eh(),eT()),eS},setPosition:function(e){C=e,ei(),eT()},showError:function(e,t){eb(e),eM(e);let n=e.el;if(n){let i=document.createElement("div");d(i,"f-html"),d(i,"is-error"),i.innerHTML=J(t||"<p>{{ERROR}}</p>"),e.htmlEl=i,d(n,"has-html"),d(n,"has-error"),n.insertAdjacentElement("afterbegin",i),Q("contentReady",e)}return eS},showLoading:function(e){let t=e.el,n=t?.querySelector(".f-spinner");if(!t||n)return eS;let i=f(W("spinnerTpl"));return i&&(d(i,"f-spinner"),d(t,"is-loading"),t.insertAdjacentElement("beforeend",i)),eS},version:"6.0.7"};return eS};B.l10n={en_EN:F},B.getDefaults=()=>$,e.Carousel=B,e.CarouselSlideContentState=k,e.CarouselState=G});