!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,n=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),i=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,o=e=>"string"==typeof e,r=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),o=-1!==n.indexOf("visible");return t&&!i&&!o},s=function(e,t){return!e||e===document.body||t&&e===t?null:r(e)?e:s(e.parentElement,t)},l=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(!t||e.matches(t))&&n.push(e)}),n},a=(e,...t)=>{let i=t.length;for(let o=0;o<i;o++)Object.entries(t[o]||{}).forEach(([t,i])=>{let o=Array.isArray(i)?[]:{};e[t]||Object.assign(e,{[t]:o}),n(i)?Object.assign(e[t],a(o,i)):Array.isArray(i)?Object.assign(e,{[t]:[...i]}):Object.assign(e,{[t]:i})});return e},u=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)},f=function(e=0,t=0,n=0,i=0,o=0,r=!1){let s=(e-t)/(n-t)*(o-i)+i;return r?i<o?u(i,s,o):u(o,s,i):s},d=function(e){var t=new DOMParser().parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}let i=t.firstChild;if(i&&!(i instanceof HTMLElement)){var n=document.createElement("div");return n.appendChild(i),n}return i},c=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.add(t)})},p=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.remove(t)})},g=(e,t="",n)=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.toggle(t,n||!1)})};function h(e){return n(e)||Array.isArray(e)}function m(e,t){let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>{let i=e[n],o=t[n];return"function"==typeof i?`${i}`==`${o}`:h(i)&&h(o)?m(i,o):i===o})}let v=1/60*3e3,E=function(e){for(let t of R)t.getState()===y.Running&&t.tick(e-P);P=e,O=window.requestAnimationFrame(E)},y=((b={})[b.Initializing=0]="Initializing",b[b.Running=1]="Running",b[b.Paused=2]="Paused",b[b.Completed=3]="Completed",b[b.Destroyed=4]="Destroyed",b);var b,M,w,L,T,x=((M=x||{})[M.Spring=0]="Spring",M[M.Ease=1]="Ease",M);let S=((w={})[w.Loop=0]="Loop",w[w.Reverse=1]="Reverse",w),R=new Set,O=null,P=0;function A(){let e=y.Initializing,t=x.Ease,n=0,i=0,o=A.Easings.Linear,r=500,s=0,l=0,a=0,f=0,d=1/0,c=.01,p=.01,g=!1,h={},E=null,b={},M={},w={},L=0,T=0,O=S.Loop,P=A.Easings.Linear,C=new Map;function I(e,...t){for(let n of C.get(e)||[])n(...t)}function D(e){return i=0,e?E=setTimeout(()=>{V()},e):V(),H}function V(){e=y.Running,I("start",b,M)}function j(){if(e=y.Completed,w={},I("end",b),e===y.Completed)if(n<L){if(n++,O===S.Reverse){let e={...h};h={...M},M=e}D(T)}else n=0;return H}let H={getState:function(){return e},easing:function(e){return o=e,t=x.Ease,w={},H},duration:function(e){return r=e,H},spring:function(e={}){t=x.Spring;let{velocity:n,mass:i,tension:o,friction:r,restDelta:u,restSpeed:h,maxSpeed:m,clamp:v}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return s=n,l=i,a=o,f=r,p=u,c=h,d=m,g=v,w={},H},isRunning:function(){return e===y.Running},isSpring:function(){return t===x.Spring},from:function(e){return b={...e},H},to:function(e){return M=e,H},repeat:function(e,t=0,n=S.Loop,i){return L=e,T=t,O=n,P=i||o,H},on:function(e,t){return C.set(e,[...C.get(e)||[],t]),H},off:function(e,t){return C.has(e)&&C.set(e,C.get(e).filter(e=>e!==t)),H},start:function(t){return e=y.Initializing,m(h={...b},M)||(R.add(this),D(t)),H},pause:function(){return E&&(clearTimeout(E),E=null),e===y.Running&&(e=y.Paused,I("pause",b)),H},end:j,tick:function(n){n>v&&(n=v),i+=n;let E=0,L=!1;if(e!==y.Running)return H;if(t===x.Ease){L=1===(E=u(0,i/r,1));let e=O===S.Reverse?P:o;for(let t in b)b[t]=h[t]+(M[t]-h[t])*e(E)}if(t===x.Spring){let e=.001*n,t=0;for(let n in b){let i=M[n],o=b[n];if(!("number"==typeof i&&!isNaN(i))||!("number"==typeof o&&!isNaN(o)))continue;if(Math.abs(i-o)<=p){b[n]=i,w[n]=0;continue}w[n]||("object"==typeof s&&"number"==typeof s[n]?w[n]=s[n]:"number"==typeof s?w[n]=s:w[n]=0);let r=w[n],h=(r=u(-1*Math.abs(d),r,Math.abs(d)))*l*f,m=Math.abs(i-o)*a;r+=((o>i?-1:1)*m-h)/l*e,o+=r*e;let v=b[n]>i?o<i:o>i,E=Math.abs(r)<c&&Math.abs(i-o)<=p;g&&v&&(E=!0),E?(o=i,r=0):t++,b[n]=o,w[n]=r}L=!t}let T={...M};return I("step",b,h,M,E),L&&e===y.Running&&m(M,T)&&(e=y.Completed,j()),H},getStartValues:function(){return h},getCurrentValues:function(){return b},getCurrentVelocities:function(){return w},getEndValues:function(){return M},destroy:function(){e=y.Destroyed,E&&(clearTimeout(E),E=null),h=b=M={},R.delete(this)}};return H}function C(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&"mouseup"!==e.type?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function I(e){let t=e[0],n=e[1]||t;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2,ts:n.ts}}function D(e){let t=e[0],n=e[1]||e[0];return t&&n?-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)):0}A.destroy=()=>{for(let e of R)e.destroy();O&&(cancelAnimationFrame(O),O=null)},A.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}},O=window.requestAnimationFrame(E);let V=e=>{e.cancelable&&e.preventDefault()},j={passive:!1},H={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]},z=!1,_=!0,F=(e,t)=>{let n,i,o,r={...H,...t},s=[],l=[],a=[],u=!1,f=!1,d=!1,c=0,p=0,g=0,h=0,m=0,v=0,E=0,y=0,b=0,M=[],w=0,L=0,T=new Map;function x(e){let t=D(l),r=D(a),d=Math.abs(E)>Math.abs(y)?E:y,c={srcEvent:o,isPanRecognized:u,isSwipeRecognized:f,firstTouch:s,previousTouch:a,currentTouch:l,deltaX:g,deltaY:h,offsetX:m,offsetY:v,velocityX:E,velocityY:y,velocity:d,angle:b,axis:i,scale:t&&r?t/r:0,center:n};for(let t of T.get(e)||[])t(c)}function S(e){let t=Date.now();M=M.filter(e=>!e.ts||e.ts>t-100),e&&M.push(e)}function R(){if(E=0,y=0,M.length>3){let e=M[0],t=M[M.length-1];if(e&&t){let n=t.x-e.x,i=t.y-e.y,o=e.ts&&t.ts?t.ts-e.ts:0;o>0&&(E=Math.abs(n)>3?n/(o/30):0,y=Math.abs(i)>3?i/(o/30):0)}}}function O(e){if(e instanceof MouseEvent){if(z)return}else z=!0;let t=e.composedPath()[0],i=r.ignore.join(",");if(t.matches(i)||t.closest(i)||"undefined"!=typeof MouseEvent&&e instanceof MouseEvent&&(!e.buttons||0!==e.button))return;e instanceof MouseEvent&&V(e);let g=Date.now(),h=g-(c||g);d=h>0&&h<=250,c=g,clearTimeout(w),o=e,e instanceof MouseEvent&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",A)),window.addEventListener("blur",F),s=[...l=C(e)],a=[],p=l.length,n=I(l),1===p&&(u=!1,f=!1),p&&S(I(l)),x("start")}function P(e){if(!s.length||e.defaultPrevented)return;o=e,a=[...l],p=(l=C(e)).length;let t=n=I(l),f=I(a);if(g=t.x-f.x,h=t.y-f.y,S(t),R(),x("move"),l.length>1&&Math.abs(D(l)-D(a))>=.1&&x("pinch"),!u&&s.length){let e=I(s);m=t.x-e.x,v=t.y-e.y,(u=Math.abs(m)>r.panThreshold||Math.abs(v)>r.panThreshold)&&(_=!1,clearTimeout(L),L=0,i=(b=Math.abs(180*Math.atan2(v,m)/Math.PI))>45&&b<135?"y":"x",s=[...l],a=[...l],window.getSelection()?.removeAllRanges(),x("panstart"))}u&&(g||h)&&x("pan")}function A(e){if(o=e,!s.length)return;let t=C(e),i=function(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}(e);if(p=t.length,n=I(i),i.length&&S(I(i)),R(),a=[...l],l=[...t],s=[...t],t.length>0)x("end"),u=!1,f=!1,M=[];else{let e=r.swipeThreshold;(Math.abs(E)>e||Math.abs(y)>e)&&(f=!0),u&&x("panend"),f&&x("swipe"),u||f||(x("tap"),d?x("doubleTap"):w=setTimeout(function(){x("singleTap")},250)),x("end"),N()}}function F(){clearTimeout(w),N(),u&&x("panend"),x("end")}function N(){u=!1,f=!1,d=!1,p=0,M=[],l=[],a=[],s=[],g=0,h=0,m=0,v=0,E=0,y=0,b=0,i=void 0,window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",A),window.removeEventListener("blur",F),_||L||(L=setTimeout(()=>{_=!0,L=0},100))}function G(e){let t=e.target;z=!1,t&&!e.defaultPrevented&&(_||(V(e),e.stopPropagation()))}let k={init:function(){if(e)return e.addEventListener("click",G,j),e.addEventListener("mousedown",O,j),e.addEventListener("touchstart",O,j),e.addEventListener("touchmove",P,j),e.addEventListener("touchend",A),e.addEventListener("touchcancel",A),k},on:function(e,t){return T.set(e,[...T.get(e)||[],t]),k},off:function(e,t){return T.has(e)&&T.set(e,T.get(e).filter(e=>e!==t)),k},isPointerDown:()=>p>0,destroy:function(){clearTimeout(w),clearTimeout(L),L=0,e&&(e.removeEventListener("click",G,j),e.removeEventListener("mousedown",O,j),e.removeEventListener("touchstart",O,j),e.removeEventListener("touchmove",P,j),e.removeEventListener("touchend",A),e.removeEventListener("touchcancel",A)),e=null,N()}};return k};F.isClickAllowed=()=>_;let N={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"},G=e=>{e.cancelable&&e.preventDefault()},k=((L={})[L.Init=0]="Init",L[L.Ready=1]="Ready",L[L.Destroyed=2]="Destroyed",L),$=((T={})[T.Loading=0]="Loading",T[T.Loaded=1]="Loaded",T[T.Error=2]="Error",T),q={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:N,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:200,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1},B=0,U=(e,r={},h={})=>{let m,v,E,y,b;B++;let M=k.Init,w={...q},L={...q},T={},x=null,S=null,R=!1,O=!1,P=!1,C="height",I=0,D=!0,V=0,j=0,H=0,z=0,_="*",N=[],$=[],X=new Set,Y=[],Z=0,W=0;function J(e,...t){let n=L[e];return n&&n instanceof Function?n(eR,...t):n}function K(e,t=[]){let n=J("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let Q=new Map;function ee(e,...t){let n=Q.get(e)||[];for(let i of(L.on&&n.push(L.on[e]),n))i&&i instanceof Function&&i(eR,...t);"*"!==e&&ee("*",e,...t)}function et(){let e=a({},q,w);a(e,q,w);let t="",i=w.breakpoints||{};if(i)for(let[n,o]of Object.entries(i))window.matchMedia(n).matches&&(t+=n,a(e,o));if(void 0===b||t!==b){if(b=t,M!==k.Init){let t=Y[V]?.slides[0]?.index;for(let n of(void 0===t&&(t=L.initialSlide),e.initialSlide=t,e.slides=[],N))n.isVirtual&&e.slides.push(n)}eS(),!1!==(L=e).enabled&&(M=k.Init,ee("init"),function(){for(let[e,t]of Object.entries({...h,...L.plugins||{}}))if(e&&!T[e]&&t instanceof Function){let n=t();n.init(eR,U),T[e]=n}ee("initPlugins")}(),function(){if(!x)return;let e=J("classes")||{};c(x,e.container),c(x,e.isEnabled);let t=J("style");if(t&&n(t))for(let[e,n]of Object.entries(t))x.style.setProperty(e,n);(S=x.querySelector(`.${e.viewport}`))||(c(S=document.createElement("div"),e.viewport),S.append(...l(x,`.${e.slide}`)),x.insertAdjacentElement("afterbegin",S)),x.carousel=eR,ee("initLayout")}(),function(){if(!S)return;let e=J("classes")||{};for(let t of(N=[],[...l(S,`.${e.slide}`)].forEach(e=>{e.parentElement&&(N.push(ec({el:e,isVirtual:!1,...e.dataset||{}})),e.parentElement.removeChild(e))}),ed(J("slides")),N))ee("addSlide",t);ee("initSlides")}(),v=A().on("start",()=>{D=!1,m&&m.isPointerDown()||(eo(),ex())}).on("step",e=>{I=e.pos,ex()}).on("end",e=>{!m?.isPointerDown()&&(I=e.pos,v&&!R&&(I<H||I>z)?v.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:I}).to({pos:u(H,I,z)}).start():D||(D=!0,ee("settle")))}),function(){let e=J("gestures");S&&!1!==e&&(m=F(S,e).on("start",e=>{if(!v)return;let{srcEvent:t}=e;P&&G(t),v.pause(),v.getCurrentVelocities().pos=0;let n=Y[V]?.slides[0];n&&X.has(n.index)&&n.el&&(I=(n.offset||0)+(function(e){let t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);return{width:t.m41||0,height:t.m42||0}}(n.el)[C]||0)*(O&&!P?1:-1)),eE(),!R&&(I<H||I>z)&&v.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:v.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:I}).to({pos:u(H,I,z)}).start()}).on("move",e=>{let{srcEvent:t,axis:n}=e,i=e.srcEvent.target;i&&s(i)||(n||(t.stopPropagation(),t.stopImmediatePropagation()),("y"===n&&P||"x"===n&&!P)&&(G(t),t.stopPropagation()))}).on("panstart",e=>{e?.axis===(P?"y":"x")&&c(S,"is-dragging")}).on("panend",()=>{p(S,"is-dragging")}).on("pan",e=>{let{deltaX:t,deltaY:n,currentTouch:i,axis:o}=e;if(!v||i.length>1||"y"===o&&!P||"x"===o&&P)return;let r=O&&!P?1:-1,s=P?n:t,l=v?.isRunning()?v.getEndValues().pos:I,a=1;!R&&(l<=H&&s*r<0?a=.2*Math.max(.01,1-Math.abs(1/eu()*Math.abs(l-H))):l>=z&&s*r>0&&(a=.2*Math.max(.01,1-Math.abs(1/eu()*Math.abs(l-z))))),l+=s*a*r,v.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:v.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:I}).to({pos:l}).start()}).on("end",e=>{let{axis:t,velocityX:n,velocityY:i,currentTouch:o}=e,r=Y.length,s=J("dragFree");if(o.length>0||!v||!r)return;let l=J("vertical")?i:n,a=v?.isRunning()?v.getEndValues().pos:I,f=O&&!P?1:-1;if(a+=l*(s?5:1)*f,!R&&(l*f<=0&&a<H||l*f>=0&&a>z)){let e=0;Math.abs(l)>0&&(e=2*Math.abs(l),e=Math.min(.3*eu(),e)),a=u(H+-1*e,a,z+e),v.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*l,restDelta:1,restSpeed:1}).from({pos:I}).to({pos:a}).start();return}if(s||T.Autoscroll?.isEnabled())return void(Math.abs(l)>10?v.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*l,restDelta:1,restSpeed:1}).from({pos:I}).to({pos:a}).start():v.isRunning()||D||(D=!0,ee("settle")));if(!(s||T.Autoscroll?.isEnabled())&&(!(e.offsetX||e.offsetY)||"y"===t&&!P||"x"===t&&P))return void eT(V,{transition:"tween"});let d=el(a);Math.abs(l)>10&&d===V&&(l>0?d+=O&&!P?1:-1:d+=O&&!P?-1:1),eT(d,{transition:"tween",tween:{tension:160,friction:25,velocity:-1*l}})}).init())}(),em(),function(){if(x&&(x.addEventListener("click",eb,{passive:!1}),document.addEventListener("mousemove",en),!E)){let e=null;(E=new ResizeObserver(t=>{e||(e=requestAnimationFrame(()=>{(function(e){if(!x)return;let t=e[0].contentBoxSize[0].blockSize,n=e[0].contentBoxSize[0].inlineSize;if(M===k.Init){Z=t,W=n,M=k.Ready,ex(),er(),ee("ready");return}if(M!==k.Ready)return;let i=Y.length;em();let o=x.getBoundingClientRect();if(t=o.height,n=o.width,!(i>1&&(P&&.5>Math.abs(t-Z)||!P&&.5>Math.abs(n-W))))Z=t,W=n,(!P||t)&&(P||n)&&x&&S&&(i===Y.length&&(m?.isPointerDown()||J("dragFree")&&v?.isRunning())||eT(V,{transition:!1}))})(t),e=null}))})).observe(x)}}())}}function en(e){t=e}function ei(e="*"){let t=[];for(let n of N)("*"===e||n.class&&n.class.includes(e)||n.el&&n.el?.classList.contains(e))&&t.push(n);y=void 0,_=e,$=[...t]}function eo(){if(!v)return;let e=el(v?.isRunning()?v.getEndValues().pos:I);e!==V&&(y=V,V=e,eL(),er(),es(),ee("change",V,y))}function er(){if(!x)return;for(let e of(g(S,"is-draggable",!!m&&Y.length>0),x.querySelectorAll("[data-carousel-index]")))e.innerHTML=V+"";for(let e of x.querySelectorAll("[data-carousel-page]"))e.innerHTML=V+1+"";for(let e of x.querySelectorAll("[data-carousel-pages]"))e.innerHTML=Y.length+"";let e=!1,t=Y[V]?.slides[0];for(let n of(t&&(t.downloadSrc||"image"===t.type&&t.src)&&(e=!0),x.querySelectorAll("[data-carousel-download]")))n.toggleAttribute("aria-disabled",!e)}function es(e){if(!x)return;e||(e=Y[V]?.slides[0]);let t=e.el;if(t)for(let n of t.querySelectorAll("[data-slide-index]"))n.innerHTML=e.index+1+""}function el(e){if(!Y.length||!v)return 0;let t=ef(),n=e;R?n-=Math.floor((e-Y[0].pos)/t)*t:n=u(Y[0].pos,e,Y[Y.length-1].pos);let i=new Map,o=0;for(let e of Y){let r=Math.abs(e.pos-n),s=Math.min(r,Math.abs(e.pos-n-t),Math.abs(e.pos-n+t));i.set(o,s),o++}return parseInt((i.size>0?[...i.entries()].reduce((e,t)=>t[1]<e[1]?t:e):[V,0])[0])}function ea(){return S&&parseFloat(getComputedStyle(S).getPropertyValue("--f-carousel-gap"))||0}function eu(){return S&&S.getBoundingClientRect()[C]||0}function ef(e=!0){let t=ea();return $.reduce((e,t)=>e+t.dim,0)+($.length-(R&&e?0:1))*t}function ed(e,t){let n=[];for(let t of Array.isArray(e)?e:[e]){let e=ec({...t,isVirtual:!0});n.push(e)}for(let e of(N.splice(void 0===t?N.length:t,0,...n),eh(),n))!function(e){if(!e)return;let t=e.el;t||(e.el=t=document.createElement("div"));let n=e.html?e.html instanceof HTMLElement?e.html:d(e.html):void 0;n&&(c(n,"f-html"),e.htmlEl=n,c(t,"has-html"),t.append(n),ee("contentReady",e))}(e);return ei(_),n}function ec(e){return(o(e)||e instanceof HTMLElement)&&(e={html:e}),{index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:"",...e}}function ep(e){if(!S||!e)return;let t=e.el;if(t){if(t.setAttribute("index",e.index+""),t.parentElement!==S){let n;for(let i of(c(t,L.classes.slide),c(t,e.class),eL(e),N))if(i.index>e.index){n=i.el;break}S.insertBefore(t,n&&S.contains(n)?n:null),er(),es(e),ee("attachSlideEl",e)}return t}}function eg(e){let t=e?.el;t&&(t.remove(),ev(t),ee("detachSlideEl",e))}function eh(){for(let e=0;e<N.length;e++){let t=N[e],n=t.el;n&&(t.index!==e&&ev(n),n.setAttribute("index",`${e}`)),t.index=e}}function em(){if(!x||!S)return;O=J("rtl"),C=(P=J("vertical"))?"height":"width";let e=J("classes");g(x,e.isLTR,!O),g(x,e.isRTL,O),g(x,e.isHorizontal,!P),g(x,e.isVertical,P),g(x,e.hasAdaptiveHeight,J("adaptiveHeight"));let t=function(){let e=0;if(S){let t=document.createElement("div");c(t,L.classes.slide),S.appendChild(t),e=t.getBoundingClientRect()[C],t.remove(),t=void 0}return e}();for(let e of $){let n=e.el,o=0;if(!e.isVirtual&&n&&i(n)){let e=!1;n.parentElement&&n.parentElement===S||(S.appendChild(n),e=!0),o=n.getBoundingClientRect()[C],e&&n.parentElement?.removeChild(n)}else o=t;e.dim=o}if(!function(){let e;if(!x)return;eh();let t=eu(),n=ea(),i=ef(!1),o=J("slidesPerPage");o="auto"===o?1/0:parseFloat(o+""),Y=[];let r=0,s=0;for(let e of $)(!Y.length||r+e.dim-t>.05||s>=o)&&(Y.push({index:Y.length,slides:[],dim:0,offset:0,pos:0}),r=0,s=0),Y[Y.length-1].slides.push(e),r+=e.dim+n,s++;let l=J("center"),a=J("fill"),f=J("infinite"),d=0;for(let e of Y){for(let t of(e.dim=(e.slides.length-1)*n,e.slides))e.dim+=t.dim;e.offset=d,e.pos=d,!1!==l&&(e.pos-=(t-e.dim)*.5),a&&!f&&i>t&&(e.pos=u(0,e.pos,i-t)),d+=e.dim+n}let c=[];for(let t of Y){let n={...t};e&&n.pos===e.pos?(e.dim+=n.dim,e.slides=[...e.slides,...n.slides]):(e=n,n.index=c.length,c.push(n))}Y=c}(),R=J("infinite")&&Y.length>1&&ef()-(eu()+($[0]?.dim||0))>-.5,H=Y[0]?.pos||0,z=Y[Y.length-1]?.pos||0,M===k.Init){y=void 0,V=J("initialPage");let e=J("initialSlide")||void 0;void 0!==e&&(V=eR.getPageIndex(e)||0),V=u(0,V,Y.length-1),j=I=Y[V]?.pos||0}else{let e=v?.isRunning()?v.getEndValues().pos:I;(e<H||e>z)&&(V=u(0,V,Y.length-1))}ee("refresh")}function ev(e){if(!e||!i(e))return;let t=parseInt(e.getAttribute("index")||"-1"),n="";for(let t of Array.from(e.classList)){let e=t.match(/^f-(\w+)(Out|In)$/);e&&e[1]&&(n=e[1]+"")}if(!e||!n)return;let o=[`f-${n}Out`,`f-${n}In`,"to-prev","to-next","from-prev","from-next"];e.removeEventListener("animationend",ey),p(e,o.join(" ")),X.delete(t)}function eE(){if(!S)return;let e=X.size;for(let e of $)ev(e.el);X.clear(),e&&ex()}function ey(e){"f-"===e.animationName.substring(0,2)&&(ev(e.target),!X.size&&(p(x,"in-transition"),!D&&.5>Math.abs(eR.getPosition(!0)-j)&&(D=!0,ee("settle"))),ex())}function eb(e){if(e.defaultPrevented)return;let t=e.composedPath()[0];if(t.closest("[data-carousel-go-prev]")){G(e),eR.prev();return}if(t.closest("[data-carousel-go-next]")){G(e),eR.next();return}let n=t.closest("[data-carousel-go-to]");if(n){G(e),eR.goTo(parseFloat(n.dataset.carouselGoTo||"")||0);return}if(t.closest("[data-carousel-download]")){G(e);let t=Y[V].slides[0];if(t.downloadSrc||"image"===t.type&&t.src){let e=t.downloadFilename,n=document.createElement("a");n.href=t.downloadSrc||t.src||"",n.target="_blank",e&&(n.download=e),n.click()}return}ee("click",e)}function eM(e){let t=e.el;t&&(t.querySelector(".f-spinner")?.remove(),p(t,"is-loading"))}function ew(e){let t=e.el;t&&(t.querySelector(".f-html.is-error")?.remove(),p(t,"has-error"))}function eL(e){e||(e=Y[V]?.slides[0]);let t=e?.el;if(!t)return;let n=J("formatCaption",e);void 0===n&&(n=e.caption),n=n||"";let i=J("captionEl");if(i&&i instanceof HTMLElement){if(e.index!==V)return;if(o(n)&&(i.innerHTML=K(n+"")),n instanceof HTMLElement){if(n.parentElement===i)return;i.innerHTML="",n.parentElement&&(n=n.cloneNode(!0)),i.append(n)}return}if(!n)return;let r=e.captionEl||t.querySelector(".f-caption");!r&&n instanceof HTMLElement&&n.classList.contains("f-caption")&&(r=n),!r&&(c(r=document.createElement("div"),"f-caption"),o(n)?r.innerHTML=K(n+""):n instanceof HTMLElement&&(n.parentElement&&(n=n.cloneNode(!0)),r.append(n)));let s=`f-caption-${B}_${e.index}`;r.setAttribute("id",s),r.dataset.selectable="true",c(t,"has-caption"),t.setAttribute("aria-labelledby",s),e.captionEl=r,t.insertAdjacentElement("beforeend",r)}function eT(e,t){let{transition:i,tween:r}={...{transition:L.transition,tween:L.tween},...t||{}};if(!x||!v)return;let s=Y.length;if(!s||function(e,t){if(!x||!v||!t||!o(t)||"tween"===t)return!1;let n=Y.length,i=e>V?1:-1;e=R?(e%n+n)%n:u(0,e,n-1),O&&(i*=-1);let r=Y[V]?.slides[0],s=r?.index,l=Y[e]?.slides[0],a=l?.index,f=Y[e]?.pos;if(void 0===a||void 0===s||s===a||I===f||Math.abs(eu()-(l?.dim||0))>1)return!1;D=!1,v.pause(),eE(),c(x,"in-transition"),I=j=f,eo();let d=ep(r),g=ep(l);return d&&(X.add(s),d.style.transform="",d.addEventListener("animationend",ey),p(d,L.classes.isSelected),c(d,`f-${t}Out to-${i>0?"next":"prev"}`)),g&&(X.add(a),g.style.transform="",g.addEventListener("animationend",ey),c(g,L.classes.isSelected),c(g,`f-${t}In from-${i>0?"prev":"next"}`)),ex(),!0}(e,i))return;j=Y[(e=R?(e%s+s)%s:u(0,e,s-1))||0].pos||0;let l=v.isRunning()?v.getEndValues().pos:I;if(1>Math.abs(j-l)){I=j,V!==e&&(eL(),er(),es(),y=V,ee("change",V=e,y)),ex(),D||(D=!0,ee("settle"));return}if(v.pause(),eE(),R){let e=ef(),t=Math.floor((l-Y[0].pos)/e),n=j+t*e,i=n-e;j=[n+e,n,i].reduce(function(e,t){return Math.abs(t-l)<Math.abs(e-l)?t:e})}if(!1!==i&&n(r))return void v.spring(r).from({pos:I}).to({pos:j}).start();I=j,eo(),ex(),D||(D=!0,ee("settle"))}function ex(){let e;if(!x||!S)return;let t=Y[V],n=function(e){let t=ea(),n=ef(),i=eu(),o=[];if(!n||!i)return o;e=void 0===e?I:e,R&&(e-=Math.floor(e/n)*n);let r=0,s=0,l=0;do{for(let n of $)o.indexOf(n)>-1||(n.offset=s,n.pos=s-e,n.offset+n.dim>e+.51&&n.offset<e+i-.51&&o.push(n),s+=n.dim+t,r=e+i-((n.pos||0)+n.dim+t));if(++l>100||!R)break}while(r>0&&n>0);return o}(),i=new Set,o=new Set;for(let r of n){let n=ep(r);if(!n)continue;i.add(n);let s=t?.slides?.indexOf(r)>-1;s&&o.add(n);let l=r.pos?Math.round(1e4*r.pos)/1e4:0,a=P?0:O?-1*l:l,u=P?l:0,d=f(a,0,r.dim,0,100),c=f(u,0,r.dim,0,100),p=L.setTransform||void 0;if(p instanceof Function?p(eR,r,{x:a,y:u,xPercent:d,yPercent:c}):n.style.transform=a||u?`translate3d(${d}%, ${c}%,0)`:"",J("adaptiveHeight")&&!P&&s){let t=(n.firstElementChild||n).getBoundingClientRect().height;e=void 0==e?t:Math.max(e,t)}}[...l(S,`.${L.classes.slide}`)].forEach(e=>{let t=parseInt(e.getAttribute("index")||"-1"),n=N[t];n||e.remove(),g(e,L.classes.isSelected,o.has(e)),X.has(t)||i.has(e)||eg(n)}),S&&void 0!==e&&(S.style.height=`${e}px`),ee("render",n)}function eS(){for(let e of(x?.removeEventListener("click",eb),eE(),document.removeEventListener("mousemove",en),E?.disconnect(),E=void 0,Object.values(T)))e?.destroy();for(let e of(T={},N))e.el&&i(e.el)&&(e.state=void 0,eM(e),ew(e),eg(e),e.isVirtual?(e.el?.remove(),e.el=void 0):(e.el.style.transform="",S?.appendChild(e.el)));for(let e of(m?.destroy(),m=void 0,v?.destroy(),v=void 0,Object.values(L.classes||{})))p(x,e);p(S,"is-draggable")}let eR={add:function(e,t){for(let n of ed(e,t))ee("addSlide",n);return ei(_),em(),ex(),eR},canGoPrev:function(){return R||V>0},canGoNext:function(){return R||V<Y.length-1},destroy:function(){return ee("destroy"),window.removeEventListener("resize",et),eS(),Q.clear(),x=null,Y=[],N=[],L={...q},T={},$=[],b="",_="*",M=k.Destroyed,eR},emit:ee,filter:function(e="*"){return ei(e),em(),ex(),ee("filter",e),eR},getContainer:function(){return x},getGapDim:ea,getGestures:function(){return m},getLastMouseMove:function(){return t},getOptions:function(){return L},getPage:function(){return Y[V]},getPageIndex:function(e){if(void 0!==e){for(let t of Y||[])for(let n of t.slides)if(n.index===e)return t.index;return -1}return V},getPageProgress:function(e,t){void 0===e&&(e=V);let n=Y[e];if(!n)return e>V?-1:1;let i=n.pos,o=ea(),r=eR.getPosition(),s=ef();if(R&&!0!==t){let e=Math.floor((r-Y[0].pos)/s),t=i+s*e;i=[t+s,t,t-s].reduce(function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e})}return(r-i)/(n.dim+o)},getPageVisibility:function(e){void 0===e&&(e=V);let t=Y[e];if(!t)return e>V?-1:1;let n=eR.getPosition(),i=eu(),o=t.pos;if(R){let e=eR.getPosition(),t=ef(),n=o+Math.floor((e-Y[0].pos)/t)*t,i=n-t;o=[n+t,n,i].reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})}return o>n&&o+t.dim<n+i?1:o<n?(o+t.dim-n)/t.dim:o+t.dim>n+i?(n+i-o)/t.dim:0},getPages:function(){return Y},getPlugins:function(){return T},getPosition:function(e){let t=I;if(R&&!0!==e){let e=ef();t-=Math.floor((I-Y[0]?.pos||0)/e)*e}return t},getSlides:function(){return N},getState:function(){return M},getTotalSlideDim:ef,getTween:function(){return v},getViewport:function(){return S},getViewportDim:eu,goTo:eT,hasNavigated:function(){return void 0!==y},hideError:ew,hideLoading:eM,init:function(){if(!e||!i(e))throw Error("No Element found");return M!==k.Init&&(eS(),M=k.Init),x=e,w=r,window.removeEventListener("resize",et),w.breakpoints&&window.addEventListener("resize",et),et(),eR},isInfinite:function(){return R},isInTransition:function(){return X.size>0},isRTL:function(){return O},isSettled:function(){return D},localize:function(e,t=[]){return K(e,t)},next:function(e={}){return eT(V+1,e),eR},off:function(e,t){for(let n of e instanceof Array?e:[e])Q.has(n)&&Q.set(n,Q.get(n).filter(e=>e!==t));return eR},on:function(e,t){for(let n of e instanceof Array?e:[e])Q.set(n,[...Q.get(n)||[],t]);return eR},prev:function(e={}){return eT(V-1,e),eR},remove:function(e){void 0===e&&(e=N.length-1);let t=N[e];return t&&(ee("removeSlide",t),t.el&&(ev(t.el),t.el.remove(),t.el=void 0),N.splice(e,1),ei(_),em(),ex()),eR},setPosition:function(e){I=e,eo(),ex()},showError:function(e,t){eM(e),ew(e);let n=e.el;if(n){let i=document.createElement("div");c(i,"f-html"),c(i,"is-error"),i.innerHTML=K(t||"<p>{{ERROR}}</p>"),e.htmlEl=i,c(n,"has-html"),c(n,"has-error"),n.insertAdjacentElement("afterbegin",i),ee("contentReady",e)}return eR},showLoading:function(e){let t=e.el,n=t?.querySelector(".f-spinner");if(!t||n)return eR;let i=d(J("spinnerTpl"));return i&&(c(i,"f-spinner"),c(t,"is-loading"),t.insertAdjacentElement("beforeend",i)),eR},version:"6.0.0"};return eR};U.l10n={en_EN:N},U.getDefaults=()=>q,e.Carousel=U,e.CarouselSlideContentState=$,e.CarouselState=k});