!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,o=!1,n=!1,i=!1,l=!1,a=()=>{let e=new URL(document.URL).hash,t=e.slice(1).split("-"),o=t[t.length-1],n=o&&/^\+?\d+$/.test(o)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}},s=()=>{if(!t||t.getInstance())return;let{slug:e,index:o}=a();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!t||t.getInstance())return;let i=document.querySelectorAll(`[data-fancybox="${e}"]`);i.length&&(n=i[o-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},r=()=>{if(!t||i)return;let e=t?.getInstance();if(e?.getOptions().Hash===!1)return;let{slug:o,index:n}=a(),r=e?.getSlide()?.fancybox||e?.getSlide()?.slug||void 0;e&&r&&(o===r?e.getCarousel()?.goTo(n-1):(l=!0,e.close(),l=!1)),s()},c=()=>{t&&setTimeout(()=>{o=!0,s(),o=!1,window.addEventListener("hashchange",r,!1)},300)},d=()=>{let e,t="auto",s="";function r(){if(!e?.isTopMost()||e?.getOptions().Hash===!1)return;let i=e?.getCarousel();if(!i)return;let{hash:l,slug:r}=a(),d=e?.getSlide();if(!d)return;let u=d.fancybox||"",f=parseInt(d.index+"",10)+1;if(!u)return;let w=`#${u}-${f}`;l!==w&&(s=l),history.scrollRestoration&&(t=history.scrollRestoration,history.scrollRestoration="manual"),i.on("change",c),o||(u===r?window.history.replaceState({},document.title,window.location.pathname+window.location.search+w):(n=!0,window.history.pushState({},document.title,window.location.pathname+window.location.search+w)))}function c(){if(!e?.isTopMost())return;let{slug:t}=a(),o=e?.getSlide();if(!o)return;let n=o.fancybox||"",l=o.index+1,s=`#${n}-${l}`;n===t&&(i=!0,window.history.replaceState({},document.title,window.location.pathname+window.location.search+s),i=!1)}function d(){if(!e?.isTopMost()||e?.getOptions().Hash===!1)return;let t=e?.getSlide();t&&t.fancybox&&(l||(i=!0,n&&!o?window.history.back():window.history.replaceState({},document.title,window.location.pathname+window.location.search+s),i=!1))}return{init:function(t){(e=t).on("ready",r),e.on("close",d)},destroy:function(){e?.off("ready",r),e?.off("close",d);let o=e?.getCarousel();o&&o.off("change",c),e=void 0,history.scrollRestoration&&t&&(history.scrollRestoration=t)}}};d.startFromUrl=s,d.setup=function(e){!t&&(t=e,"undefined"!=typeof window&&window.document&&window.document.createElement&&(/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)))},e.Hash=d});