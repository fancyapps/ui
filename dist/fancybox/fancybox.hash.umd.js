!/*! License details at fancyapps.com/license */function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,function(t){"use strict";let e,o=!1,n=!1,i=!1,a=!1,l=()=>{let t=new URL(document.URL).hash,e=t.slice(1).split("-"),o=e[e.length-1],n=o&&/^\+?\d+$/.test(o)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:n}},r=()=>{if(!e||e.getInstance())return;let{slug:t,index:o}=l();if(!t)return;let n=document.querySelector(`[data-slug="${t}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!e||e.getInstance())return;let i=document.querySelectorAll(`[data-fancybox="${t}"]`);i.length&&(n=i[o-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},c=()=>{if(!e||i)return;let t=e?.getInstance();if(t?.getOptions().Hash===!1)return;let{slug:o,index:n}=l(),c=t?.getSlide()?.fancybox||t?.getSlide()?.slug||void 0;t&&c&&(o===c?t.getCarousel()?.goTo(n-1):(a=!0,t.close(),a=!1)),r()},s=()=>{e&&setTimeout(()=>{o=!0,r(),o=!1,window.addEventListener("hashchange",c,!1)},300)},d=()=>{let t,e="auto",r="";function c(){if(!t?.isTopMost()||t?.getOptions().Hash===!1)return;let i=t?.getCarousel();if(!i)return;let{hash:a,slug:c}=l(),d=t?.getSlide();if(!d)return;let u=d.fancybox||"",f=parseInt(d.index+"",10)+1;if(!u)return;let h=`#${u}-${f}`;if(a!==h&&(r=a),history.scrollRestoration&&(e=history.scrollRestoration,history.scrollRestoration="manual"),i.on("change",s),!o)if(u===c)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+h)}catch(t){}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+h),n=!0}catch(t){}}function s(){if(!t?.isTopMost())return;let{slug:e}=l(),o=t?.getSlide();if(!o)return;let n=o.fancybox||"",a=o.index+1,r=`#${n}-${a}`;if(n===e){i=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+r)}catch(t){}i=!1}}function d(){if(!t?.isTopMost()||t?.getOptions().Hash===!1)return;let e=t?.getSlide();if(e&&e.fancybox&&!a){i=!0;try{n&&!o?window.history.back():window.history.replaceState({},document.title,window.location.pathname+window.location.search+r)}catch(t){}i=!1}}return{init:function(e){(t=e).on("ready",c),t.on("close",d)},destroy:function(){t?.off("ready",c),t?.off("close",d);let o=t?.getCarousel();o&&o.off("change",s),t=void 0,history.scrollRestoration&&e&&(history.scrollRestoration=e)}}};d.startFromUrl=r,d.setup=function(t){!e&&(e=t,"undefined"!=typeof window&&window.document&&window.document.createElement&&(/complete|interactive|loaded/.test(document.readyState)?s():document.addEventListener("DOMContentLoaded",s)))},t.Hash=d});