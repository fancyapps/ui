!/*! License details at fancyapps.com/license */function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,function(t){"use strict";let e,n=!1,o=!1,i=!1,r=!1,a=()=>{let t=new URL(document.URL).hash,e=t.slice(1).split("-"),n=e[e.length-1],o=n&&/^\+?\d+$/.test(n)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:o}},l=()=>{if(!e||e.getInstance())return;let{slug:t,index:n}=a();if(!t||!e||e.getInstance())return;let o=document.querySelectorAll(`[data-fancybox="${t}"]`);if(!o.length)return;let i=o[n-1];i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},s=()=>{if(!e||i)return;let t=e?.getInstance();if(t?.getOptions().Hash===!1)return;let{slug:n,index:o}=a(),s=t?.getSlide()?.fancybox||void 0;t&&s&&(n===s?t.getCarousel()?.goTo(o-1):(r=!0,t.close(),r=!1)),l()},c=()=>{e&&setTimeout(()=>{n=!0,l(),n=!1,window.addEventListener("hashchange",s,!1)},300)},d=()=>{let t,e="auto",l="";function s(){if(!t||!t.isTopMost()||!1===t.getOptions().Hash)return;let i=t.getCarousel();if(!i)return;let{hash:r,slug:s}=a(),d=t.getSlide();if(!d)return;let u=d.fancybox||"",f=parseInt(d.index+"",10)+1;if(!u)return;let w=`#${u}-${f}`;if(2>(t.getCarousel()?.getPages()?.length||0)&&(w=`#${u}`),r!==w&&(l=r),history.scrollRestoration&&(e=history.scrollRestoration,history.scrollRestoration="manual"),i.on("change",c),!n)if(u===s)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+w)}catch(t){}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+w),o=!0}catch(t){}}function c(){if(!t||!t.isTopMost()||!1===t.getOptions().Hash)return;let{slug:e}=a(),n=t.getSlide();if(!n)return;let o=n.fancybox||"",r=n.index+1,l=`#${o}-${r}`;if(o===e){i=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+l)}catch(t){}i=!1}}function d(){if(r||!t||!t.isTopMost()||!1===t.getOptions().Hash)return;let e=t.getSlide();if(e&&e.fancybox){i=!0;try{o&&!n&&!function(){if(window.parent===window)return!1;try{var t=window.frameElement}catch(e){t=null}return null===t?"data:"===location.protocol:t.hasAttribute("sandbox")}()?window.history.back():window.history.replaceState({},document.title,window.location.pathname+window.location.search+l)}catch(t){}i=!1}}return{init:function(e){(t=e).on("ready",s),t.on("close",d)},destroy:function(){t?.off("ready",s),t?.off("close",d);let n=t?.getCarousel();n&&n.off("change",c),t=void 0,history.scrollRestoration&&e&&(history.scrollRestoration=e)}}};d.startFromUrl=l,d.setup=function(t){!e&&(e=t,"undefined"!=typeof window&&window.document&&window.document.createElement&&(/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)))},t.Hash=d});