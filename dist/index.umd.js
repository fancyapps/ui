!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,n,o,i,l=e=>"string"==typeof e,a=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,r=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,o=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!o&&!i},s=function(e,t){return!e||e===document.body||t&&e===t?null:r(e)?e:s(e.parentElement,t)},c=function(e){var t=new DOMParser().parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}let o=t.firstChild;if(o&&!(o instanceof HTMLElement)){var n=document.createElement("div");return n.appendChild(o),n}return o},u=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)},d=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e);function f(e){return d(e)||Array.isArray(e)}function g(e,t){let n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(n=>{let o=e[n],i=t[n];return"function"==typeof o?`${o}`==`${i}`:f(o)&&f(i)?g(o,i):o===i})}let m=1/60*3e3,p=function(e){for(let t of C)t.getState()===h.Running&&t.tick(O?e-O:0);O=e,A=window.requestAnimationFrame(p)},h=((v={})[v.Initializing=0]="Initializing",v[v.Running=1]="Running",v[v.Paused=2]="Paused",v[v.Completed=3]="Completed",v[v.Destroyed=4]="Destroyed",v);var v,y,b,E,w,x,M,L,S,T,P=((y=P||{})[y.Spring=0]="Spring",y[y.Ease=1]="Ease",y);let R=((b={})[b.Loop=0]="Loop",b[b.Reverse=1]="Reverse",b),C=new Set,A=null,O=0;function z(){let e=h.Initializing,t=P.Ease,n=0,o=0,i=z.Easings.Linear,l=500,a=0,r=0,s=0,c=0,d=1/0,f=.01,v=.01,y=!1,b={},E=null,w={},x={},M={},L=0,S=0,T=R.Loop,O=z.Easings.Linear,k=new Map;function I(e,...t){for(let n of k.get(e)||[])n(...t)}function $(e){return o=0,e?E=setTimeout(()=>{F()},e):F(),D}function F(){e=h.Running,I("start",w,x)}function _(){if(e=h.Completed,M={},I("end",w),e===h.Completed)if(n<L){if(n++,T===R.Reverse){let e={...b};b={...x},x=e}$(S)}else n=0;return D}let D={getState:function(){return e},easing:function(e){return i=e,t=P.Ease,M={},D},duration:function(e){return l=e,D},spring:function(e={}){t=P.Spring;let{velocity:n,mass:o,tension:i,friction:l,restDelta:u,restSpeed:g,maxSpeed:m,clamp:p}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return a=n,r=o,s=i,c=l,v=u,f=g,d=m,y=p,M={},D},isRunning:function(){return e===h.Running},isSpring:function(){return t===P.Spring},from:function(e){return w={...e},D},to:function(e){return x=e,D},repeat:function(e,t=0,n=R.Loop,o){return L=e,S=t,T=n,O=o||i,D},on:function(e,t){return k.set(e,[...k.get(e)||[],t]),D},off:function(e,t){return k.has(e)&&k.set(e,k.get(e).filter(e=>e!==t)),D},start:function(t){return e=h.Initializing,g(b={...w},x)||(C.add(this),A||(A=window.requestAnimationFrame(p)),$(t)),D},pause:function(){return E&&(clearTimeout(E),E=null),e===h.Running&&(e=h.Paused,I("pause",w)),D},end:_,tick:function(n){n>m&&(n=m),o+=n;let p=0,E=!1;if(e!==h.Running)return D;if(t===P.Ease){E=1===(p=u(0,o/l,1));let e=T===R.Reverse?O:i;for(let t in w)w[t]=b[t]+(x[t]-b[t])*e(p)}if(t===P.Spring){let e=.001*n,t=0;for(let n in w){let o=x[n],i=w[n];if(!("number"==typeof o&&!isNaN(o))||!("number"==typeof i&&!isNaN(i)))continue;if(Math.abs(o-i)<=v){w[n]=o,M[n]=0;continue}M[n]||("object"==typeof a&&"number"==typeof a[n]?M[n]=a[n]:"number"==typeof a?M[n]=a:M[n]=0);let l=M[n],g=(l=u(-1*Math.abs(d),l,Math.abs(d)))*r*c,m=Math.abs(o-i)*s;l+=((i>o?-1:1)*m-g)/r*e,i+=l*e;let p=w[n]>o?i<o:i>o,h=Math.abs(l)<f&&Math.abs(o-i)<=v;y&&p&&(h=!0),h?(i=o,l=0):t++,w[n]=i,M[n]=l}E=!t}let L={...x};return I("step",w,b,x,p),E&&e===h.Running&&g(x,L)&&(e=h.Completed,_()),D},getStartValues:function(){return b},getCurrentValues:function(){return w},getCurrentVelocities:function(){return M},getEndValues:function(){return x},destroy:function(){e=h.Destroyed,E&&(clearTimeout(E),E=null),b=w=x={},C.delete(this)}};return D}function k(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&"mouseup"!==e.type?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function I(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function $(e){let t=e[0],n=e[1]||t;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2,ts:n.ts}}function F(e){let t=e[0],n=e[1]||e[0];return t&&n?-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)):0}z.destroy=()=>{for(let e of C)e.destroy();A&&(cancelAnimationFrame(A),A=null)},z.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};let _=e=>{e.cancelable&&e.preventDefault()},D={passive:!1},H={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]},N=!1,V=!0,j=(e,t)=>{let n,o,i,l={...H,...t},a=[],r=[],s=[],c=!1,u=!1,d=!1,f=0,g=0,m=0,p=0,h=0,v=0,y=0,b=0,E=0,w=[],x=0,M=0,L=new Map;function S(e){let t=F(r),l=F(s),d=Math.abs(y)>Math.abs(b)?y:b,f={srcEvent:i,isPanRecognized:c,isSwipeRecognized:u,firstTouch:a,previousTouch:s,currentTouch:r,deltaX:m,deltaY:p,offsetX:h,offsetY:v,velocityX:y,velocityY:b,velocity:d,angle:E,axis:o,scale:t&&l?t/l:0,center:n};for(let t of L.get(e)||[])t(f)}function T(e){let t=Date.now();w=w.filter(e=>!e.ts||e.ts>t-100),e&&w.push(e)}function P(){if(y=0,b=0,w.length>3){let e=w[0],t=w[w.length-1];if(e&&t){let n=t.x-e.x,o=t.y-e.y,i=e.ts&&t.ts?t.ts-e.ts:0;i>0&&(y=Math.abs(n)>3?n/(i/30):0,b=Math.abs(o)>3?o/(i/30):0)}}}function R(e){if(e instanceof MouseEvent){if(N)return}else N=!0;let t=e.composedPath()[0],o=l.ignore.join(",");if(t.matches(o)||t.closest(o)||"undefined"!=typeof MouseEvent&&e instanceof MouseEvent&&(!e.buttons||0!==e.button))return;e instanceof MouseEvent&&_(e);let m=Date.now(),p=m-(f||m);d=p>0&&p<=250,f=m,clearTimeout(x),i=e,e instanceof MouseEvent&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",A)),window.addEventListener("blur",O),a=[...r=k(e)],s=[],g=r.length,n=$(r),1===g&&(c=!1,u=!1),g&&T($(r)),S("start")}function C(e){if(!a.length||e.defaultPrevented)return;i=e,s=[...r],g=(r=k(e)).length;let t=n=$(r),u=$(s);if(m=t.x-u.x,p=t.y-u.y,T(t),P(),S("move"),r.length>1&&Math.abs(F(r)-F(s))>=.1&&S("pinch"),!c&&a.length){let e=$(a);h=t.x-e.x,v=t.y-e.y,(c=Math.abs(h)>l.panThreshold||Math.abs(v)>l.panThreshold)&&(V=!1,clearTimeout(M),M=0,o=(E=Math.abs(180*Math.atan2(v,h)/Math.PI))>45&&E<135?"y":"x",a=[...r],s=[...r],window.getSelection()?.removeAllRanges(),S("panstart"))}c&&(m||p)&&S("pan")}function A(e){if(i=e,!a.length)return;let t=k(e),o=I(e);if(g=t.length,n=$(o),o.length&&T($(o)),P(),s=[...r],r=[...t],a=[...t],t.length>0)S("end"),c=!1,u=!1,w=[];else{let e=l.swipeThreshold;(Math.abs(y)>e||Math.abs(b)>e)&&(u=!0),c&&S("panend"),u&&S("swipe"),c||u||(S("tap"),d?S("doubleTap"):x=setTimeout(function(){S("singleTap")},250)),S("end"),z()}}function O(){clearTimeout(x),z(),c&&S("panend"),S("end")}function z(){c=!1,u=!1,d=!1,g=0,w=[],r=[],s=[],a=[],m=0,p=0,h=0,v=0,y=0,b=0,E=0,o=void 0,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",A),window.removeEventListener("blur",O),V||M||(M=setTimeout(()=>{V=!0,M=0},100))}function j(e){let t=e.target;N=!1,t&&!e.defaultPrevented&&(V||(_(e),e.stopPropagation()))}let q={init:function(){if(e)return e.addEventListener("click",j,D),e.addEventListener("mousedown",R,D),e.addEventListener("touchstart",R,D),e.addEventListener("touchmove",C,D),e.addEventListener("touchend",A),e.addEventListener("touchcancel",A),q},on:function(e,t){return L.set(e,[...L.get(e)||[],t]),q},off:function(e,t){return L.has(e)&&L.set(e,L.get(e).filter(e=>e!==t)),q},isPointerDown:()=>g>0,destroy:function(){clearTimeout(x),clearTimeout(M),M=0,e&&(e.removeEventListener("click",j,D),e.removeEventListener("mousedown",R,D),e.removeEventListener("touchstart",R,D),e.removeEventListener("touchmove",C,D),e.removeEventListener("touchend",A),e.removeEventListener("touchcancel",A)),e=null,z()}};return q};j.isClickAllowed=()=>V;let q={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset"},B=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.add(t)})},W=1e4,Z=e=>{e.cancelable&&e.preventDefault()},G=(e,t=W)=>Math.round(((e=parseFloat(e+"")||0)+Number.EPSILON)*t)/t,Y=((E={}).Reset="reset",E.Zoom="zoom",E.ZoomIn="zoomIn",E.ZoomOut="zoomOut",E.ZoomTo="zoomTo",E.ToggleCover="toggleCover",E.ToggleFull="toggleFull",E.ToggleMax="toggleMax",E.IterateZoom="iterateZoom",E.Pan="pan",E.Swipe="swipe",E.Move="move",E.MoveLeft="moveLeft",E.MoveRight="moveRight",E.MoveUp="moveUp",E.MoveDown="moveDown",E.RotateCCW="rotateCCW",E.RotateCW="rotateCW",E.FlipX="flipX",E.FlipY="flipY",E),U=((w={}).Cover="cover",w.Full="full",w.Max="max",w),X={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},K=((x={})[x.Init=0]="Init",x[x.Loading=1]="Loading",x[x.Error=2]="Error",x[x.Ready=3]="Ready",x[x.Destroyed=4]="Destroyed",x),J={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:Y.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:q,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:Y.Zoom,width:"auto"},Q=0,ee=0,et=0,en=(e,n={},o={})=>{let i,r,d,f,g,m,p,h=K.Init,v={...J,...n},y={},b={...X},E={...X},w=[];function x(e){let t=v[e];return t&&"function"==typeof t?t(em):t}let M=new Map;function L(e,...t){let n=M.get(e)||[];for(let o of(v.on&&n.push(v.on[e]),n))o&&o instanceof Function&&o(em,...t);"*"!==e&&L("*",e,...t)}function S(e){if(h!==K.Ready||s(e.target))return;let t=Date.now(),n=u(-1,[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),1);L("wheel",e,n);let o=x("wheelAction");if(!o||e.defaultPrevented)return;let i=E.scale,l=i*(n>0?1.5:.5);if(o===Y.Zoom){let o=100>Math.abs(e.deltaY)&&100>Math.abs(e.deltaX);if(t-ee<(o?200:45))return void Z(e);ee=t;let a=_(),r=V();if(G(l)<G(a)&&G(i)<=G(a)?(et+=Math.abs(n),l=a):G(l)>G(r)&&G(i)>=G(r)?(et+=Math.abs(n),l=r):(et=0,l=u(a,l,r)),et>7)return}switch(Z(e),o){case Y.Pan:eo(o,{srcEvent:e,deltaX:-(2*e.deltaX),deltaY:-(2*e.deltaY)});break;case Y.Zoom:eo(Y.ZoomTo,{srcEvent:e,scale:l,center:{x:e.clientX,y:e.clientY}});break;default:eo(o,{srcEvent:e})}}function T(n){let o=n.composedPath()[0];if(!j.isClickAllowed()||!a(o)||n.defaultPrevented||!e?.contains(o)||o.hasAttribute("disabled")||o.hasAttribute("aria-disabled"))return;let l=o.closest("[data-panzoom-action]"),r=l?.dataset?.panzoomAction,s=l?.dataset?.panzoomValue||"";if(r){switch(r){case Y.ZoomTo:case Y.ZoomIn:case Y.ZoomOut:eo(r,{scale:parseFloat(s||"")||void 0});break;case Y.MoveLeft:case Y.MoveRight:eo(r,{deltaX:parseFloat(s||"")||void 0});break;case Y.MoveUp:case Y.MoveDown:eo(r,{deltaY:parseFloat(s||"")||void 0});break;default:eo(r)}return}if(!i?.contains(o))return;let c={srcEvent:n};if(eo(x("clickAction"),c),x("dblClickAction")){let e=Date.now(),n=e-(Q||e);Q=e,n>0&&n<=250?(t&&(clearTimeout(t),t=void 0),eo(x("dblClickAction"),c)):t=setTimeout(()=>{eo(x("singleClickAction"),c)},250)}}function P(e){if(p=e,!O()||h!==K.Ready||b.scale<=1||E.scale<=1||(i?.dataset.animationName||"").indexOf("zoom")>-1)return;let t=k(E.scale);if(!t)return;let{x:n,y:o}=t;eo(Y.Pan,{deltaX:n-E.x,deltaY:o-E.y})}function R(){if(e&&(e.querySelector(".f-spinner")?.remove(),e.classList.remove("is-loading")),!e||!i)return;if(r instanceof HTMLImageElement&&!(r.complete&&r.naturalWidth)){h=K.Error,i?.classList.add("has-error"),L("error");return}L("loaded");let{width:t,height:n}=A();r&&(r.setAttribute("width",t+""),r.setAttribute("height",n+"")),i&&(i.classList.remove("has-error"),i.setAttribute("width",t+""),i.setAttribute("height",n+""),i.style.aspectRatio=`${t/n||""}`),g=z().on("start",(e,t)=>{E={...X,...t},void 0!==t.angle&&(t.angle=90*Math.round(t.angle/90)),void 0!==t.flipX&&(t.flipX=t.flipX>0?1:-1),void 0!==t.flipY&&(t.flipY=t.flipY>0?1:-1),en(),L("animationStart")}).on("pause",e=>{E={...X,...e}}).on("step",t=>{if(h!==K.Ready||!g)return;if(!e||!e.parentElement)return void g.end();if(b={...X,...t},O()||!x("bounds")||f?.isPointerDown()||E.scale>b.scale||E.scale<D())return void ei();let n=q(E.scale),o=!1,i=!1,l=!1,a=!1;b.x<n.x[0]&&(o=!0),b.x>n.x[1]&&(i=!0),b.y<n.y[0]&&(a=!0),b.y>n.y[1]&&(l=!0);let r=!1,s=!1,c=!1,d=!1;E.x<n.x[0]&&(r=!0),E.x>n.x[1]&&(s=!0),E.y<n.y[0]&&(d=!0),E.y>n.y[1]&&(c=!0);let m=!1;(i&&s||o&&r)&&(E.x=u(n.x[0],E.x,n.x[1]),m=!0),(l&&c||a&&d)&&(E.y=u(n.y[0],E.y,n.y[1]),m=!0),m&&g.spring({tension:94,friction:17,maxSpeed:555*E.scale,restDelta:.1,restSpeed:.1,velocity:g.getCurrentVelocities()}).from(b).to(E).start(),ei()}).on("end",()=>{U(),g?.isRunning()||(en(),L("animationEnd"))}),function(){let e=x("gestures");e&&d&&r&&(f=j(d,e).on("start",e=>{if(!g)return;let t=e.srcEvent;O()||((b.scale>1||e.currentTouch.length>1)&&(t?.stopPropagation(),g.pause()),1===e.currentTouch.length&&L("touchStart"))}).on("move",e=>{!O()&&(1!==E.scale||e.currentTouch.length>1)&&(e.srcEvent.preventDefault(),e.srcEvent.stopPropagation())}).on("pan",e=>{if(O())return;let t=e.srcEvent;(1!==E.scale||e.currentTouch.length>1)&&(Z(t),eo(Y.Pan,e))}).on("swipe",e=>{!O()&&E.scale>1&&eo(Y.Swipe,e)}).on("tap",e=>{L("click",e)}).on("singleTap",e=>{L("singleClick",e)}).on("doubleTap",e=>{L("dblClick",e)}).on("pinch",e=>{O()||(e.scale>D()?eo(Y.ZoomIn,e):e.scale<D()?eo(Y.ZoomOut,e):eo(Y.Pan,e))}).on("end",e=>{O()||(e.currentTouch.length?(e.srcEvent.stopPropagation(),Z(e.srcEvent),g?.end()):(en(),U(),L("touchEnd")))}).init())}(),d&&(d.addEventListener("wheel",S,{passive:!1}),w.push(()=>{d?.removeEventListener("wheel",S,{passive:!1})})),e?.addEventListener("click",T),document?.addEventListener("mousemove",P),w.push(()=>{e?.removeEventListener("click",T),document?.removeEventListener("mousemove",P)});let o={...x("startPos")||{},...{scale:D()}};if(b={...X,...o},E={...X,...o},O()){let e=k(E.scale);if(e){let{x:t,y:n}=e;b.x=t,b.y=n,E.x=t,E.y=n}}h=K.Ready,ei(),en(),L("ready"),requestAnimationFrame(()=>{d&&(d.style.visibility="")})}function C(){let e={top:0,left:0,width:0,height:0};if(i){let t=i.getBoundingClientRect();E.angle%180==90?(e.top=t.top+.5*t.height-.5*t.width,e.left=t.left+.5*t.width-.5*t.height,e.width=t.height,e.height=t.width):(e.top=t.top,e.left=t.left,e.width=t.width,e.height=t.height)}return e}function A(){let e=x("width"),t=x("height");if(r&&"auto"===e){let t=r.getAttribute("width");e=t?parseFloat(t+""):void 0!==r.dataset.width?parseFloat(r.dataset.width+""):d instanceof HTMLImageElement?d.naturalWidth:r instanceof HTMLImageElement?r.naturalWidth:r.getBoundingClientRect().width}else e=l(e)?parseFloat(e):e;if(r&&"auto"===t){let e=r.getAttribute("height");t=e?parseFloat(e+""):void 0!==r.dataset.height?parseFloat(r.dataset.height+""):d instanceof HTMLImageElement?d.naturalHeight:r instanceof HTMLImageElement?r.naturalHeight:r.getBoundingClientRect().height}else t=l(t)?parseFloat(t):t;return{width:e,height:t}}function O(){return"mousemove"===x("panMode")&&matchMedia("(hover: hover)").matches}function k(e){let t=p||x("event"),n=i?.getBoundingClientRect();if(!t||!n||e<=1)return{x:0,y:0};let o=(t.clientX||0)-n.left,l=(t.clientY||0)-n.top,a=n.width,r=n.height,s=q(e);if(e>1){let t=x("mouseMoveFactor");t>1&&(e*=t)}let c=a*e,d=r*e,f=(c-a)*.5-o/a*100/100*(c-a),g=(d-r)*.5-l/r*100/100*(d-r);return{x:f=u(s.x[0],f,s.x[1]),y:g=u(s.y[0],g,s.y[1])}}function F(t="base"){if(!e)return 1;let n=e.getBoundingClientRect(),o=C(),{width:i,height:l}=A(),a=e=>{if("number"==typeof e)return e;switch(e){case"min":case"base":return 1;case"cover":return Math.max(n.height/o.height,n.width/o.width)||1;case"full":case"max":{let e=E.angle%180==90?l:i;return e&&o.width?e/o.width:1}}},r=x("minScale"),s=x("maxScale"),c=Math.min(a("full"),a(r)),d="number"==typeof s?a("full")*s:Math.min(a("full"),a(s));switch(t){case"min":return c;case"base":return u(c,1,d);case"cover":return a("cover");case"full":return Math.min(d,a("full"));case"max":return d}}function _(){return F("min")}function D(){return F("base")}function H(){return F("cover")}function N(){return F("full")}function V(){return F("max")}function q(t){let n={x:[0,0],y:[0,0]},o=e?.getBoundingClientRect();if(!o)return n;let i=C(),l=o.width,a=o.height,r=i.width,s=i.height,c=t=void 0===t?E.scale:t,u=t;if(O()&&t>1){let e=x("mouseMoveFactor");e>1&&(r*t>l+.01&&(c*=e),s*t>a+.01&&(u*=e))}return r*=c,s*=u,t>1&&(r>l&&(n.x[0]=(l-r)*.5,n.x[1]=(r-l)*.5),n.x[0]-=(i.left-o.left)*.5,n.x[1]-=(i.left-o.left)*.5,n.x[0]-=(i.left+i.width-o.right)*.5,n.x[1]-=(i.left+i.width-o.right)*.5,s>a&&(n.y[0]=(a-s)*.5,n.y[1]=(s-a)*.5),n.y[0]-=(i.top-o.top)*.5,n.y[1]-=(i.top-o.top)*.5,n.y[0]-=(i.top+i.height-o.bottom)*.5,n.y[1]-=(i.top+i.height-o.bottom)*.5),n}function U(){if(!x("bounds")||h!==K.Ready||!e?.parentElement||!g||!f)return;let t=_(),n=V(),o=u(t,E.scale,n);if(E.scale<t-.01||E.scale>n+.01)return void eo(Y.ZoomTo,{scale:o});if(g.isRunning()||f.isPointerDown())return;let i=q(o);E.x<i.x[0]||E.x>i.x[1]||E.y<i.y[0]||E.y>i.y[1]?(E.x=u(i.x[0],E.x,i.x[1]),E.y=u(i.y[0],E.y,i.y[1]),g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:g.getCurrentVelocities()}),g.from(b).to(E).start()):ei()}function en(){if(!e||!e.parentElement||!i)return;let t=eu(),n=ed(),o=ef(),l=eg(),a=ea(),r=er();i.classList.toggle("is-fullsize",l),i.classList.toggle("is-expanded",o),i.classList.toggle("is-dragging",n),i.classList.toggle("can-drag",t),i.classList.toggle("will-zoom-in",a),i.classList.toggle("will-zoom-out",r);let s=es(),c=ec(),u=h!==K.Ready;for(let t of e?.querySelectorAll("[data-panzoom-action]")||[]){let e=t.dataset.panzoomAction,n=!1;if(u)n=!0;else switch(e){case Y.ZoomIn:s||(n=!0);break;case Y.ZoomOut:c||(n=!0);break;case Y.ToggleFull:s||c||(n=!0);let o=t.querySelector("g");o&&(o.style.display=l?"none":"");break;case Y.ToggleCover:case Y.ToggleMax:s||c||(n=!0)}n?(t.setAttribute("aria-disabled",""),t.setAttribute("tabindex","-1")):(t.removeAttribute("aria-disabled"),t.removeAttribute("tabindex"))}}function eo(t,n){if(!e||!r||!g||t===Y.Swipe&&Math.abs(g.getCurrentVelocities().scale)>.01)return;let o={...E},i=q(O()?E.scale:b.scale),l=g.getCurrentVelocities(),a=C();n=n||{};let s=(n.currentTouch?.length||0)>1,c=n.velocityX||0,d=n.velocityY||0,m=n.center;!m&&n.srcEvent&&(m=$(I(n.srcEvent)));let p=n.deltaX||0,h=n.deltaY||0;switch(t){case Y.MoveRight:p=n.deltaX||100;break;case Y.MoveLeft:p=n.deltaX||-100;break;case Y.MoveUp:h=n.deltaY||-100;break;case Y.MoveDown:h=n.deltaY||100}let v=[];switch(t){case Y.Reset:(E={...X}).scale=D();break;case Y.Pan:case Y.Move:case Y.MoveLeft:case Y.MoveRight:case Y.MoveUp:case Y.MoveDown:if(f?.isPointerDown()){let e=1,t=1;E.x<=i.x[0]&&c<=0&&(e=.2*Math.max(.01,1-Math.abs(1/a.width*Math.abs(E.x-i.x[0])))),E.x>=i.x[1]&&c>=0&&(e=.2*Math.max(.01,1-Math.abs(1/a.width*Math.abs(E.x-i.x[1])))),E.y<=i.y[0]&&d<=0&&(t=.2*Math.max(.01,1-Math.abs(1/a.height*Math.abs(E.y-i.y[0])))),E.y>=i.y[1]&&d>=0&&(t=.2*Math.max(.01,1-Math.abs(1/a.height*Math.abs(E.y-i.y[1])))),E.x+=p*e,E.y+=h*t}else E.x=u(i.x[0],E.x+p,i.x[1]),E.y=u(i.y[0],E.y+h,i.y[1]);break;case Y.Swipe:let y=(e=0)=>Math.sign(e)*Math.pow(Math.abs(e),1.5);E.x+=u(-1e3,y(c),1e3),E.y+=u(-1e3,y(d),1e3),d&&!c&&(E.x=u(i.x[0],E.x,i.x[1])),!d&&c&&(E.y=u(i.y[0],E.y,i.y[1])),l.x=c,l.y=d;break;case Y.ZoomTo:E.scale=n.scale||1;break;case Y.ZoomIn:E.scale=E.scale*(n.scale||2),s||(E.scale=Math.min(E.scale,V()));break;case Y.ZoomOut:E.scale=E.scale*(n.scale||.5),s||(E.scale=Math.max(E.scale,_()));break;case Y.ToggleCover:v=[D(),H()];break;case Y.ToggleFull:v=[D(),N()];break;case Y.ToggleMax:v=[D(),V()];break;case Y.IterateZoom:v=[D(),N(),V()];break;case Y.Zoom:let w=N();E.scale>=w-.05?E.scale=D():E.scale=Math.min(w,E.scale*(n.scale||2));break;case Y.RotateCW:E.angle+=90;break;case Y.RotateCCW:E.angle-=90;break;case Y.FlipX:E.flipX*=-1;break;case Y.FlipY:E.flipY*=-1}if(void 0!==b.angle&&Math.abs(b.angle)>=360&&(E.angle-=360*Math.floor(b.angle/360),b.angle-=360*Math.floor(b.angle/360)),v.length){let e=v.findIndex(e=>e>E.scale+1/W);E.scale=v[e]||v[0]}if(s&&(E.scale=u(_()*(s?.8:1),E.scale,V()*(s?1.6:1))),O()){let e=k(E.scale);if(e){let{x:t,y:n}=e;E.x=t,E.y=n}}else if(E.scale!==o.scale){let t=0,n=0;if(m)t=m.x,n=m.y;else{let o=e.getBoundingClientRect();t=o.x+.5*o.width,n=o.y+.5*o.height}let l=t-a.left,r=n-a.top;l-=.5*a.width,r-=.5*a.height;let c=(l-o.x)/o.scale,d=(r-o.y)/o.scale;E.x=l-c*E.scale,E.y=r-d*E.scale,!s&&x("bounds")&&(i=q(E.scale),E.x=u(i.x[0],E.x,i.x[1]),E.y=u(i.y[0],E.y,i.y[1]))}if(t===Y.Swipe){let e=500*E.scale;g.spring({tension:94,friction:17,maxSpeed:e,restDelta:.1,restSpeed:.1,velocity:l})}else t===Y.Pan||s?g.spring({tension:750,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:l});t===Y.Reset&&0===n.velocity?b={...E}:g.from(b).to(E).start(),L("action",t)}function ei(){if(!i||!r)return;if(r instanceof HTMLImageElement){let{width:e,height:t}=A();i.style.maxWidth=`min(${e}px, 100%)`,i.style.maxHeight=`min(${t}px, 100%)`}let{x:t,y:n,scale:o,angle:l,flipX:a,flipY:s}=b,c=`translate3d(${t}px, ${n}px, 0)`;1!==a||1!==s?c+=` scaleX(${o*a}) scaleY(${o*s})`:1!==o&&(c+=` scale(${o})`),l%360!=0&&(c+=` rotate(${l}deg)`);let u=function(){let t=C(),n=t.width,o=t.height,{width:i,height:l}=A();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:n,fitHeight:o,fullWidth:i,fullHeight:l};let{x:a,y:r,scale:s,angle:c,flipX:u,flipY:d}=b,f=1/N(),g=i,m=l,p=b.scale*f,h=E.scale*f,v=Math.max(n,o),y=Math.min(n,o);i>l?(g=v,m=y):(g=y,m=v),p=i>l?v*s/i||1:v*s/l||1;let w=g?i*h:0,x=m?l*h:0,M=g&&m?i*p/w:0;return{x:a=a+.5*g-.5*w,y:r=r+.5*m-.5*x,width:w,height:x,scale:M,flipX:u,flipY:d,angle:c,fitWidth:n,fitHeight:o,fullWidth:i,fullHeight:l}}();if(i&&u){let{x:e,y:t,width:n,height:o,scale:i,flipX:a,flipY:r}=u,s=`translate(${G(e)}px, ${G(t)}px)`;1!==a||1!==r?s+=` scaleX(${G(i*a)}) scaleY(${G(i*r)})`:s+=` scale(${G(i)})`,0!==l&&(s+=` rotate(${l}deg)`),d&&(d.style.width=`${G(n)}px`,d.style.height=`${G(o)}px`,d.style.transform=`${s}`)}L("render")}function el(){let e=E.scale,t=void 0,n=x("clickAction"),o=D();if(n){let i=[];switch(n){case Y.ZoomIn:o=e*(t||2);break;case Y.ZoomOut:o=e*(t||.5);break;case Y.ToggleCover:i=[D(),H()];break;case Y.ToggleFull:i=[D(),N()];break;case Y.ToggleMax:i=[D(),V()];break;case Y.IterateZoom:i=[D(),N(),V()];break;case Y.Zoom:let l=N();o=e>=l-.05?D():Math.min(l,e*(t||2))}if(i.length){let t=i.findIndex(t=>t>e+1/W);o=i[t]||D()}}return u(_(),o,V())}function ea(){return h===K.Ready&&el()>E.scale}function er(){return h===K.Ready&&el()<E.scale}function es(){return h===K.Ready&&E.scale<V()}function ec(){return h===K.Ready&&E.scale>_()}function eu(){return h===K.Ready&&ef()&&!!f&&!O()}function ed(){return h===K.Ready&&f?.isPointerDown()&&!O()}function ef(){return h===K.Ready&&E.scale>D()}function eg(){return h===K.Ready&&E.scale>=N()}let em={canDrag:eu,canZoomIn:es,canZoomOut:ec,destroy:function(){for(let e of(L("destroy"),Object.values(y)))e?.destroy(em);for(let e of w)e();return i&&(i.style.aspectRatio="",i.style.maxWidth="",i.style.maxHeight=""),d&&(d.style.width="",d.style.height="",d.style.transform=""),i=void 0,r=void 0,d=void 0,b={...X},E={...X},g?.destroy(),g=void 0,f?.destroy(),f=void 0,h=K.Destroyed,em},emit:L,execute:eo,getBoundaries:q,getContainer:function(){return e},getFullDim:A,getGestures:function(){return f},getMousemovePos:k,getOptions:function(){return v},getScale:F,getState:function(){return h},getTransform:function(e){return!0===e?E:b},getTween:function(){return g},getViewport:function(){return d},getWrapper:function(){return i},init:function(){return h=K.Init,L("init"),function(){for(let[e,t]of Object.entries({...o,...v.plugins||{}}))if(e&&!y[e]&&t instanceof Function){let n=t();n.init(em),y[e]=n}L("initPlugins")}(),function(){if(!e)return;let t={...J.classes,...x("classes")};if((B(e,t.container),r=e.querySelector("."+t.content))&&(r.setAttribute("draggable","false"),(i=e.querySelector("."+t.wrapper))||(B(i=document.createElement("div"),t.wrapper),r.insertAdjacentElement("beforebegin",i),i.insertAdjacentElement("afterbegin",r)),r instanceof HTMLImageElement||r instanceof HTMLPictureElement)){if(!(d=e.querySelector("."+t.viewport))){B(d=document.createElement("div"),t.viewport);let e=r.cloneNode(!0);e.classList.remove("is-lazyloading"),e.classList.remove("is-lazyloaded"),d.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",d)}if(r instanceof HTMLPictureElement&&(r=r.querySelector("img")),d instanceof HTMLPictureElement&&(d=d.querySelector("img")),d.style.visibility="hidden",x("protected")){console.log("protected"),d.addEventListener("contextmenu",e=>{e.preventDefault()});let e=document.createElement("div");B(e,"f-panzoom__protected"),d.appendChild(e)}L("initLayout")}}(),function(){if(!(r&&r instanceof HTMLImageElement))return;let t=()=>{r&&r instanceof HTMLImageElement&&r.decode().then(()=>{requestAnimationFrame(()=>{R()})}).catch(()=>{R()})};if(r.src&&r.complete)return t();h=K.Loading,function(){let t=e?.querySelector(".f-spinner");if(!e||t)return;let n=c(x("spinnerTpl"));n&&(n.classList.add("f-spinner"),e.classList.add("is-loading"),i?.insertAdjacentElement("afterbegin",n))}(),L("loading"),r.addEventListener("load",t,!1),r.addEventListener("error",t,!1),w.push(()=>{r?.removeEventListener("load",t,!1),r?.removeEventListener("error",t,!1)})}(),function(){if(e&&!m){let t=null;(m=new ResizeObserver(()=>{t||(t=requestAnimationFrame(()=>{e&&e.parentElement&&h===K.Ready&&(en(),U(),L("refresh")),t=null}))})).observe(e),w.push(()=>{m?.disconnect(),m=void 0,t&&(cancelAnimationFrame(t),t=null)})}}(),em},isDragging:ed,isExpanded:ef,isFullsize:eg,localize:function(e,t=[]){let n=x("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)},off:function(e,t){for(let n of e instanceof Array?e:[e])M.has(n)&&M.set(n,M.get(n).filter(e=>e!==t));return em},on:function(e,t){for(let n of e instanceof Array?e:[e])M.set(n,[...M.get(n)||[],t]);return em},version:"6.0.8",willZoomIn:ea,willZoomOut:er};return em};en.l10n={en_EN:q},en.getDefaults=()=>J;let eo=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(!t||e.matches(t))&&n.push(e)}),n},ei=(e,...t)=>{let n=t.length;for(let o=0;o<n;o++)Object.entries(t[o]||{}).forEach(([t,n])=>{let o=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:o}),d(n)?Object.assign(e[t],ei(o,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})});return e},el=function(e=0,t=0,n=0,o=0,i=0,l=!1){let a=(e-t)/(n-t)*(i-o)+o;return l?o<i?u(o,a,i):u(i,a,o):a},ea=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.remove(t)})},er=(e,t="",n)=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.toggle(t,n||!1)})},es={...q,ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"},ec=e=>{e.cancelable&&e.preventDefault()},eu=((M={})[M.Init=0]="Init",M[M.Ready=1]="Ready",M[M.Destroyed=2]="Destroyed",M),ed=((L={})[L.Loading=0]="Loading",L[L.Loaded=1]="Loaded",L[L.Error=2]="Error",L),ef={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:es,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:200,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1},eg=0,em=(e,t={},o={})=>{let i,r,f,g,m;eg++;let p=eu.Init,h={...ef},v={...ef},y={},b=null,E=null,w=!1,x=!1,M=!1,L=!1,S="height",T=0,P=!0,R=0,C=0,A=0,O=0,k="*",I=[],$=[],F=new Set,_=[],D=[],H=0,N=0;function V(e,...t){let n=v[e];return n&&n instanceof Function?n(eC,...t):n}function q(e,t=[]){let n=V("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let W=new Map;function Z(e,...t){let n=W.get(e)||[];for(let o of(v.on&&n.push(v.on[e]),n))o&&o instanceof Function&&o(eC,...t);"*"!==e&&Z("*",e,...t)}function G(){let e=ei({},ef,h);ei(e,ef,h);let t="",n=h.breakpoints||{};if(n)for(let[o,i]of Object.entries(n))window.matchMedia(o).matches&&(t+=o,ei(e,i));if(void 0===m||t!==m){if(m=t,p!==eu.Init){let t=D[R]?.slides[0]?.index;for(let n of(void 0===t&&(t=v.initialSlide),e.initialSlide=t,e.slides=[],I))n.isVirtual&&e.slides.push(n)}eR(),!1!==(v=e).enabled&&(p=eu.Init,Z("init"),function(){for(let[e,t]of Object.entries({...o,...v.plugins||{}}))if(e&&!y[e]&&t instanceof Function){let n=t();n.init(eC,em),y[e]=n}Z("initPlugins")}(),function(){if(!b)return;let e=V("classes")||{};B(b,e.container),B(b,e.isEnabled);let t=V("style");if(t&&d(t))for(let[e,n]of Object.entries(t))b.style.setProperty(e,n);(E=b.querySelector(`.${e.viewport}`))||(B(E=document.createElement("div"),e.viewport),E.append(...eo(b,`.${e.slide}`)),b.insertAdjacentElement("afterbegin",E)),w="visible"===window.getComputedStyle(E).getPropertyValue("overflow"),b.carousel=eC,Z("initLayout")}(),function(){if(!E)return;let e=V("classes")||{};for(let t of(I=[],[...eo(E,`.${e.slide}`)].forEach(e=>{e.parentElement&&(I.push(ed({el:e,isVirtual:!1,...e.dataset||{}})),e.parentElement.removeChild(e))}),es(V("slides")),I))Z("addSlide",t);Z("initSlides")}(),r=z().on("start",()=>{P=!1,i&&i.isPointerDown()||(X(),eP())}).on("step",e=>{T=e.pos,eP()}).on("end",e=>{!i?.isPointerDown()&&(T=e.pos,r&&!x&&(T<A||T>O)?r.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:T}).to({pos:u(A,T,O)}).start():P||(P=!0,Z("settle")))}),function(){let e=V("gestures");E&&!1!==e&&(i=j(E,e).on("start",e=>{if(!r)return;let{srcEvent:t}=e;L&&ec(t),r.pause(),r.getCurrentVelocities().pos=0;let n=D[R]?.slides[0];n&&F.has(n.index)&&n.el&&(T=(n.offset||0)+(function(e){let t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);return{width:t.m41||0,height:t.m42||0}}(n.el)[S]||0)*(M&&!L?1:-1)),eE(),!x&&(T<A||T>O)&&r.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:r.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:T}).to({pos:u(A,T,O)}).start()}).on("move",e=>{let{srcEvent:t,axis:n}=e,o=e.srcEvent.target;o&&s(o)||(n||(t.stopPropagation(),t.stopImmediatePropagation()),("y"===n&&L||"x"===n&&!L)&&(ec(t),t.stopPropagation()))}).on("panstart",e=>{e?.axis===(L?"y":"x")&&B(E,"is-dragging")}).on("panend",()=>{ea(E,"is-dragging")}).on("pan",e=>{let{deltaX:t,deltaY:n,currentTouch:o,axis:i}=e;if(!r||o.length>1||"y"===i&&!L||"x"===i&&L)return;let l=M&&!L?1:-1,a=L?n:t,s=r?.isRunning()?r.getEndValues().pos:T,c=1;!x&&(s<=A&&a*l<0?c=.2*Math.max(.01,1-Math.abs(1/et()*Math.abs(s-A))):s>=O&&a*l>0&&(c=.2*Math.max(.01,1-Math.abs(1/et()*Math.abs(s-O))))),s+=a*c*l,r.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:r.getCurrentVelocities()?.pos||0,restDelta:1,restSpeed:1}).from({pos:T}).to({pos:s}).start()}).on("end",e=>{let{axis:t,velocityX:n,velocityY:o,currentTouch:i}=e,l=D.length,a=V("dragFree");if(i.length>0||!r||!l)return;let s=V("vertical")?o:n,c=r?.isRunning()?r.getEndValues().pos:T,d=M&&!L?1:-1;if(c+=s*(a?5:1)*d,!x&&(s*d<=0&&c<A||s*d>=0&&c>O)){let e=0;Math.abs(s)>0&&(e=2*Math.abs(s),e=Math.min(.3*et(),e)),c=u(A+-1*e,c,O+e),r.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*s,restDelta:1,restSpeed:1}).from({pos:T}).to({pos:c}).start();return}if(a||y.Autoscroll?.isEnabled())return void(Math.abs(s)>10?r.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*s,restDelta:1,restSpeed:1}).from({pos:T}).to({pos:c}).start():r.isRunning()||P||(P=!0,Z("settle")));if(!(a||y.Autoscroll?.isEnabled())&&(!(e.offsetX||e.offsetY)||"y"===t&&!L||"x"===t&&L))return void eT(R,{transition:"tween"});let f=Q(c);Math.abs(s)>10&&f===R&&(s>0?f+=M&&!L?1:-1:f+=M&&!L?-1:1),eT(f,{transition:"tween",tween:{tension:160,friction:25,velocity:-1*s}})}).init())}(),ey(),function(){if(b&&(b.addEventListener("click",ex,{passive:!1}),document.addEventListener("mousemove",Y),!f)){let e=null;(f=new ResizeObserver(t=>{e||(e=requestAnimationFrame(()=>{(function(e){if(!b)return;let t=e[0].contentBoxSize[0].blockSize,n=e[0].contentBoxSize[0].inlineSize;if(p===eu.Init){H=t,N=n,p=eu.Ready,eP(),K(),Z("ready");return}if(p!==eu.Ready)return;let o=D.length;ey();let l=b.getBoundingClientRect();if(t=l.height,n=l.width,!(o>1&&(L&&.5>Math.abs(t-H)||!L&&.5>Math.abs(n-N))))H=t,N=n,(!L||t)&&(L||n)&&b&&E&&(o===D.length&&(i?.isPointerDown()||V("dragFree")&&r?.isRunning())||eT(R,{transition:!1}))})(t),e=null}))})).observe(b)}}())}}function Y(e){n=e}function U(e="*"){let t=[];for(let n of I)("*"===e||n.class&&n.class.includes(e)||n.el&&n.el?.classList.contains(e))&&t.push(n);g=void 0,k=e,$=[...t]}function X(){if(!r)return;let e=Q(r?.isRunning()?r.getEndValues().pos:T);e!==R&&(g=R,R=e,eS(),K(),J(),Z("change",R,g))}function K(){if(!b)return;for(let e of(er(E,"is-draggable",!!i&&D.length>0),b.querySelectorAll("[data-carousel-index]")))e.innerHTML=R+"";for(let e of b.querySelectorAll("[data-carousel-page]"))e.innerHTML=R+1+"";for(let e of b.querySelectorAll("[data-carousel-pages]"))e.innerHTML=D.length+"";let e=!1,t=D[R]?.slides[0];for(let n of(t&&(t.downloadSrc||"image"===t.type&&t.src)&&(e=!0),b.querySelectorAll("[data-carousel-download]")))n.toggleAttribute("aria-disabled",!e)}function J(e){if(!b)return;e||(e=D[R]?.slides[0]);let t=e.el;if(t)for(let n of t.querySelectorAll("[data-slide-index]"))n.innerHTML=e.index+1+""}function Q(e){if(!D.length||!r)return 0;let t=en(),n=e;x?n-=Math.floor((e-D[0].pos)/t)*t:n=u(D[0].pos,e,D[D.length-1].pos);let o=new Map,i=0;for(let e of D){let l=Math.abs(e.pos-n),a=Math.min(l,Math.abs(e.pos-n-t),Math.abs(e.pos-n+t));o.set(i,a),i++}return parseInt((o.size>0?[...o.entries()].reduce((e,t)=>t[1]<e[1]?t:e):[R,0])[0])}function ee(){return E&&parseFloat(getComputedStyle(E).getPropertyValue("--f-carousel-gap"))||0}function et(){return E&&E.getBoundingClientRect()[S]||0}function en(e=!0){let t=ee();return $.reduce((e,t)=>e+t.dim,0)+($.length-(x&&e?0:1))*t}function es(e,t){let n=[];for(let t of Array.isArray(e)?e:[e]){let e=ed({...t,isVirtual:!0});n.push(e)}for(let e of(I.splice(void 0===t?I.length:t,0,...n),ev(),n))!function(e){if(!e)return;let t=e.el;t||(e.el=t=document.createElement("div"));let n=e.html?e.html instanceof HTMLElement?e.html:c(e.html):void 0;n&&(B(n,"f-html"),e.htmlEl=n,B(t,"has-html"),t.append(n),Z("contentReady",e))}(e);return U(k),n}function ed(e){return(l(e)||e instanceof HTMLElement)&&(e={html:e}),{index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:"",...e}}function ep(e){if(!E||!e)return;let t=e.el;if(t){if(t.setAttribute("index",e.index+""),t.parentElement!==E){let n;for(let o of(B(t,v.classes.slide),B(t,e.class),eS(e),I))if(o.index>e.index){n=o.el;break}E.insertBefore(t,n&&E.contains(n)?n:null),K(),J(e),Z("attachSlideEl",e)}return t}}function eh(e){let t=e?.el;t&&(t.remove(),eb(t),Z("detachSlideEl",e))}function ev(){for(let e=0;e<I.length;e++){let t=I[e],n=t.el;n&&(t.index!==e&&eb(n),n.setAttribute("index",`${e}`)),t.index=e}}function ey(){if(!b||!E)return;M=V("rtl"),S=(L=V("vertical"))?"height":"width";let e=V("classes");er(b,e.isLTR,!M),er(b,e.isRTL,M),er(b,e.isHorizontal,!L),er(b,e.isVertical,L),er(b,e.hasAdaptiveHeight,V("adaptiveHeight"));let t=function(){let e=0;if(E){let t=document.createElement("div");B(t,v.classes.slide),E.appendChild(t),e=t.getBoundingClientRect()[S],t.remove(),t=void 0}return e}();for(let e of $){let n=e.el,o=0;if(!e.isVirtual&&n&&a(n)){let e=!1;n.parentElement&&n.parentElement===E||(E.appendChild(n),e=!0),o=n.getBoundingClientRect()[S],e&&n.parentElement?.removeChild(n)}else o=t;e.dim=o}if(!function(){let e;if(!b)return;ev();let t=et(),n=ee(),o=en(!1),i=V("slidesPerPage");i="auto"===i?1/0:parseFloat(i+""),D=[];let l=0,a=0;for(let e of $)(!D.length||l+e.dim-t>.05||a>=i)&&(D.push({index:D.length,slides:[],dim:0,offset:0,pos:0}),l=0,a=0),D[D.length-1].slides.push(e),l+=e.dim+n,a++;let r=V("center"),s=V("fill"),c=V("infinite"),d=0;for(let e of D){for(let t of(e.dim=(e.slides.length-1)*n,e.slides))e.dim+=t.dim;e.offset=d,e.pos=d,!1!==r&&(e.pos-=(t-e.dim)*.5),s&&!c&&o>t&&(e.pos=u(0,e.pos,o-t)),d+=e.dim+n}let f=[];for(let t of D){let n={...t};e&&n.pos===e.pos?(e.dim+=n.dim,e.slides=[...e.slides,...n.slides]):(e=n,n.index=f.length,f.push(n))}D=f}(),x=V("infinite")&&D.length>1&&en()-(et()+($[0]?.dim||0))>-.5,A=D[0]?.pos||0,O=D[D.length-1]?.pos||0,p===eu.Init){g=void 0,R=V("initialPage");let e=V("initialSlide")||void 0;void 0!==e&&(R=eC.getPageIndex(e)||0),R=u(0,R,D.length-1),C=T=D[R]?.pos||0}else{let e=r?.isRunning()?r.getEndValues().pos:T;(e<A||e>O)&&(R=u(0,R,D.length-1))}Z("refresh")}function eb(e){if(!e||!a(e))return;let t=parseInt(e.getAttribute("index")||"-1"),n="";for(let t of Array.from(e.classList)){let e=t.match(/^f-(\w+)(Out|In)$/);e&&e[1]&&(n=e[1]+"")}if(!e||!n)return;let o=[`f-${n}Out`,`f-${n}In`,"to-prev","to-next","from-prev","from-next"];e.removeEventListener("animationend",ew),ea(e,o.join(" ")),F.delete(t)}function eE(){if(!E)return;let e=F.size;for(let e of $)eb(e.el);F.clear(),e&&eP()}function ew(e){"f-"===e.animationName.substring(0,2)&&(eb(e.target),!F.size&&(ea(b,"in-transition"),!P&&.5>Math.abs(eC.getPosition(!0)-C)&&(P=!0,Z("settle"))),eP())}function ex(e){if(e.defaultPrevented)return;let t=e.composedPath()[0];if(t.closest("[data-carousel-go-prev]")){ec(e),eC.prev();return}if(t.closest("[data-carousel-go-next]")){ec(e),eC.next();return}let n=t.closest("[data-carousel-go-to]");if(n){ec(e),eC.goTo(parseFloat(n.dataset.carouselGoTo||"")||0);return}if(t.closest("[data-carousel-download]")){ec(e);let t=D[R].slides[0];if(t.downloadSrc||"image"===t.type&&t.src){let e=t.downloadFilename,n=document.createElement("a");n.href=t.downloadSrc||t.src||"",n.target="_blank",e&&(n.download=e),n.click()}return}Z("click",e)}function eM(e){let t=e.el;t&&(t.querySelector(".f-spinner")?.remove(),ea(t,"is-loading"))}function eL(e){let t=e.el;t&&(t.querySelector(".f-html.is-error")?.remove(),ea(t,"has-error"))}function eS(e){e||(e=D[R]?.slides[0]);let t=e?.el;if(!t)return;let n=V("formatCaption",e);void 0===n&&(n=e.caption),n=n||"";let o=V("captionEl");if(o&&o instanceof HTMLElement){if(e.index!==R)return;if(l(n)&&(o.innerHTML=q(n+"")),n instanceof HTMLElement){if(n.parentElement===o)return;o.innerHTML="",n.parentElement&&(n=n.cloneNode(!0)),o.append(n)}return}if(!n)return;let i=e.captionEl||t.querySelector(".f-caption");!i&&n instanceof HTMLElement&&n.classList.contains("f-caption")&&(i=n),!i&&(B(i=document.createElement("div"),"f-caption"),l(n)?i.innerHTML=q(n+""):n instanceof HTMLElement&&(n.parentElement&&(n=n.cloneNode(!0)),i.append(n)));let a=`f-caption-${eg}_${e.index}`;i.setAttribute("id",a),i.dataset.selectable="true",B(t,"has-caption"),t.setAttribute("aria-labelledby",a),e.captionEl=i,t.insertAdjacentElement("beforeend",i)}function eT(e,t){let{transition:n,tween:o}={...{transition:v.transition,tween:v.tween},...t||{}};if(!b||!r)return;let i=D.length;if(!i||function(e,t){if(!b||!r||!t||!l(t)||"tween"===t||_.length>1)return!1;let n=D.length,o=e>R?1:-1;e=x?(e%n+n)%n:u(0,e,n-1),M&&(o*=-1);let i=D[R]?.slides[0],a=i?.index,s=D[e]?.slides[0],c=s?.index,d=D[e]?.pos;if(void 0===c||void 0===a||a===c||T===d||Math.abs(et()-(s?.dim||0))>1)return!1;P=!1,r.pause(),eE(),B(b,"in-transition"),T=C=d,X();let f=ep(i),g=ep(s);return f&&(F.add(a),f.style.transform="",f.addEventListener("animationend",ew),ea(f,v.classes.isSelected),B(f,`f-${t}Out to-${o>0?"next":"prev"}`)),g&&(F.add(c),g.style.transform="",g.addEventListener("animationend",ew),B(g,v.classes.isSelected),B(g,`f-${t}In from-${o>0?"prev":"next"}`)),eP(),!0}(e,n))return;C=D[(e=x?(e%i+i)%i:u(0,e,i-1))||0].pos||0;let a=r.isRunning()?r.getEndValues().pos:T;if(1>Math.abs(C-a)){T=C,R!==e&&(eS(),K(),J(),g=R,Z("change",R=e,g)),eP(),P||(P=!0,Z("settle"));return}if(r.pause(),eE(),x){let e=en(),t=Math.floor((a-D[0].pos)/e),n=C+t*e,o=n-e;C=[n+e,n,o].reduce(function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e})}if(!1!==n&&d(o))return void r.spring(o).from({pos:T}).to({pos:C}).start();T=C,X(),eP(),P||(P=!0,Z("settle"))}function eP(){let e;if(!b||!E)return;let t=D[R],n=function(e){let t=ee(),n=en(),o=et();if(!E)return[];let i=[];if(!n||!o)return[];e=void 0===e?T:e,x&&(e-=Math.floor(e/n)*n);let l=0,a=0;if(w){let e=E.getBoundingClientRect();l=e.left,a=e.right-e.width}let r=0;for(let s of $){let c=(t=0)=>{!(i.indexOf(s)>-1)&&(s.pos=r-e+t||0,s.offset+t>e-s.dim-l+.51&&s.offset+t<e+o+a-.51&&i.push(s))};if(s.offset=r,x)for(let e=-1;e<=1;e++)c(n*e);else c();r+=s.dim+t}return i}(),o=new Set,i=new Set;for(let l of n){let n=ep(l);if(!n)continue;o.add(n);let a=t?.slides?.indexOf(l)>-1;a&&i.add(n);let r=l.pos?Math.round(1e4*l.pos)/1e4:0,s=L?0:M?-1*r:r,c=L?r:0,u=el(s,0,l.dim,0,100),d=el(c,0,l.dim,0,100),f=v.setTransform||void 0;if(f instanceof Function?f(eC,l,{x:s,y:c,xPercent:u,yPercent:d}):n.style.transform=s||c?`translate3d(${u}%, ${d}%,0)`:"",V("adaptiveHeight")&&a){let t=(n.firstElementChild||n).getBoundingClientRect().height;e=void 0==e?t:Math.max(e,t)}}[...eo(E,`.${v.classes.slide}`)].forEach(e=>{let t=parseInt(e.getAttribute("index")||"-1"),n=I[t];n||e.remove(),er(e,v.classes.isSelected,i.has(e)),F.has(t)||o.has(e)||eh(n)}),E&&e&&(E.style.height=`${e}px`),_=[...n],Z("render",n)}function eR(){for(let e of(b?.removeEventListener("click",ex),eE(),document.removeEventListener("mousemove",Y),f?.disconnect(),f=void 0,Object.values(y)))e?.destroy();for(let e of(y={},I))e.el&&a(e.el)&&(e.state=void 0,eM(e),eL(e),eh(e),e.isVirtual?(e.el?.remove(),e.el=void 0):(e.el.style.transform="",E?.appendChild(e.el)));for(let e of(i?.destroy(),i=void 0,r?.destroy(),r=void 0,Object.values(v.classes||{})))ea(b,e);ea(E,"is-draggable")}let eC={add:function(e,t){for(let n of es(e,t))Z("addSlide",n);return U(k),ey(),eP(),eC},canGoPrev:function(){return x||R>0},canGoNext:function(){return x||R<D.length-1},destroy:function(){return Z("destroy"),window.removeEventListener("resize",G),eR(),W.clear(),b=null,D=[],I=[],v={...ef},y={},$=[],m="",k="*",p=eu.Destroyed,eC},emit:Z,filter:function(e="*"){return U(e),ey(),eP(),Z("filter",e),eC},getContainer:function(){return b},getGapDim:ee,getGestures:function(){return i},getLastMouseMove:function(){return n},getOptions:function(){return v},getPage:function(){return D[R]},getPageIndex:function(e){if(void 0!==e){for(let t of D||[])for(let n of t.slides)if(n.index===e)return t.index;return -1}return R},getPageProgress:function(e,t){void 0===e&&(e=R);let n=D[e];if(!n)return e>R?-1:1;let o=n.pos,i=ee(),l=eC.getPosition(),a=en();if(x&&!0!==t){let e=Math.floor((l-D[0].pos)/a),t=o+a*e;o=[t+a,t,t-a].reduce(function(e,t){return Math.abs(t-l)<Math.abs(e-l)?t:e})}return(l-o)/(n.dim+i)},getPageVisibility:function(e){void 0===e&&(e=R);let t=D[e];if(!t)return e>R?-1:1;let n=eC.getPosition(),o=et(),i=t.pos;if(x){let e=eC.getPosition(),t=en(),n=i+Math.floor((e-D[0].pos)/t)*t,o=n-t;i=[n+t,n,o].reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})}return i>n&&i+t.dim<n+o?1:i<n?(i+t.dim-n)/t.dim:i+t.dim>n+o?(n+o-i)/t.dim:0},getPages:function(){return D},getPlugins:function(){return y},getPosition:function(e){let t=T;if(x&&!0!==e){let e=en();t-=Math.floor((T-D[0]?.pos||0)/e)*e}return t},getSlides:function(){return I},getState:function(){return p},getTotalSlideDim:en,getTween:function(){return r},getViewport:function(){return E},getViewportDim:et,goTo:eT,hasNavigated:function(){return void 0!==g},hideError:eL,hideLoading:eM,init:function(){if(!e||!a(e))throw Error("No Element found");return p!==eu.Init&&(eR(),p=eu.Init),b=e,h=t,window.removeEventListener("resize",G),h.breakpoints&&window.addEventListener("resize",G),G(),eC},isInfinite:function(){return x},isInTransition:function(){return F.size>0},isRTL:function(){return M},isSettled:function(){return P},localize:function(e,t=[]){return q(e,t)},next:function(e={}){return eT(R+1,e),eC},off:function(e,t){for(let n of e instanceof Array?e:[e])W.has(n)&&W.set(n,W.get(n).filter(e=>e!==t));return eC},on:function(e,t){for(let n of e instanceof Array?e:[e])W.set(n,[...W.get(n)||[],t]);return eC},prev:function(e={}){return eT(R-1,e),eC},remove:function(e){void 0===e&&(e=I.length-1);let t=I[e];return t&&(Z("removeSlide",t),t.el&&(eb(t.el),t.el.remove(),t.el=void 0),I.splice(e,1),U(k),ey(),eP()),eC},setPosition:function(e){T=e,X(),eP()},showError:function(e,t){eM(e),eL(e);let n=e.el;if(n){let o=document.createElement("div");B(o,"f-html"),B(o,"is-error"),o.innerHTML=q(t||"<p>{{ERROR}}</p>"),e.htmlEl=o,B(n,"has-html"),B(n,"has-error"),n.insertAdjacentElement("afterbegin",o),Z("contentReady",e)}return eC},showLoading:function(e){let t=e.el,n=t?.querySelector(".f-spinner");if(!t||n)return eC;let o=c(V("spinnerTpl"));return o&&(B(o,"f-spinner"),B(t,"is-loading"),t.insertAdjacentElement("beforeend",o)),eC},version:"6.0.8"};return eC};em.l10n={en_EN:es},em.getDefaults=()=>ef;let ep=(e=!0,t="--f-scrollbar-compensate",n="--f-body-margin",o="hide-scrollbar")=>{let i=document,l=i.body,a=i.documentElement;if(e){if(l.classList.contains(o))return;let e=window.innerWidth-a.getBoundingClientRect().width;e<0&&(e=0),a.style.setProperty(t,`${e}px`);let i=parseFloat(window.getComputedStyle(l).marginRight);i&&l.style.setProperty(n,`${i}px`),l.classList.add(o)}else l.classList.remove(o),l.style.setProperty(n,""),i.documentElement.style.setProperty(t,"")};function eh(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)}let ev=function(e="",t="",n=""){return e.split(t).join(n)},ey={tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},eb=()=>{let e;function t(t,n){let o=e?.getOptions().Zoomable,i=(d(o)?{...ey,...o}:ey)[t];return i&&"function"==typeof i&&n?i(n):i}function n(){e&&(e.on("addSlide",a),e.on("removeSlide",r),e.on("attachSlideEl",s),e.on("click",i),e.on("change",o))}function o(){c()}function i(e,t){let n=t.target;n&&!t.defaultPrevented&&n.dataset.panzoomAction&&u(n.dataset.panzoomAction)}function a(n,o){if(!e)return;let i=o.el;if(!i)return;let a=o.src||o.lazySrc||"",r=o.srcset||o.lazySrcset||"",s=o.sizes||o.lazySizes||"";if(a&&l(a)&&!o.html&&(!o.type||"image"===o.type)){o.type="image";let e=t("tpl",o);e=ev(e,"{{src}}",a+""),e=ev(e,"{{srcset}}",r+""),e=ev(e,"{{sizes}}",s+""),e=ev(e,"{{alt}}",`${o.alt||o.caption||`Image #${o.index}`}`),i.insertAdjacentHTML("afterbegin",e)}if(!i.querySelector(".f-panzoom__content"))return;let u=en(i,{width:o.width&&"auto"!==o.width?parseFloat(o.width+""):"auto",height:o.height&&"auto"!==o.height?parseFloat(o.height+""):"auto",event:()=>e?.getLastMouseMove(),classes:{container:"f-zoomable"},...t("Panzoom")});u.on("*",(t,n,...i)=>{e&&("loading"===n&&(o.state=0),"loaded"===n&&(o.state=1),"error"===n&&(o.state=2,e?.showError(o,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${n}`,o,...i),"ready"===n&&e.emit("contentReady",o),o.index===e.getPageIndex()&&c())}),o.panzoomRef=u}function r(e,t){t.panzoomRef&&(t.panzoomRef.destroy(),t.panzoomRef=void 0)}function s(e,t){let n=t.panzoomRef;if(n)switch(n.getState()){case K.Init:n.init();break;case K.Ready:n.execute(Y.Reset,{velocity:0})}}function c(){let t=e?.getContainer();if(!t)return;let n=e?.getPage()?.slides[0].panzoomRef,o=n?.canZoomIn()||!1,i=n?.canZoomOut()||!1,l=n?.isFullsize()||!1,a=!n||n?.getState()!==K.Ready;for(let e of t?.querySelectorAll("[data-panzoom-action]")||[]){let t=e.dataset.panzoomAction,n=!1;if(a)n=!0;else switch(t){case Y.ZoomIn:o||(n=!0);break;case Y.ZoomOut:i||(n=!0);break;case Y.ToggleFull:o||i||(n=!0);let r=e.querySelector("g");r&&(r.style.display=l?"none":"");break;case Y.ToggleCover:case Y.ToggleMax:o||i||(n=!0)}n?(e.setAttribute("aria-disabled",""),e.setAttribute("tabindex","-1")):(e.removeAttribute("aria-disabled"),e.removeAttribute("tabindex"))}}function u(t,...n){e?.getPage().slides[0].panzoomRef?.execute(t,...n)}return{init:function(t){!1!==(e=t).getOptions().Zoomable&&e.on("initPlugins",n)},destroy:function(){if(e)for(let t of(e.off("addSlide",a),e.off("removeSlide",r),e.off("attachSlideEl",s),e.off("change",o),e.getSlides()))r(e,t);e=void 0},execute:u}},eE={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},ew=()=>{let e,t;function n(){let t=e?.getOptions().Sync;return d(t)?{...eE,...t}:eE}function o(){let o=n().target;e&&o&&e&&o&&(t=o,e.getOptions().classes={...e.getOptions().classes,isSelected:""},e.getOptions().initialSlide=t.getPage()?.slides[0]?.index||0,n().syncOnChange&&e.on("change",l),n().syncOnClick&&e.on("click",r),n().syncOnHover&&e.getViewport()?.addEventListener("mouseover",s),e&&t&&(e.on("ready",i),e.on("refresh",c),t.on("change",a),t.on("filter",u)))}function i(){f()}function l(){if(e&&t){let n=e.getPage()?.slides||[],o=t.getPageIndex(n[0].index||0);o>-1&&t.goTo(o,e.hasNavigated()?void 0:{tween:!1,transition:!1}),f()}}function a(){if(e&&t){let n=e.getPageIndex(t.getPage()?.slides[0].index||0);n>-1&&e.goTo(n,t.hasNavigated()?void 0:{tween:!1,transition:!1}),f()}}function r(n,o){if(!e||!t||e.getTween()?.isRunning())return;let i=e?.getOptions().classes.slide;if(!i)return;let l=i?o.target.closest(`.${i}`):null;if(l){let e=parseInt(l.getAttribute("index")||"")||0,n=t.getPageIndex(e);t.goTo(n)}}function s(t){e&&r(e,t)}function c(){if(e&&t){let n=e.getPageIndex(t.getPage()?.slides[0].index||0);n>-1&&e.goTo(n,{tween:!1,transition:!1}),f()}}function u(n,o){e&&t&&(e.filter(o),a())}function f(){if(!t)return;let n=t.getPage()?.slides[0]?.index||0;for(let t of e?.getSlides()||[])t.el?.classList.toggle("is-selected",t.index===n)}return{init:function(t){(e=t).on("initSlides",o)},destroy:function(){e?.off("ready",i),e?.off("refresh",c),e?.off("change",l),e?.off("click",r),e?.getViewport()?.removeEventListener("mouseover",s),t?.off("change",a),t?.off("filter",u),t=void 0,e?.off("initSlides",o),e=void 0},getTarget:function(){return t}}},ex={showLoading:!0,preload:1},eM="is-lazyloading",eL="is-lazyloaded",eS=()=>{let e;function t(){let t=e?.getOptions().Lazyload;return d(t)?{...ex,...t}:ex}function n(n){let o=n.el;if(!o)return;let i="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",l=Array.from(o.querySelectorAll(i));for(let a of(o.matches(i)&&l.push(o),l)){let o=a.dataset.lazySrc,i=a.dataset.lazySrcset,l=a.dataset.lazySizes,r=a.dataset.lazyBg,s=(a instanceof HTMLImageElement||a instanceof HTMLSourceElement)&&(o||i),c=a instanceof HTMLElement&&r;if(!(s||c))continue;let u=o||i||r;u&&(s&&u?(t().showLoading&&e?.showLoading(n),a.addEventListener("load",()=>{e?.hideLoading(n),a instanceof HTMLImageElement?a.decode().then(()=>{a.classList.remove(eM),a.classList.add(eL)}):(a.classList.remove(eM),a.classList.add(eL)),e?.emit("lazyLoad:loaded",n,a,u)}),a.addEventListener("error",()=>{e?.hideLoading(n),a.classList.remove(eM),a.classList.add("has-lazyerror"),e?.emit("lazyLoad:error",n,a,u)}),a.classList.add("f-lazyload"),a.classList.add(eM),e?.emit("lazyLoad:load",n,a,u),o&&(a.src=o),i&&(a.srcset=i),l&&(a.sizes=l)):c&&(document.body.contains(a)||(document.createElement("img").src=r),a.style.backgroundImage=`url('${r}')`),delete a.dataset.lazySrc,delete a.dataset.lazySrcset,delete a.dataset.lazySizes)}}function o(){if(!e)return;let o=t().preload,i=e.getPages(),l=i.length,a=e.getPageIndex();for(let e=a-o;e<=a+o;e++){let t=(e%l+l)%l;for(let e of i[t]?.slides||[])n(e)}}function i(e,t){n(t)}return{init:function(t){(e=t).on(["ready","change"],o),e.on("attachSlideEl",i)},destroy:function(){e?.off(["ready","change"],o),e?.off("attachSlideEl",i),e=void 0}}},eT={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},eP=()=>{let e,t,n;function o(t){if(!e)return;let n=`<button data-carousel-go-${t} tabindex="0" class="f-button is-arrow is-${t}" title="{{${t.toUpperCase()}}}">`+function(){let t=e?.getOptions().Arrows;return d(t)?{...eT,...t}:eT}()[`${t}Tpl`]+"</button";return c(e.localize(n))||void 0}function i(){t?.remove(),t=void 0,n?.remove(),n=void 0,e?.getContainer()?.classList.remove("has-arrows")}function l(){e&&!1!==e.getOptions().Arrows&&e.getPages().length>1?(!function(){if(!e)return;let i=e.getViewport();i&&(!t&&(t=o("prev"))&&i.insertAdjacentElement("beforebegin",t),!n&&(n=o("next"))&&i.insertAdjacentElement("afterend",n),er(e.getContainer(),"has-arrows",!!(t||n)))}(),e&&(t?.toggleAttribute("aria-disabled",!e.canGoPrev()),n?.toggleAttribute("aria-disabled",!e.canGoNext()))):i()}return{init:function(t){e=t.on(["change","refresh"],l)},destroy:function(){i(),e?.off(["change","refresh"],l),e=void 0}}},eR={moveLeft:{tpl:'<button data-panzoom-action="moveLeft" class="f-button" title="{{MOVE_LEFT}}"><svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg></button>'},moveRight:{tpl:'<button data-panzoom-action="moveRight" class="f-button" title="{{MOVE_RIGHT}}"><svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg></button>'},moveUp:{tpl:'<button data-panzoom-action="moveUp" class="f-button" title="{{MOVE_UP}}"><svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg></button>'},moveDown:{tpl:'<button data-panzoom-action="moveDown" class="f-button" title="{{MOVE_DOWN}}"><svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg></button>'},zoomIn:{tpl:'<button data-panzoom-action="zoomIn" class="f-button" title="{{ZOOM_IN}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg></button>'},zoomOut:{tpl:'<button data-panzoom-action="zoomOut" class="f-button" title="{{ZOOM_OUT}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},toggle1to1:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg></button>'},toggleFull:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},rotateCCW:{tpl:'<button data-panzoom-action="rotateCCW" class="f-button" title="{{ROTATE_CCW}}"><svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg></button>'},rotateCW:{tpl:'<button data-panzoom-action="rotateCW" class="f-button" title="{{ROTATE_CW}}"><svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg></button>'},flipX:{tpl:'<button data-panzoom-action="flipX" class="f-button" title="{{FLIP_X}}"><svg><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg></button>'},flipY:{tpl:'<button data-panzoom-action="flipY" class="f-button" title="{{FLIP_Y}}"><svg><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg></button>'},reset:{tpl:'<button data-panzoom-action="reset" class="f-button" title="{{RESET}}"><svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg></button>'}},eC=((S={}).Left="left",S.middle="middle",S.right="right",S),eA={counter:{tpl:'<div class="f-carousel__counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'},...eR},eO={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},ez=()=>{let e,t;function n(){let t=e?.getOptions().Toolbar;return d(t)?{...eO,...t}:eO}function o(){if(!e?.getOptions().Toolbar||!e||t)return;let o=n().enabled;if(!o)return;let i=n().absolute,a=e.getSlides().length>1,r=!1,s=!1;for(let t of e.getSlides())t.panzoomRef&&(r=!0),(t.downloadSrc||"image"===t.type&&t.src)&&(s=!0);let u=e.getPlugins().Thumbs?.isEnabled()||!1,d=a&&e.getPlugins().Autoplay||!1,f=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if("auto"===o&&(o=r),!o)return;(t=document.createElement("div")).classList.add("f-carousel__toolbar");let g=n().display,m=ei({},eA,n().items);for(let n of["left","middle","right"]){let o=g[n]||[],i=document.createElement("div");for(let t of(i.classList.add("f-carousel__toolbar__column"),i.classList.add(`is-${n}`),o)){let n;if(l(t)){if("counter"===t&&!a||"autoplay"===t&&!d||eR[t]&&!r||"fullscreen"===t&&!f||"thumbs"===t&&!u||"download"===t&&!s)continue;n=m[t]}if("object"==typeof t&&(n=t),n&&n.tpl){let t=e.localize(n.tpl),o=c(t=t.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">'));o&&("function"==typeof n.click&&e&&o.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof n.click&&e&&n.click(e,t)}),i.append(o))}}t.append(i)}t.childElementCount&&(!0===i&&t.classList.add("is-absolute"),e.getContainer()?.classList.add("has-toolbar"),e.getViewport()?.insertAdjacentElement("beforebegin",t))}return{init:function(t){(e=t).on("initSlides",o)},destroy:function(){e?.off("initSlides",o),e?.getContainer()?.classList.remove("has-toolbar"),t?.remove(),t=void 0},add:function(e,t){eA[e]=t},isEnabled:function(){return!!t}}},ek={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},eI=()=>{let e,t,n=!1,o=!1,i=!1,l=null;function a(t){let n=e?.getOptions().Autoplay,o=(d(n)?{...ek,...n}:ek)[t];return o&&"function"==typeof o&&e?o(e):o}function r(){for(let t of e?.getPage()?.slides||[])if(0===t.state)return!0;return!1}function s(){clearTimeout(t),t=void 0}function c(){!(t||i||r())&&e?.isSettled()&&(function(){if(!e||(g(),!a("showProgressbar")))return;let t=a("progressbarParentEl");if(!t&&e.getPlugins().Toolbar?.isEnabled()&&(t=e.getContainer()),!t&&e.getPlugins().Toolbar?.isEnabled()!==!0){let n=e.getPages()[0]?.slides||[],o=e.getPage()?.slides||[];1===n.length&&1===o.length&&(t=o[0].el)}if(t||(t=e.getViewport()),!t)return;(l=document.createElement("div")).classList.add("f-progressbar"),t.prepend(l);let n=a("timeout")||1e3;l.style.animationDuration=`${n}ms`}(),t=setTimeout(()=>{if(e&&n&&!o){if(!e.isInfinite()&&e.getPageIndex()===e.getPages().length-1)return void e.goTo(0);e.next()}},a("timeout")))}function u(){if(!e||e.getPages().length<2||!1===e.getOptions().Autoplay||n)return;n=!0,e.emit("autoplay:start",a("timeout")),e.getContainer()?.classList.add("has-autoplay"),e.getTween()?.on("start",b);let t=e?.getContainer();t&&a("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(t.addEventListener("mouseenter",E,!1),t.addEventListener("mouseleave",w,!1)),e.on("change",v),e.on("settle",y),e.on("contentReady",p),e.on("panzoom:animationStart",f),e.isSettled()&&c()}function f(){if(s(),g(),n&&e){e.emit("autoplay:end"),e.getContainer()?.classList.remove("has-autoplay"),e.getTween()?.off("start",b);let t=e?.getContainer();t&&(t.removeEventListener("mouseenter",E,!1),t.removeEventListener("mouseleave",w,!1))}e&&(e.off("change",v),e.off("settle",y),e.off("contentReady",p),e.off("panzoom:animationStart",f)),n=!1,o=!1}function g(){l&&(l.remove(),l=null)}function m(){e&&e.getPages().length>1&&a("autoStart")&&u()}function p(t){e&&e.getPageIndex(t.index)===e.getPageIndex()&&(!n||i||r()||c())}function h(e,t){let n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.autoplayAction&&x.toggle()}function v(){e&&(e?.isInfinite()||e.getPageIndex()!==e.getPages().length-1)?(g(),s()):f()}function y(){!n||i||o||c()}function b(){s(),g()}function E(){i=!0,n&&(g(),s())}function w(){i=!1,n&&!o&&e?.isSettled()&&c()}let x={init:function(t){(e=t).on("ready",m),e.on("click",h)},destroy:function(){f(),e?.off("ready",m),e?.off("click",h),e=void 0},isEnabled:()=>n,pause:function(){o=!0,s()},resume:function(){o=!1,n&&!i&&c()},start(){u()},stop(){f()},toggle(){n?f():u()}};return x},e$={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"},eF=()=>{let e,t,n,i=0,l=0,a=!0;function r(t){let n=e?.getOptions().Thumbs,o=(d(n)?{...e$,...n}:e$)[t];return o&&"function"==typeof o?o():o}function s(){if(!e||e?.getOptions().Thumbs===!1)return!1;let t=0;for(let n of e.getSlides())n.thumbSrc&&t++;return t>=r("minCount")}function c(){return"modern"===r("type")}function f(t=!1){let o=e?.getContainer();if(e&&o&&!n&&s()){if(!n){let e=o.nextElementSibling;e?.classList.contains("f-thumbs")&&(n=e)}if(!n){(n=document.createElement("div")).classList.add("f-thumbs");let e=r("parentEl");e?e.insertAdjacentElement("beforeend",n):o.insertAdjacentElement("afterend",n)}n.classList.add(`is-${r("type")}`),n.classList.add("is-syncing"),t&&(n.style.maxHeight="0px")}}function g(){if(!o||!e||!n||t)return;let s=[];for(let t of e.getSlides()){let e=t.thumb?t.thumb instanceof HTMLImageElement?t.thumb.src:t.thumb:t.thumbSrc||void 0,n=r("thumbTpl");n=ev(n,"{{alt}}",`Thumbnail #${t.index}`),n=ev(n,"{{src}}",e+""),n=ev(n,"{{index}}",`${t.index}`),n=ev(n,"{{page}}",`${t.index||1}`),s.push({html:n,class:t.thumbClass})}s.length&&(t=o(n,ei({},{Sync:{target:e},Lazyload:{preload:1},slides:s,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},initialSlide:e.getOptions().initialPage,center:!0,fill:!c(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:e=>{let t=0;return(c()&&(function(){if(!c()||!n)return;let e=e=>n&&parseFloat(getComputedStyle(n).getPropertyValue("--f-thumb-"+e))||0;i=e("width"),l=e("clip-width")}(),t=(i-l)*4),e&&e.getTotalSlideDim()<=e.getViewportDim()-t)?1/0:1}},e$.Carousel||{},r("Carousel")||{}),{Sync:ew,Lazyload:eS}).init(),t.getGestures()?.on("start",()=>{a=!1}),t.on("click",(e,t)=>{let n=t.target;if(n){let e=n.matches("button")?n:n.firstElementChild;e&&e.matches("button")&&e.focus({})}}),e.getContainer()?.classList.add("has-thumbs"),b())}function m(){s()&&(e?.getGestures()?.on("start",p),r("showOnStart")&&(f(),g()))}function p(){a=!0,document.activeElement?.closest(".f-thumbs")&&document.activeElement?.blur()}function h(){n?.classList.toggle("is-syncing",e?.hasNavigated()===!1||e?.getTween()?.isRunning()),b(),e?.getGestures()?.isPointerDown()&&function(){if(!c()||!e||!t||!a)return;let n=t.getTween(),o=t.getPages(),r=e.getPageIndex()||0,s=e.getPageProgress()||0;if(!e||!o||!o[r]||!n)return;let d=n.isRunning()?n.getCurrentValues().pos:t.getPosition();if(void 0===d)return;let f=o[r].pos+s*(i-l);f=u(o[0].pos,f,o[o.length-1].pos),n.from({pos:d}).to({pos:f}).start()}()}function v(){a=!0}function y(e,t){let o=t.target;o&&!t.defaultPrevented&&"toggle"===o.dataset.thumbsAction&&(n||(f(!0),g()),n&&(n.style.maxHeight?n.style.maxHeight="":n.style.maxHeight="0px"))}function b(){if(!c()||!e||!t)return;let n=t?.getSlides()||[],o=-.5*i;for(let t of n){let n=t.el;if(!n)continue;let l=e.getPageProgress(t.index)||0;(l=Math.max(-1,Math.min(1,l)))>-1&&l<1&&(o+=.5*i*(1-Math.abs(l))),l=Math.round(1e4*l)/1e4,o=Math.round(1e4*o)/1e4,n.style.setProperty("--progress",`${Math.abs(l)}`),n.style.setProperty("--shift",`${e?.isRTL()?-1*o:o}px`),l>-1&&l<1&&(o+=.5*i*(1-Math.abs(l)))}}return{init:function(t,n){o=n,(e=t).on("ready",m),e.on("render",h),e.on("change",v),e.on("click",y)},destroy:function(){e?.off("ready",m),e?.off("render",h),e?.off("change",v),e?.off("click",y),e?.getGestures()?.off("start",p),e?.getContainer()?.classList.remove("has-thumbs"),e=void 0,t?.destroy(),t=void 0,n?.remove(),n=void 0},getContainer:function(){return n},isEnabled:function(){return s()}}},e_={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},eD=()=>{let e;function t(e,t){let n=t.src;if(!l(n))return;let o=t.type;if(!o){if(!o&&("#"===n.charAt(0)?o="inline":n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?o="image":n.match(/\.(pdf)((\?|#).*)?$/i)?o="pdf":n.match(/\.(html|php)((\?|#).*)?$/i)&&(o="iframe")),!o){let e=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);e&&(n=`https://maps.google.${e[1]}/?ll=${(e[2]?e[2]+"&z="+Math.floor(parseFloat(e[3]))+(e[4]?e[4].replace(/^\//,"&"):""):e[4]+"").replace(/\?/,"&")}&output=${e[4]&&e[4].indexOf("layer=c")>0?"svembed":"embed"}`,o="gmap")}if(!o){let e=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);e&&(n=`https://maps.google.${e[1]}/maps?q=${e[2].replace("query=","q=").replace("api=1","")}&output=embed`,o="gmap")}t.src=n,t.type=o}}function n(t,n){("iframe"===n.type||"pdf"===n.type||"gmap"===n.type)&&function(t){if(!e||!t.el||!t.src)return;let n=document.createElement("iframe");for(let[t,o]of(n.classList.add("f-iframe"),Object.entries(function(){let t=e?.getOptions().Html;return d(t)?{...e_,...t}:e_}().iframeAttr||{})))n.setAttribute(t,o);n.onerror=()=>{e&&1===e.getState()&&e.showError(t,"{{IFRAME_ERROR}}")},n.src=t.src;let o=document.createElement("div");if(o.classList.add("f-html"),o.append(n),t.width){let e=`${t.width}`;e.match(/^\d+$/)&&(e+="px"),o.style.maxWidth=`${e}`}if(t.height){let e=`${t.height}`;e.match(/^\d+$/)&&(e+="px"),o.style.maxHeight=`${e}`}if(t.aspectRatio){let e=t.el.getBoundingClientRect();o.style.aspectRatio=`${t.aspectRatio}`,o.style[e.width>e.height?"width":"height"]="auto",o.style[e.width>e.height?"maxWidth":"maxHeight"]="none"}t.contentEl=n,t.htmlEl=o,t.el.classList.add("has-html"),t.el.classList.add("has-iframe"),t.el.classList.add(`has-${t.type}`),t.el.prepend(o),e.emit("contentReady",t)}(n)}function o(t,n){("iframe"===n.type||"pdf"===n.type||"gmap"===n.type)&&(e?.hideError(n),n.contentEl?.remove(),n.contentEl=void 0,n.htmlEl?.remove(),n.htmlEl=void 0)}return{init:function(i){(e=i).on("addSlide",t),e.on("attachSlideEl",n),e.on("detachSlideEl",o)},destroy:function(){e?.off("addSlide",t),e?.off("attachSlideEl",n),e?.off("detachSlideEl",o),e=void 0}}},eH=(e,t={})=>{let n=new URLSearchParams(new URL(e).search),o=new URLSearchParams;for(let[e,i]of[...n,...Object.entries(t)]){let t=i+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&o.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else o.set(e,t)}let i=o+"",l=e.match(/#t=((.*)?\d+s)/);return l&&(i+=`#t=${l[1]}`),i},eN={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},eV=()=>{let e,t=!1;function n(){let t=e?.getOptions().Video;return d(t)?{...eN,...t}:eN}function o(){return e?.getPage()?.slides[0]}let i=t=>{try{let n=JSON.parse(t.data);if("https://player.vimeo.com"===t.origin){if("ready"===n.event)for(let n of Array.from(e?.getContainer()?.getElementsByClassName("f-iframe")||[]))n instanceof HTMLIFrameElement&&n.contentWindow===t.source&&(n.dataset.ready="true")}else if(t.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===n.event){let e=document.getElementById(n.id);e&&(e.dataset.ready="true")}}catch(e){}};function a(e,t){let o=t.src;if(!l(o))return;let i=t.type;if(!i||"html5video"===i){let e=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);e&&(i="html5video",t.html5videoFormat=t.html5videoFormat||"video/"+("ogv"===e[1]?"ogg":e[1]))}if(!i||"youtube"===i){let e=o.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(e){let l={...n().youtube,...t.youtube||{}},a=`www.youtube${l.nocookie?"-nocookie":""}.com`,r=eH(o,l),s=encodeURIComponent(e[2]);t.videoId=s,t.src=`https://${a}/embed/${s}?${r}`,t.thumb=t.thumb||`https://i.ytimg.com/vi/${s}/mqdefault.jpg`,i="youtube"}}if(!i||"vimeo"===i){let e=o.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(e){let l=eH(o,{...n().vimeo,...t.vimeo||{}}),a=encodeURIComponent(e[1]),r=e[4]||"";t.videoId=a,t.src=`https://player.vimeo.com/video/${a}?${r?`h=${r}${l?"&":""}`:""}${l}`,i="vimeo"}}t.type=i}function r(t,o){"html5video"===o.type&&function(t){if(!e||!t.el||!t.src)return;let{el:o,src:i}=t;if(!o||!i)return;let a=t.html5videoTpl||n().html5videoTpl,r=t.html5videoFormat||n().html5videoFormat;if(!a)return;let s=t.poster||(t.thumb&&l(t.thumb)?t.thumb:""),u=c(a.replace(/\{\{src\}\}/gi,i+"").replace(/\{\{format\}\}/gi,r||"").replace(/\{\{poster\}\}/gi,s+""));if(!u)return;let d=document.createElement("div");d.classList.add("f-html"),d.append(u),t.contentEl=u,t.htmlEl=d,o.classList.add(`has-${t.type}`),o.prepend(d),g(t),e.emit("contentReady",t)}(o),("youtube"===o.type||"vimeo"===o.type)&&function(t){if(!e||!t.el||!t.src)return;let o=document.createElement("iframe");for(let[e,i]of(o.classList.add("f-iframe"),o.setAttribute("id",`f-iframe_${t.videoId}`),Object.entries(n().iframeAttr||{})))o.setAttribute(e,i);o.onload=()=>{e&&1===e.getState()&&"youtube"===t.type&&o.contentWindow?.postMessage(JSON.stringify({event:"listening",id:o.getAttribute("id")}),"*")},o.onerror=()=>{e&&1===e.getState()&&e?.showError(t,"{{IFRAME_ERROR}}")},o.src=t.src;let i=document.createElement("div");i.classList.add("f-html"),i.append(o),t.contentEl=o,t.htmlEl=i,t.el.classList.add("has-html"),t.el.classList.add("has-iframe"),t.el.classList.add(`has-${t.type}`),t.el.prepend(i),g(t),e.emit("contentReady",t)}(o)}function s(e,t){("html5video"===t.type||"youtube"===t.type||"vimeo"===t.type)&&(t.contentEl?.remove(),t.contentEl=void 0,t.htmlEl?.remove(),t.htmlEl=void 0),t.poller&&clearTimeout(t.poller)}function u(){t=!1}function f(){if(t)return;t=!0;let e=o();(e&&void 0!==e.autoplay?e.autoplay:n().autoplay)&&(!function(){let e=o(),t=e?.el;if(t&&e?.type==="html5video")try{let e=t.querySelector("video");if(e){let t=e.play();void 0!==t&&t.then(()=>{}).catch(t=>{e.muted=!0,e.play()})}}catch(e){}let n=e?.htmlEl;n instanceof HTMLIFrameElement&&n.contentWindow?.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}(),function(){let e=o(),t=e?.type;if(!(e?.el&&("youtube"===t||"vimeo"===t)))return;let n=()=>{if(e.contentEl&&e.contentEl instanceof HTMLIFrameElement&&e.contentEl.contentWindow){let t;if("true"===e.contentEl.dataset.ready){(t="youtube"===e.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.contentEl.contentWindow.postMessage(JSON.stringify(t),"*"),e.poller=void 0;return}"youtube"===e.type&&(t={event:"listening",id:e.contentEl.getAttribute("id")},e.contentEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}())}function g(e){let t=e?.el,n=e?.htmlEl;if(!e||!n)return;n.style.aspectRatio="",n.style.width="",n.style.height="",n.style.maxWidth="",n.style.maxHeight="",n.offsetHeight;let o=n.getBoundingClientRect(),i=o.width||1,l=o.height||1;if(e.width){let t=`${e.width}`;t.match(/^\d+$/)&&(t+="px"),n.style.maxWidth=`${t}`}if(e.height){let t=`${e.height}`;t.match(/^\d+$/)&&(t+="px"),n.style.maxHeight=`${t}`}if(!t||!e.aspectRatio)return;let a=e.aspectRatio.split("/"),r=parseFloat(a[0].trim()),s=a[1]?parseFloat(a[1].trim()):0,c=(r&&s?r/s:r)<i/l;n.style.aspectRatio=`${e.aspectRatio}`,n.style.width=c?"auto":"",n.style.height=c?"":"auto"}function m(){g(o())}return{init:function(t){(e=t).on("addSlide",a),e.on("attachSlideEl",r),e.on("detachSlideEl",s),e.on("ready",f),e.on("change",u),e.on("settle",f),e.on("refresh",m),window.addEventListener("message",i)},destroy:function(){e?.off("addSlide",a),e?.off("attachSlideEl",r),e?.off("detachSlideEl",s),e?.off("ready",f),e?.off("change",u),e?.off("settle",f),e?.off("refresh",m),window.removeEventListener("message",i),e=void 0}}},ej={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},eq="in-fullscreen-mode",eB=()=>{let e;function t(t){let n=e?.getOptions().Fullscreen,o=(d(n)?{...ej,...n}:ej)[t];return o&&"function"==typeof o&&e?o(e):o}function n(){e?.getPlugins().Toolbar?.add("fullscreen",{tpl:t("btnTpl")})}function o(){if(t("autoStart")){let e=a();e&&s(e)}}function i(e,t){let n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.fullscreenAction&&u()}function l(e){a()&&"Escape"===e.key&&!e.defaultPrevented&&u()}function a(){return t("el")||e?.getContainer()||void 0}function r(){let e=document;return e.fullscreenEnabled?!!e.fullscreenElement:!!e.webkitFullscreenEnabled&&!!e.webkitFullscreenElement}function s(e){let t,n=document;return e||(e=n.documentElement),n.fullscreenEnabled?t=e.requestFullscreen():n.webkitFullscreenEnabled&&(t=e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),t&&t.then(()=>{e.classList.add(eq)}),t}function c(){let e,t=document;return t.fullscreenEnabled?e=t.fullscreenElement&&t.exitFullscreen():t.webkitFullscreenEnabled&&(e=t.webkitFullscreenElement&&t.webkitExitFullscreen()),e&&e.then(()=>{a()?.classList.remove(eq)}),e}function u(){let e=a();e&&(r()?c():s(e))}return{init:function(t){(e=t).on("initPlugins",n),e.on("ready",o),e.on("click",i)},destroy:function(){e?.off("initPlugins",n),e?.off("ready",o),e?.off("click",i),document.removeEventListener("keydown",l,!0)},exit:c,inFullscreen:r,request:s,toggle:u}},eW=!1,eZ=!1,eG=!1,eY=!1,eU=()=>{let e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],o=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:o}},eX=()=>{if(!i||i.getInstance())return;let{slug:e,index:t}=eU();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!i||i.getInstance())return;let o=document.querySelectorAll(`[data-fancybox="${e}"]`);o.length&&(n=o[t-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},eK=()=>{if(!i||eG)return;let e=i?.getInstance();if(e?.getOptions().Hash===!1)return;let{slug:t,index:n}=eU(),o=e?.getSlide()?.fancybox||e?.getSlide()?.slug||void 0;e&&o&&(t===o?e.getCarousel()?.goTo(n-1):(eY=!0,e.close(),eY=!1)),eX()},eJ=()=>{i&&setTimeout(()=>{eW=!0,eX(),eW=!1,window.addEventListener("hashchange",eK,!1)},300)},eQ=()=>{let e,t="auto",n="";function o(){if(!e||!e.isTopMost()||!1===e.getOptions().Hash)return;let o=e.getCarousel();if(!o)return;let{hash:l,slug:a}=eU(),r=e.getSlide();if(!r)return;let s=r.fancybox||"",c=parseInt(r.index+"",10)+1;if(!s)return;let u=`#${s}-${c}`;if(l!==u&&(n=l),history.scrollRestoration&&(t=history.scrollRestoration,history.scrollRestoration="manual"),o.on("change",i),!eW)if(s===a)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+u)}catch(e){}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+u),eZ=!0}catch(e){}}function i(){if(!e||!e.isTopMost()||!1===e.getOptions().Hash)return;let{slug:t}=eU(),n=e.getSlide();if(!n)return;let o=n.fancybox||"",i=n.index+1,l=`#${o}-${i}`;if(o===t){eG=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+l)}catch(e){}eG=!1}}function l(){if(eY||!e||!e.isTopMost()||!1===e.getOptions().Hash)return;let t=e.getSlide();if(t&&t.fancybox){eG=!0;try{eZ&&!eW&&!function(){if(window.parent===window)return!1;try{var e=window.frameElement}catch(t){e=null}return null===e?"data:"===location.protocol:e.hasAttribute("sandbox")}()?window.history.back():window.history.replaceState({},document.title,window.location.pathname+window.location.search+n)}catch(e){}eG=!1}}return{init:function(t){(e=t).on("ready",o),e.on("close",l)},destroy:function(){e?.off("ready",o),e?.off("close",l);let n=e?.getCarousel();n&&n.off("change",i),e=void 0,history.scrollRestoration&&t&&(history.scrollRestoration=t)}}};eQ.startFromUrl=eX,eQ.setup=function(e){!i&&(i=e,eh()&&(/complete|interactive|loaded/.test(document.readyState)?eJ():document.addEventListener("DOMContentLoaded",eJ)))};let e0={...es,CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"},e1='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';ez().add("close",{tpl:e1});let e2=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},e5=(e=null,t="",n)=>{if(!e||!e.parentElement||!t){n&&n();return}e2(e);let o=i=>{i.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",o),delete e.dataset.animationName,n&&n(),e.classList.remove(t))};e.dataset.animationName=t,e.addEventListener("animationend",o),B(e,t)},e4=((T={})[T.Init=0]="Init",T[T.Ready=1]="Ready",T[T.Closing=2]="Closing",T[T.Destroyed=3]="Destroyed",T),e3={backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:e0,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},e6=new Map,e8=0,e7="with-fancybox",e9={Plugins:{Hash:eQ},version:"6.0.8",openers:new Map,bind:function(e,t,n){if(!eh())return;let o=document.body,i="[data-fancybox]",a={};if(l(e)?(o=document.body,i=e,"object"==typeof t&&(a=t||{})):e instanceof Element&&(o=e,l(t)&&(i=t),"object"==typeof n&&(a=n||{})),!(o&&o instanceof Element)||!i)return!1;let r=e9.openers.get(o)||new Map;if(r.set(i,a),e9.openers.set(o,r),1===r.size)for(let e of(o.addEventListener("click",e9.fromEvent),Object.values(e9.Plugins))){let t=e.setup;"function"==typeof t&&t(e9)}return!0},close:function(e=!0,...t){if(e)for(let e of e6.values())e.close(...t);else{let e=e9.getInstance();e&&e.close(...t)}},destroy:function(){let e;for(;e=e9.getInstance();)e.destroy();for(let e of e9.openers.keys())e.removeEventListener("click",e9.fromEvent);e9.openers.clear()},fromEvent:function(e){let t,n,o;if(e.defaultPrevented||e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)return;let i=e.composedPath()[0];if(i.closest(".fancybox__container.is-hiding")){e.preventDefault(),e.stopPropagation();return}let l=i.closest("[data-fancybox-delegate]")||void 0;if(l){let e=l.dataset.fancyboxDelegate||"",t=document.querySelectorAll(`[data-fancybox="${e}"]`);i=t[parseInt(l.dataset.fancyboxIndex||"",10)||0]||t[0]}if(!(i&&i instanceof Element))return;for(let e of Array.from(e9.openers.keys()).reverse()){let l=e9.openers.get(e);if(l&&e.contains(i))for(let a of Array.from(l.keys()).reverse()){let r=null;try{r=i.closest(a)}catch(e){}if(r){i=r,t=e,n=a,o=l.get(a);break}}}if(!(t&&n&&o))return;e.preventDefault();let a=ei({},e3,{triggerEvent:e,triggerEl:i,delegateEl:l},o),r=a.groupAll,s=a.groupAttr,c=s&&i?i.getAttribute(`${s}`):"",u=[],d=i.closest(".f-carousel")?.carousel;if(d){let e=[];for(let t of d?.getSlides()){let o=t.el;o&&(o.matches(n)?e.push(o):e.push(...[].slice.call(o.querySelectorAll(n))))}e.length&&(u=[...e],d.getPlugins().Autoplay?.pause(),d.getPlugins().Autoscroll?.pause(),a.sync=d)}else(!i||c||r)&&(u=[].slice.call(t.querySelectorAll(n)));if(i&&!r&&(u=c?u.filter(e=>e.getAttribute(`${s}`)===c):[i]),!u.length)return;let f=e9.getInstance();if(f){let e=f.getOptions().triggerEl;if(e&&u.indexOf(e)>-1)return}return({...a.Carousel||{}}).rtl&&(u=u.reverse()),i&&(a.startIndex=u.indexOf(i)),e9.fromNodes(u,a)},fromNodes:function(e,t){t=ei({},e3,t||{});let n=[],o=e=>e instanceof HTMLImageElement?e:e instanceof HTMLElement?e.querySelector("img:not([aria-hidden])"):void 0;for(let i of e){let l=i.dataset||{},a=t.delegateEl&&e.indexOf(i)===t.startIndex?t.delegateEl:void 0,r=o(a)||o(i)||void 0,s=l.src||i.getAttribute("href")||i.getAttribute("currentSrc")||i.getAttribute("src")||void 0,c=l.thumb||l.thumbSrc||r?.getAttribute("currentSrc")||r?.getAttribute("src")||r?.dataset.lazySrc||void 0,u={src:s,alt:l.alt||r?.getAttribute("alt")||void 0,thumbSrc:c,thumbEl:r,triggerEl:i,delegateEl:a};for(let e in l){let t=l[e]+"";t="false"!==t&&("true"===t||t),u[e]=t}n.push(u)}return e9.show(n,t)},fromSelector:function(e,t,n){let o=document.body,i="",a={};if(l(e)?i=e:e instanceof Element&&(o=e,l(t)&&(i=t),"object"==typeof n&&(a=n||{})),!(o&&o instanceof Element)||!i)return;let r=e9.openers.get(o);if(r&&(a=ei({},r.get(i)||{},a)))return e9.fromNodes(Array.from(o.querySelectorAll(i)),a)},getCarousel:function(){return e9.getInstance()?.getCarousel()||void 0},getDefaults:function(){return e3},getInstance:function(e){if(e){let t=e6.get(e);return t&&t.getState()!==e4.Destroyed?t:void 0}return Array.from(e6.values()).reverse().find(e=>{if(e.getState()!==e4.Destroyed)return e})||void 0},getSlide:function(){return e9.getInstance()?.getSlide()||void 0},show:function(e=[],t={}){return(()=>{let e,t,n,o,i,r,u=e4.Init,f={...e3},g=-1,m={},p=[],h=!1,v=!0;function y(e,...t){let n=f[e];return n&&"function"==typeof n?n(J,...t):n}function b(e,t=[]){let n=y("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}let E=new Map;function w(e,...t){let n=E.get(e)||[];for(let[t,o]of Object.entries(f.on||{}))(t===e||t.split(" ").indexOf(e)>-1)&&n.push(o);for(let e of n)e&&"function"==typeof e&&e(J,...t);"*"!==e&&w("*",e,...t)}function x(e){if(!_())return;if(u!==e4.Ready){e.preventDefault(),e.stopPropagation();return}if(e.defaultPrevented||!j.isClickAllowed())return;let t=e.composedPath()[0];t.closest(".fancybox__carousel")&&t.classList.contains("fancybox__slide")&&M(e)}function M(e){if(e.composedPath()[0].closest("[data-fancybox-close]"))return void Y(e);w("backdropClick",e),!e.defaultPrevented&&y("backdropClick")&&Y(e)}function L(e){if(!_()||u!==e4.Ready||(Z(),e.defaultPrevented))return;let t=e.composedPath()[0],n=!!t.closest("[data-fancybox-close]"),o=t.classList.contains("fancybox__backdrop");(n||o)&&M(e)}function S(e,t){t.el?.addEventListener("click",x)}function T(t,n){R(n),function(t){if(!e||!t||!t.el||"inline"!==t.type&&"clone"!==t.type)return;let n=null;if(l(t.src)){let e=t.src.split("#",2).pop();n=e?document.getElementById(e):null}if(n){if(B(n,"f-html"),"clone"===t.type||n.closest(".fancybox__carousel")){let e=(n=n.cloneNode(!0)).dataset.animationName;e&&(n.classList.remove(e),delete n.dataset.animationName);let o=n.getAttribute("id");o=o?`${o}--clone`:`clone-${g}-${t.index}`,n.setAttribute("id",o)}else if(n.parentNode){let e=document.createElement("div");e.inert=!0,n.parentNode.insertBefore(e,n),t.placeholderEl=e}t.htmlEl=n,B(t.el,"has-html"),t.el.prepend(n),n.classList.remove("hidden"),"none"===n.style.display&&(n.style.display=""),"none"===getComputedStyle(n).getPropertyValue("display")&&(n.style.display=n.dataset.display||"flex"),e?.emit("contentReady",t)}else e?.showError(t,"{{ELEMENT_NOT_FOUND}}")}(n)}function P(e,t){var n;(n=t).closeButtonEl&&(n.closeButtonEl.remove(),n.closeButtonEl=void 0),function(e){if("inline"!==e.type)return;let t=e.htmlEl,n=e.placeholderEl;t&&("none"!==getComputedStyle(t).getPropertyValue("display")&&(t.style.display="none"),t.offsetHeight),n&&(t&&n.parentNode&&n.parentNode.insertBefore(t,n),n.remove()),e.htmlEl=void 0,e.placeholderEl=void 0}(t)}function R(t){let{el:n,htmlEl:o,closeButtonEl:i}=t;if(!n||!o||i)return;let l=y("closeButton");if("auto"===l&&(l=e?.getPlugins().Toolbar?.isEnabled()!==!0),l){let e=c(b(e1));e&&(t.closeButtonEl=o.insertAdjacentElement("afterbegin",e),n.classList.add("has-close-btn"))}}function C(){v=!1,i&&e&&i.classList.remove("is-revealing");let t=y("sync");if(e&&t){let n=t.getPageIndex(e.getPageIndex())||0;t.goTo(n,{transition:!1})}}function A(){if(u!==e4.Ready)return;k(D()),function(){if(!y("dragToClose")||!e||!e.getViewport())return;let t=e.getGestures();if(!t)return;let n=0,o=0,l=z().on("step",t=>{n=t.y;let o=e?.getViewport();if(i&&o){let e=el(Math.abs(n),0,.5*o.getBoundingClientRect().height,1,.5);i.style.setProperty("--f-drag-opacity",e+""),i.style.setProperty("--f-drag-offset",n+"px")}}).on("end",()=>{if(!n){i&&i.style.removeProperty("--f-opacity");let t=e?.getViewport();t&&(t.style.transform="")}});t.on("start",function(){l.pause()}).on("panstart",t=>{let n=t.srcEvent.target;n&&!s(n)&&e?.getViewport()?.classList.add("is-dragging")}).on("pan",function(t){let i=t.srcEvent.target;!(i&&s(i))&&e?.getViewport()&&"y"===t.axis&&(o+=t.deltaY,l.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:n}).to({y:o}).start())}).on("end",function(e){if(l.pause(),"y"===e.axis&&Math.abs(e.velocityY)>5&&Math.abs(o)>0)return void Y(e.srcEvent,"f-throwOut"+(e.velocityY>0?"Down":"Up"));0!==o&&(o=0,l.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:n}).to({y:o}).start())})}(),document.body.addEventListener("click",L),document.body.addEventListener("keydown",F,{passive:!1,capture:!0}),q();let t=y("sync");t&&t.getTween()?.start()}function O(){e?.canGoNext()?q():G()}function k(t){if(!(v&&e&&e.getState()===eu.Ready&&t&&t.index===e.getOptions().initialPage&&t.el&&t.el.parentElement))return;let n=t.panzoomRef,o=n?.getTween();if(n&&t.state!==ed.Loaded)return;v=!1;let i=y("zoomEffect")?N(t):void 0;if(n&&o&&i){let e=n.getScale("base")||1,{x:t,y:l}=n.getMousemovePos(e)||{x:0,y:0};o.spring({tension:225,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(i).to({x:t,y:l,scale:e}).start();return}let l=n?.getWrapper()||t.htmlEl;l&&e5(l,y("showClass",t))}function I(e,t){R(t),k(t)}function $(){Z()}function F(t){if(!_()||u!==e4.Ready)return;let n=t.key,o=y("keyboard");if(!o||t.ctrlKey||t.altKey||t.shiftKey)return;let i=t.composedPath()[0];if(!a(i)||"Escape"!==n&&(e=>{let t="input,textarea,select,option,video,iframe,[contenteditable],[data-selectable],[data-draggable]";return e.matches(t)||e.closest(t)})(i)||(w("keydown",t),t.defaultPrevented))return;let l=o[n];if(l)switch(l){case"close":Y(t);break;case"next":t.preventDefault(),e?.next();break;case"prev":t.preventDefault(),e?.prev()}}function _(){return e9.getInstance()?.getId()===g}function D(){return e?.getPage()?.slides[0]}function H(){let e=D();return e?e.triggerEl||y("triggerEl"):void 0}function N(e){let t=e.panzoomRef?.getWrapper()?.getBoundingClientRect(),n=t?.width,o=t?.height;if(!n||!o)return;let i=e.thumbEl;if(!i)return;let l=i.getBoundingClientRect(),a=l.width,r=l.height,s=l.left,c=l.top;if(!l||!a||!r||!(e=>{let t=e.getBoundingClientRect(),n=e.closest("[style]"),o=n?.parentElement;if(n&&n.style.transform&&o){let e=o.getBoundingClientRect();if(t.left<e.left||t.left>e.left+e.width-t.width||t.top<e.top||t.top>e.top+e.height-t.height)return!1}let i=Math.max(document.documentElement.clientHeight,window.innerHeight),l=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(t.bottom<0)&&!(t.top-i>=0)&&!(t.right<0)&&!(t.left-l>=0)})(i))return;if(i instanceof HTMLImageElement){let e=window.getComputedStyle(i).getPropertyValue("object-fit");if("contain"===e||"scale-down"===e){let{width:t,height:n}=((e,t,n,o,i="contain")=>{if("contain"===i||e>n||t>o){let i=Math.min(n/e,o/t);e*=i,t*=i}return{width:e,height:t}})(i.naturalWidth,i.naturalHeight,a,r,e);s+=(a-t)*.5,c+=(r-n)*.5,a=t,r=n}}if(Math.abs(n/o-a/r)>.1)return;let u=s+.5*a-(t.left+.5*n);return{x:u,y:c+.5*r-(t.top+.5*o),scale:a/n}}function V(){n&&clearTimeout(n),n=void 0,document.removeEventListener("mousemove",$)}function q(){if(h||n)return;let e=y("idle");e&&(n=setTimeout(W,e))}function W(){i&&(V(),B(i,"is-idle"),document.addEventListener("mousemove",$),h=!0)}function Z(){h&&(G(),q())}function G(){V(),i?.classList.remove("is-idle"),h=!1}function Y(n,o){if(u===e4.Closing||u===e4.Destroyed)return;if(u=e4.Closing,V(),n){if(n.defaultPrevented)return;n.cancelable&&n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation()}if(t?.pause(),e){e.getGestures()?.destroy(),e.getTween()?.pause();let t=D(),n=t?.panzoomRef;for(let o of(t&&n&&ei(n.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),e.getSlides()))o.panzoomRef?.getGestures()?.destroy(),o.panzoomRef?.getTween()?.pause()}let i=e?.getPlugins().fullscreen;i&&i.inFullscreen()?Promise.resolve(i.exit()).then(()=>{setTimeout(()=>{U(n,o)},150)}):U(n,o)}function U(t,n){if(u!==e4.Closing)return;if(w("close",t),y("placeFocusBack")){var o;let e=H();e&&!((o=e.getBoundingClientRect()).bottom>0&&o.right>0&&o.left<(window.innerWidth||document.documentElement.clientWidth)&&o.top<(window.innerHeight||document.documentElement.clientHeight))&&e.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}y("fadeEffect")&&(i?.classList.remove("is-ready"),i?.classList.add("is-hiding")),i?.classList.add("is-closing");let l=D(),a=l?.panzoomRef,r=l?.panzoomRef?.getTween(),s=n||y("hideClass"),c=!1,d=!1;if(e&&l&&a&&r){let t;y("zoomEffect")&&700>(e.getTween()?.getCurrentVelocities()?.pos||0)&&l.state===ed.Loaded&&(t=N(l)),t&&(c=!0,e.on("refresh",()=>{let e=N(l);e&&r.to({...X,...e})}),r.easing(z.Easings.EaseOut).duration(350).from({...a.getTransform()}).to({...X,...t}).start())}let f=l?.htmlEl||l?.panzoomRef?.getWrapper();f&&e2(f),!c&&s&&f&&(d=!0,e5(f,s,()=>{K()})),c||d?setTimeout(()=>{K()},350):K()}function K(){if(u===e4.Destroyed)return;for(let e of(u=e4.Destroyed,document.body.removeEventListener("click",L),document.body.removeEventListener("keydown",F,{passive:!1,capture:!0}),Object.values(m)))e?.destroy();m={};let t=H();if(w("destroy"),y("sync")?.getPlugins().Autoplay?.resume(),y("sync")?.getPlugins().Autoscroll?.resume(),o instanceof HTMLDialogElement&&o.close(),e?.getContainer()?.classList.remove("is-idle"),e?.destroy(),o?.remove(),o=void 0,i=void 0,e=void 0,e6.delete(g),!e6.size&&(ep(!1),document.documentElement.classList.remove(e7),y("placeFocusBack")))try{t?.focus({preventScroll:!0})}catch(e){}}let J={close:Y,destroy:K,getCarousel:function(){return e},getContainer:function(){return i},getId:function(){return g},getOptions:function(){return f},getPlugins:function(){return m},getSlide:function(){return D()},getState:function(){return u},init:function(t=[],n={}){return!function(t=[],n={}){u!==e4.Init&&(J.destroy(),u=e4.Init),f=ei({},e3,n),g=y("id")||`fancybox-${++e8}`;let l=e6.get(g);if(l&&l.destroy(),e6.set(g,J),w("init"),function(){for(let[e,t]of Object.entries({...e9.Plugins,...f.plugins||{}}))if(e&&!m[e]&&t instanceof Function){let n=t();n.init(J),m[e]=n}w("initPlugins")}(),function(e=[]){w("initSlides",e),p=[...e]}(t),function(){let e=y("parentEl")||document.body;if(!(e&&e instanceof HTMLElement)||!((o=c(b(y("mainTpl")||""))||void 0)&&o instanceof HTMLDialogElement)||!((i=o.querySelector(".fancybox__container"))&&i instanceof HTMLElement))return;let t=y("mainClass");t&&B(i,t);let n=y("mainStyle");if(n&&d(n))for(let[e,t]of Object.entries(n))i.style.setProperty(e,t);let l=y("theme"),a="auto"===l?window.matchMedia("(prefers-color-scheme:light)").matches:"light"===l;i.setAttribute("theme",a?"light":"dark"),o.setAttribute("id",`${g}`),o.addEventListener("keydown",e=>{"Escape"===e.key&&e.preventDefault()}),o.addEventListener("cancel",e=>{Y(e)}),e.append(o),1===e6.size&&(y("hideScrollbar")&&ep(!0),document.documentElement.classList.add(e7)),o.showModal(),w("initLayout")}(),function(){if(!(r=o?.querySelector(".fancybox__carousel")||void 0))return;let t=ei({Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:e=>{let t=e.getContainer();return t?.querySelector(".f-carousel__toolbar [data-autoplay-action]")||t}},Fullscreen:{el:i},Toolbar:{absolute:!0,display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Zoomable:{Panzoom:{event:y("triggerEvent")}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:ew,Arrows:eP,Lazyload:eS,Zoomable:eb,Html:eD,Video:eV,Autoplay:eI,Fullscreen:eB,Thumbs:eF,Toolbar:ez}},y("Carousel")||{},{slides:p,enabled:!0,initialPage:y("startIndex")||0,l10n:y("l10n")});w("initCarousel",e=em(r,t)),e.on("*",(e,t,...n)=>{w(`Carousel.${t}`,e,...n)}),e?.on("addSlide",S),e.on("attachSlideEl",T),e.on("detachSlideEl",P),e.on("contentReady",I),e.on("ready",A),e.on("change",C),e.on("settle",O),e.init()}(),y("closeExisting"))for(let[e,t]of e6.entries())e!==g&&t.close();y("fadeEffect")&&i&&(setTimeout(()=>{i?.classList.remove("is-revealing")},500),B(i,"is-revealing")),i?.classList.add("is-ready"),u=e4.Ready,w("ready")}(t,n),J},isCurrentSlide:function(e){let t=D();return!!e&&!!t&&t.index===e.index},isTopMost:function(){return _()},off:function(e,t){return E.has(e)&&E.set(e,E.get(e).filter(e=>e!==t)),J},on:function(e,t){return E.set(e,[...E.get(e)||[],t]),J},toggleIdle(e){console.log(`[F] toggleIdle(); force: ${e}`),(h||!0===e)&&W(),h&&!1!==e||G()}};return J})().init(e,t)},unbind:function(e,t){let n=document.body,o="";if(l(e)?o=e:e instanceof Element&&(n=e,l(t)&&(o=t)),n){let e=e9.openers.get(n);e&&o&&e.delete(o),e?.size&&o||e9.openers.delete(n),n.removeEventListener("click",e9.fromEvent)}}};e.Arrows=eP,e.Autoplay=eI,e.Carousel=em,e.CarouselSlideContentState=ed,e.CarouselState=eu,e.Fancybox=e9,e.FancyboxState=e4,e.Fullscreen=eB,e.Html=eD,e.Lazyload=eS,e.PANZOOM_DEFAULT_POS=X,e.Panzoom=en,e.PanzoomAction=Y,e.PanzoomState=K,e.PanzoomZoomLevel=U,e.Sync=ew,e.Thumbs=eF,e.Toolbar=ez,e.ToolbarColumn=eC,e.Video=eV,e.Zoomable=eb});