!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"u">typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="u">typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)};function n(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function i(e,t){let r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(r=>{let o=e[r],u=t[r];return"function"==typeof o?`${o}`==`${u}`:n(o)&&n(u)?i(o,u):o===u})}let r=1/60*3e3,o=function(e){for(let t of p)t.getState()===u.Running&&t.tick(d?e-d:0);d=e,g=window.requestAnimationFrame(o)},u=((a={})[a.Initializing=0]="Initializing",a[a.Running=1]="Running",a[a.Paused=2]="Paused",a[a.Completed=3]="Completed",a[a.Destroyed=4]="Destroyed",a);var a,s,f,l=((s=l||{})[s.Spring=0]="Spring",s[s.Ease=1]="Ease",s);let c=((f={})[f.Loop=0]="Loop",f[f.Reverse=1]="Reverse",f),p=new Set,g=null,d=0;function m(){let e=u.Initializing,n=l.Ease,a=0,s=0,f=m.Easings.Linear,d=500,y=0,b=0,h=0,w=0,R=1/0,S=.01,M=.01,E=!1,j={},T=null,v={},C={},L={},O=0,I=0,x=c.Loop,A=m.Easings.Linear,k=new Map;function z(e,...t){for(let n of k.get(e)||[])n(...t)}function D(e){return s=0,e?T=setTimeout(()=>{N()},e):N(),F}function N(){e=u.Running,z("start",v,C)}function V(){if(e=u.Completed,L={},z("end",v),e===u.Completed)if(a<O){if(a++,x===c.Reverse){let e={...j};j={...C},C=e}D(I)}else a=0;return F}let F={getState:function(){return e},easing:function(e){return f=e,n=l.Ease,L={},F},duration:function(e){return d=e,F},spring:function(e={}){n=l.Spring;let{velocity:t,mass:i,tension:r,friction:o,restDelta:u,restSpeed:a,maxSpeed:s,clamp:f}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return y=t,b=i,h=r,w=o,M=u,S=a,R=s,E=f,L={},F},isRunning:function(){return e===u.Running},isSpring:function(){return n===l.Spring},from:function(e){return v={...e},F},to:function(e){return C=e,F},repeat:function(e,t=0,n=c.Loop,i){return O=e,I=t,x=n,A=i||f,F},on:function(e,t){return k.set(e,[...k.get(e)||[],t]),F},off:function(e,t){return k.has(e)&&k.set(e,k.get(e).filter(e=>e!==t)),F},start:function(t){return i(v,C)||(e=u.Initializing,j={...v},p.add(this),g||(g=window.requestAnimationFrame(o)),D(t)),F},pause:function(){return T&&(clearTimeout(T),T=null),e===u.Running&&(e=u.Paused,z("pause",v)),F},end:V,tick:function(o){o>r&&(o=r),s+=o;let a=0,p=!1;if(e!==u.Running)return F;if(n===l.Ease){p=1===(a=t(0,s/d,1));let e=x===c.Reverse?A:f;for(let t in v)v[t]=j[t]+(C[t]-j[t])*e(a)}if(n===l.Spring){let e=.001*o,n=0;for(let i in v){let r=C[i],o=v[i];if(!("number"==typeof r&&!isNaN(r))||!("number"==typeof o&&!isNaN(o)))continue;if(Math.abs(r-o)<=M){v[i]=r,L[i]=0;continue}L[i]||("object"==typeof y&&"number"==typeof y[i]?L[i]=y[i]:"number"==typeof y?L[i]=y:L[i]=0);let u=L[i],a=(u=t(-1*Math.abs(R),u,Math.abs(R)))*b*w,s=Math.abs(r-o)*h;u+=((o>r?-1:1)*s-a)/b*e,o+=u*e;let f=v[i]>r?o<r:o>r,l=Math.abs(u)<S&&Math.abs(r-o)<=M;E&&f&&(l=!0),l?(o=r,u=0):n++,v[i]=o,L[i]=u}p=!n}let g={...C};return z("step",v,j,C,a),p&&e===u.Running&&i(C,g)&&(e=u.Completed,V()),F},getStartValues:function(){return j},getCurrentValues:function(){return v},getCurrentVelocities:function(){return L},getEndValues:function(){return C},destroy:function(){e=u.Destroyed,T&&(clearTimeout(T),T=null),j=v=C={},p.delete(this)}};return F}m.destroy=()=>{for(let e of p)e.destroy();g&&(cancelAnimationFrame(g),g=null)},m.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}},e.Tween=m,e.TweenRepeatType=c,e.TweenState=u});