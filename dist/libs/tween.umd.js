!/*! License details at fancyapps.com/license */function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let n=function(e=0,n=0,t=0){return Math.max(Math.min(n,t),e)},t=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e);function i(e){return t(e)||Array.isArray(e)}function r(e,n){let t=Object.keys(e),o=Object.keys(n);return t.length===o.length&&t.every(t=>{let o=e[t],u=n[t];return"function"==typeof o?`${o}`==`${u}`:i(o)&&i(u)?r(o,u):o===u})}let o=1/60*3e3,u=function(e){for(let n of g)n.getState()===a.Running&&n.tick(e-m);m=e,d=window.requestAnimationFrame(u)},a=((s={})[s.Initializing=0]="Initializing",s[s.Running=1]="Running",s[s.Paused=2]="Paused",s[s.Completed=3]="Completed",s[s.Destroyed=4]="Destroyed",s);var s,f,l,c=((f=c||{})[f.Spring=0]="Spring",f[f.Ease=1]="Ease",f);let p=((l={})[l.Loop=0]="Loop",l[l.Reverse=1]="Reverse",l),g=new Set,d=null,m=0;function y(){let e=a.Initializing,t=c.Ease,i=0,u=0,s=y.Easings.Linear,f=500,l=0,d=0,m=0,b=0,h=1/0,w=.01,R=.01,S=!1,M={},E=null,j={},T={},v={},C=0,L=0,O=p.Loop,I=y.Easings.Linear,x=new Map;function A(e,...n){for(let t of x.get(e)||[])t(...n)}function k(e){return u=0,e?E=setTimeout(()=>{z()},e):z(),N}function z(){e=a.Running,A("start",j,T)}function D(){if(e=a.Completed,v={},A("end",j),e===a.Completed)if(i<C){if(i++,O===p.Reverse){let e={...M};M={...T},T=e}k(L)}else i=0;return N}let N={getState:function(){return e},easing:function(e){return s=e,t=c.Ease,v={},N},duration:function(e){return f=e,N},spring:function(e={}){t=c.Spring;let{velocity:n,mass:i,tension:r,friction:o,restDelta:u,restSpeed:a,maxSpeed:s,clamp:f}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return l=n,d=i,m=r,b=o,R=u,w=a,h=s,S=f,v={},N},isRunning:function(){return e===a.Running},isSpring:function(){return t===c.Spring},from:function(e){return j={...e},N},to:function(e){return T=e,N},repeat:function(e,n=0,t=p.Loop,i){return C=e,L=n,O=t,I=i||s,N},on:function(e,n){return x.set(e,[...x.get(e)||[],n]),N},off:function(e,n){return x.has(e)&&x.set(e,x.get(e).filter(e=>e!==n)),N},start:function(n){return e=a.Initializing,r(M={...j},T)||(g.add(this),k(n)),N},pause:function(){return E&&(clearTimeout(E),E=null),e===a.Running&&(e=a.Paused,A("pause",j)),N},end:D,tick:function(i){i>o&&(i=o),u+=i;let g=0,y=!1;if(e!==a.Running)return N;if(t===c.Ease){y=1===(g=n(0,u/f,1));let e=O===p.Reverse?I:s;for(let n in j)j[n]=M[n]+(T[n]-M[n])*e(g)}if(t===c.Spring){let e=.001*i,t=0;for(let i in j){let r=T[i],o=j[i];if(!("number"==typeof r&&!isNaN(r))||!("number"==typeof o&&!isNaN(o)))continue;if(Math.abs(r-o)<=R){j[i]=r,v[i]=0;continue}v[i]||("object"==typeof l&&"number"==typeof l[i]?v[i]=l[i]:"number"==typeof l?v[i]=l:v[i]=0);let u=v[i],a=(u=n(-1*Math.abs(h),u,Math.abs(h)))*d*b,s=Math.abs(r-o)*m;u+=((o>r?-1:1)*s-a)/d*e,o+=u*e;let f=j[i]>r?o<r:o>r,c=Math.abs(u)<w&&Math.abs(r-o)<=R;S&&f&&(c=!0),c?(o=r,u=0):t++,j[i]=o,v[i]=u}y=!t}let E={...T};return A("step",j,M,T,g),y&&e===a.Running&&r(T,E)&&(e=a.Completed,D()),N},getStartValues:function(){return M},getCurrentValues:function(){return j},getCurrentVelocities:function(){return v},getEndValues:function(){return T},destroy:function(){e=a.Destroyed,E&&(clearTimeout(E),E=null),M=j=T={},g.delete(this)}};return N}y.destroy=()=>{for(let e of g)e.destroy();d&&(cancelAnimationFrame(d),d=null)},y.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}},d=window.requestAnimationFrame(u),e.Tween=y,e.TweenRepeatType=p,e.TweenState=a});