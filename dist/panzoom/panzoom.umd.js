!/*! License details at fancyapps.com/license */function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";let t,n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,o=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!o&&!i},o=function(e,t){return!e||e===document.body||t&&e===t?null:n(e)?e:o(e.parentElement,t)},i=function(e){var t=new DOMParser().parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}let o=t.firstChild;if(o&&!(o instanceof HTMLElement)){var n=document.createElement("div");return n.appendChild(o),n}return o},a=function(e=0,t=0,n=0){return Math.max(Math.min(t,n),e)};function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function l(e,t){let n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(n=>{let o=e[n],i=t[n];return"function"==typeof o?`${o}`==`${i}`:r(o)&&r(i)?l(o,i):o===i})}let s=1/60*3e3,c=function(e){for(let t of b)t.getState()===u.Running&&t.tick(x?e-x:0);x=e,w=window.requestAnimationFrame(c)},u=((f={})[f.Initializing=0]="Initializing",f[f.Running=1]="Running",f[f.Paused=2]="Paused",f[f.Completed=3]="Completed",f[f.Destroyed=4]="Destroyed",f);var f,d,h,g,m,p,v=((d=v||{})[d.Spring=0]="Spring",d[d.Ease=1]="Ease",d);let y=((h={})[h.Loop=0]="Loop",h[h.Reverse=1]="Reverse",h),b=new Set,w=null,x=0;function M(){let e=u.Initializing,t=v.Ease,n=0,o=0,i=M.Easings.Linear,r=500,f=0,d=0,h=0,g=0,m=1/0,p=.01,x=.01,E=!1,T={},L=null,k={},S={},C={},A=0,R=0,F=y.Loop,O=M.Easings.Linear,P=new Map;function I(e,...t){for(let n of P.get(e)||[])n(...t)}function Z(e){return o=0,e?L=setTimeout(()=>{z()},e):z(),Y}function z(){e=u.Running,I("start",k,S)}function D(){if(e=u.Completed,C={},I("end",k),e===u.Completed)if(n<A){if(n++,F===y.Reverse){let e={...T};T={...S},S=e}Z(R)}else n=0;return Y}let Y={getState:function(){return e},easing:function(e){return i=e,t=v.Ease,C={},Y},duration:function(e){return r=e,Y},spring:function(e={}){t=v.Spring;let{velocity:n,mass:o,tension:i,friction:a,restDelta:r,restSpeed:l,maxSpeed:s,clamp:c}={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0,...e};return f=n,d=o,h=i,g=a,x=r,p=l,m=s,E=c,C={},Y},isRunning:function(){return e===u.Running},isSpring:function(){return t===v.Spring},from:function(e){return k={...e},Y},to:function(e){return S=e,Y},repeat:function(e,t=0,n=y.Loop,o){return A=e,R=t,F=n,O=o||i,Y},on:function(e,t){return P.set(e,[...P.get(e)||[],t]),Y},off:function(e,t){return P.has(e)&&P.set(e,P.get(e).filter(e=>e!==t)),Y},start:function(t){return e=u.Initializing,l(T={...k},S)||(b.add(this),w||(w=window.requestAnimationFrame(c)),Z(t)),Y},pause:function(){return L&&(clearTimeout(L),L=null),e===u.Running&&(e=u.Paused,I("pause",k)),Y},end:D,tick:function(n){n>s&&(n=s),o+=n;let c=0,b=!1;if(e!==u.Running)return Y;if(t===v.Ease){b=1===(c=a(0,o/r,1));let e=F===y.Reverse?O:i;for(let t in k)k[t]=T[t]+(S[t]-T[t])*e(c)}if(t===v.Spring){let e=.001*n,t=0;for(let n in k){let o=S[n],i=k[n];if(!("number"==typeof o&&!isNaN(o))||!("number"==typeof i&&!isNaN(i)))continue;if(Math.abs(o-i)<=x){k[n]=o,C[n]=0;continue}C[n]||("object"==typeof f&&"number"==typeof f[n]?C[n]=f[n]:"number"==typeof f?C[n]=f:C[n]=0);let r=C[n],l=(r=a(-1*Math.abs(m),r,Math.abs(m)))*d*g,s=Math.abs(o-i)*h;r+=((i>o?-1:1)*s-l)/d*e,i+=r*e;let c=k[n]>o?i<o:i>o,u=Math.abs(r)<p&&Math.abs(o-i)<=x;E&&c&&(u=!0),u?(i=o,r=0):t++,k[n]=i,C[n]=r}b=!t}let w={...S};return I("step",k,T,S,c),b&&e===u.Running&&l(S,w)&&(e=u.Completed,D()),Y},getStartValues:function(){return T},getCurrentValues:function(){return k},getCurrentVelocities:function(){return C},getEndValues:function(){return S},destroy:function(){e=u.Destroyed,L&&(clearTimeout(L),L=null),T=k=S={},b.delete(this)}};return Y}function E(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&"mouseup"!==e.type?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function T(e){let t=[];for(let n of"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[])t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function L(e){let t=e[0],n=e[1]||t;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2,ts:n.ts}}function k(e){let t=e[0],n=e[1]||e[0];return t&&n?-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)):0}M.destroy=()=>{for(let e of b)e.destroy();w&&(cancelAnimationFrame(w),w=null)},M.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};let S=e=>{e.cancelable&&e.preventDefault()},C={passive:!1},A={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]},R=!1,F=!0,O=(e,t)=>{let n,o,i,a={...A,...t},r=[],l=[],s=[],c=!1,u=!1,f=!1,d=0,h=0,g=0,m=0,p=0,v=0,y=0,b=0,w=0,x=[],M=0,O=0,P=new Map;function I(e){let t=k(l),a=k(s),f=Math.abs(y)>Math.abs(b)?y:b,d={srcEvent:i,isPanRecognized:c,isSwipeRecognized:u,firstTouch:r,previousTouch:s,currentTouch:l,deltaX:g,deltaY:m,offsetX:p,offsetY:v,velocityX:y,velocityY:b,velocity:f,angle:w,axis:o,scale:t&&a?t/a:0,center:n};for(let t of P.get(e)||[])t(d)}function Z(e){let t=Date.now();x=x.filter(e=>!e.ts||e.ts>t-100),e&&x.push(e)}function z(){if(y=0,b=0,x.length>3){let e=x[0],t=x[x.length-1];if(e&&t){let n=t.x-e.x,o=t.y-e.y,i=e.ts&&t.ts?t.ts-e.ts:0;i>0&&(y=Math.abs(n)>3?n/(i/30):0,b=Math.abs(o)>3?o/(i/30):0)}}}function D(e){if(e instanceof MouseEvent){if(R)return}else R=!0;let t=e.composedPath()[0],o=a.ignore.join(",");if(t.matches(o)||t.closest(o)||"undefined"!=typeof MouseEvent&&e instanceof MouseEvent&&(!e.buttons||0!==e.button))return;e instanceof MouseEvent&&S(e);let g=Date.now(),m=g-(d||g);f=m>0&&m<=250,d=g,clearTimeout(M),i=e,e instanceof MouseEvent&&(window.addEventListener("mousemove",Y),window.addEventListener("mouseup",X)),window.addEventListener("blur",_),r=[...l=E(e)],s=[],h=l.length,n=L(l),1===h&&(c=!1,u=!1),h&&Z(L(l)),I("start")}function Y(e){if(!r.length||e.defaultPrevented)return;i=e,s=[...l],h=(l=E(e)).length;let t=n=L(l),u=L(s);if(g=t.x-u.x,m=t.y-u.y,Z(t),z(),I("move"),l.length>1&&Math.abs(k(l)-k(s))>=.1&&I("pinch"),!c&&r.length){let e=L(r);p=t.x-e.x,v=t.y-e.y,(c=Math.abs(p)>a.panThreshold||Math.abs(v)>a.panThreshold)&&(F=!1,clearTimeout(O),O=0,o=(w=Math.abs(180*Math.atan2(v,p)/Math.PI))>45&&w<135?"y":"x",r=[...l],s=[...l],window.getSelection()?.removeAllRanges(),I("panstart"))}c&&(g||m)&&I("pan")}function X(e){if(i=e,!r.length)return;let t=E(e),o=T(e);if(h=t.length,n=L(o),o.length&&Z(L(o)),z(),s=[...l],l=[...t],r=[...t],t.length>0)I("end"),c=!1,u=!1,x=[];else{let e=a.swipeThreshold;(Math.abs(y)>e||Math.abs(b)>e)&&(u=!0),c&&I("panend"),u&&I("swipe"),c||u||(I("tap"),f?I("doubleTap"):M=setTimeout(function(){I("singleTap")},250)),I("end"),H()}}function _(){clearTimeout(M),H(),c&&I("panend"),I("end")}function H(){R=!1,c=!1,u=!1,f=!1,h=0,x=[],l=[],s=[],r=[],g=0,m=0,p=0,v=0,y=0,b=0,w=0,o=void 0,window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",X),window.removeEventListener("blur",_),F||O||(O=setTimeout(()=>{F=!0,O=0},100))}function j(e){let t=e.target;R=!1,t&&!e.defaultPrevented&&(F||(S(e),e.stopPropagation()))}let q={init:function(){if(e)return e.addEventListener("click",j,C),e.addEventListener("mousedown",D,C),e.addEventListener("touchstart",D,C),e.addEventListener("touchmove",Y,C),e.addEventListener("touchend",X),e.addEventListener("touchcancel",X),q},on:function(e,t){return P.set(e,[...P.get(e)||[],t]),q},off:function(e,t){return P.has(e)&&P.set(e,P.get(e).filter(e=>e!==t)),q},isPointerDown:()=>h>0,destroy:function(){clearTimeout(M),clearTimeout(O),O=0,e&&(e.removeEventListener("click",j,C),e.removeEventListener("mousedown",D,C),e.removeEventListener("touchstart",D,C),e.removeEventListener("touchmove",Y,C),e.removeEventListener("touchend",X),e.removeEventListener("touchcancel",X)),e=null,H()}};return q};O.isClickAllowed=()=>F;let P={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"},I=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.add(t)})},Z=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.remove(t)})},z=(e,t="",n)=>{e&&e.classList&&t.split(" ").forEach(t=>{t&&e.classList.toggle(t,n||!1)})},D=1e4,Y=e=>{e.cancelable&&e.preventDefault()},X=(e,t=D)=>Math.round(((e=parseFloat(e+"")||0)+Number.EPSILON)*t)/t,_=((g={}).Reset="reset",g.Zoom="zoom",g.ZoomIn="zoomIn",g.ZoomOut="zoomOut",g.ZoomTo="zoomTo",g.ToggleCover="toggleCover",g.ToggleFull="toggleFull",g.ToggleMax="toggleMax",g.IterateZoom="iterateZoom",g.Pan="pan",g.Swipe="swipe",g.Move="move",g.MoveLeft="moveLeft",g.MoveRight="moveRight",g.MoveUp="moveUp",g.MoveDown="moveDown",g.RotateCCW="rotateCCW",g.RotateCW="rotateCW",g.FlipX="flipX",g.FlipY="flipY",g.ToggleFS="toggleFS",g),H=((m={}).Cover="cover",m.Full="full",m.Max="max",m),j={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},q=((p={})[p.Init=0]="Init",p[p.Loading=1]="Loading",p[p.Error=2]="Error",p[p.Ready=3]="Ready",p[p.Destroyed=4]="Destroyed",p),W={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:_.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:P,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:_.Zoom,width:"auto"},V=0,$=0,N=0,G=(e,n={},r={})=>{let l,s,c,u,f,d,h,g,m=q.Init,p={...W,...n},v={},y={...j},b={...j},w=[];function x(e){let t=p[e];return t&&"function"==typeof t?t(eM):t}function E(){return e&&e.parentElement&&l&&m===q.Ready}let k=new Map;function S(e,...t){let n=[...k.get(e)||[]];for(let o of(p.on&&n.push(p.on[e]),n))o&&o instanceof Function&&o(eM,...t);"*"!==e&&S("*",e,...t)}function C(e){if(!E()||o(e.target))return;let t=Date.now(),n=a(-1,[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),1);S("wheel",e,n);let i=x("wheelAction");if(!i||e.defaultPrevented)return;let r=b.scale,l=r*(n>0?1.5:.5);if(i===_.Zoom){let o=100>Math.abs(e.deltaY)&&100>Math.abs(e.deltaX);if(t-$<(o?200:45))return void Y(e);$=t;let i=ee(),s=ei();if(X(l)<X(i)&&X(r)<=X(i)?(N+=Math.abs(n),l=i):X(l)>X(s)&&X(r)>=X(s)?(N+=Math.abs(n),l=s):(N=0,l=a(i,l,s)),N>7)return}switch(Y(e),i){case _.Pan:es(i,{srcEvent:e,deltaX:-(2*e.deltaX),deltaY:-(2*e.deltaY)});break;case _.Zoom:es(_.ZoomTo,{srcEvent:e,scale:l,center:{x:e.clientX,y:e.clientY}});break;default:es(i,{srcEvent:e})}}function A(n){let o=n.composedPath()[0];if(!O.isClickAllowed()||!(o&&null!==o&&o instanceof Element&&"nodeType"in o)||n.defaultPrevented||!e?.contains(o)||o.hasAttribute("disabled")||o.hasAttribute("aria-disabled"))return;let i=o.closest("[data-panzoom-action]"),a=i?.dataset?.panzoomAction,r=i?.dataset?.panzoomValue||"";if(a){switch(a){case _.ZoomTo:case _.ZoomIn:case _.ZoomOut:es(a,{scale:parseFloat(r||"")||void 0});break;case _.MoveLeft:case _.MoveRight:es(a,{deltaX:parseFloat(r||"")||void 0});break;case _.MoveUp:case _.MoveDown:es(a,{deltaY:parseFloat(r||"")||void 0});break;case _.ToggleFS:ew();break;default:es(a)}return}if(!l?.contains(o))return;let s={srcEvent:n};if(es(x("clickAction"),s),x("dblClickAction")){let e=Date.now(),n=e-(V||e);V=e,n>0&&n<=250?(t&&(clearTimeout(t),t=void 0),es(x("dblClickAction"),s)):t=setTimeout(()=>{es(x("singleClickAction"),s)},250)}}function R(e){if(g=e,!E()||!J()||y.scale<=1||b.scale<=1||(l?.dataset.animationName||"").indexOf("zoom")>-1)return;let t=K(b.scale);if(!t)return;let{x:n,y:o}=t;es(_.Pan,{deltaX:n-b.x,deltaY:o-b.y})}function F(){e&&(Z(e,"is-loading"),e.querySelector(".f-spinner")?.remove())}function P(){if(!e||!s)return;if(F(),s instanceof HTMLImageElement&&!(s.complete&&s.naturalWidth)){m=q.Error,l?.classList.add("has-error"),S("error");return}S("loaded");let{width:t,height:n}=U();s instanceof HTMLImageElement&&(s.setAttribute("width",t+""),s.setAttribute("height",n+"")),l&&(Z(l,"has-error"),s instanceof HTMLImageElement&&(l.setAttribute("width",t+""),l.setAttribute("height",n+""),l.style.aspectRatio=`${t/n||""}`)),d=M().on("start",(e,t)=>{b={...j,...t},void 0!==t.angle&&(t.angle=90*Math.round(t.angle/90)),void 0!==t.flipX&&(t.flipX=t.flipX>0?1:-1),void 0!==t.flipY&&(t.flipY=t.flipY>0?1:-1),el(),S("animationStart")}).on("pause",e=>{b={...j,...e}}).on("step",e=>{if(!E())return void d?.end();if(y={...j,...e},J()||!x("bounds")||ev()||b.scale>y.scale||b.scale<et())return void ec();let t=ea(b.scale),n=!1,o=!1,i=!1,r=!1;y.x<t.x[0]&&(n=!0),y.x>t.x[1]&&(o=!0),y.y<t.y[0]&&(r=!0),y.y>t.y[1]&&(i=!0);let l=!1,s=!1,c=!1,u=!1;b.x<t.x[0]&&(l=!0),b.x>t.x[1]&&(s=!0),b.y<t.y[0]&&(u=!0),b.y>t.y[1]&&(c=!0);let f=!1;(o&&s||n&&l)&&(b.x=a(t.x[0],b.x,t.x[1]),f=!0),(i&&c||r&&u)&&(b.y=a(t.y[0],b.y,t.y[1]),f=!0),f&&d&&d.spring({tension:94,friction:17,maxSpeed:555*b.scale,restDelta:.1,restSpeed:.1,velocity:d.getCurrentVelocities()}).from(y).to(b).start(),ec()}).on("end",()=>{er(),d?.isRunning()||(el(),S("animationEnd"))}),function(){let e=x("gestures");e&&u&&s&&(f=O(u,e).on("start",e=>{if(!d)return;let t=e.srcEvent;J()||((y.scale>1||e.currentTouch.length>1)&&(t?.stopPropagation(),d.pause()),1===e.currentTouch.length&&S("touchStart"))}).on("move",e=>{!J()&&(1!==b.scale||e.currentTouch.length>1)&&(e.srcEvent.preventDefault(),e.srcEvent.stopPropagation())}).on("pan",e=>{if(!E()||J())return;let t=e.srcEvent;(1!==b.scale||e.currentTouch.length>1)&&(Y(t),es(_.Pan,e))}).on("swipe",e=>{!(!E()||J())&&b.scale>1&&es(_.Swipe,e)}).on("tap",e=>{S("click",e)}).on("singleTap",e=>{S("singleClick",e)}).on("doubleTap",e=>{S("dblClick",e)}).on("pinch",e=>{J()||(e.scale>et()?es(_.ZoomIn,e):e.scale<et()?es(_.ZoomOut,e):es(_.Pan,e))}).on("end",e=>{J()||(e.currentTouch.length?(e.srcEvent.stopPropagation(),Y(e.srcEvent),d?.end()):(el(),er(),S("touchEnd")))}).init())}(),u&&(u.addEventListener("wheel",C,{passive:!1}),w.push(()=>{u?.removeEventListener("wheel",C,{passive:!1})})),e?.addEventListener("click",A),document?.addEventListener("mousemove",R),w.push(()=>{e?.removeEventListener("click",A),document?.removeEventListener("mousemove",R)});let o=H();y={...o},b={...o},m=q.Ready,ec(),el(),S("ready"),requestAnimationFrame(()=>{F(),u&&(u.style.visibility="")})}function H(){let e={...x("startPos")||{}},t=e.scale,n=1;n="string"==typeof t?Q(t):"number"==typeof t?t:et();let o={...j,...e,scale:n},i=J()?K(n):void 0;if(i){let{x:e,y:t}=i;o.x=e,o.y=t}return o}function G(){let e={top:0,left:0,width:0,height:0};if(l){let t=l.getBoundingClientRect();b.angle%180==90?(e.top=t.top+.5*t.height-.5*t.width,e.left=t.left+.5*t.width-.5*t.height,e.width=t.height,e.height=t.width):(e.top=t.top,e.left=t.left,e.width=t.width,e.height=t.height)}return e}function U(){let e=x("width"),t=x("height");if(s&&"auto"===e){let t=s.getAttribute("width");e=t?parseFloat(t+""):void 0!==s.dataset.width?parseFloat(s.dataset.width+""):u instanceof HTMLImageElement?u.naturalWidth:s instanceof HTMLImageElement?s.naturalWidth:s.getBoundingClientRect().width}else e="string"==typeof e?parseFloat(e):e;if(s&&"auto"===t){let e=s.getAttribute("height");t=e?parseFloat(e+""):void 0!==s.dataset.height?parseFloat(s.dataset.height+""):u instanceof HTMLImageElement?u.naturalHeight:s instanceof HTMLImageElement?s.naturalHeight:s.getBoundingClientRect().height}else t="string"==typeof t?parseFloat(t):t;return{width:e,height:t}}function B(){let e=G();return{width:e.width,height:e.height}}function J(){return"mousemove"===x("panMode")&&matchMedia("(hover: hover)").matches}function K(e){let t=g||x("event"),n=l?.getBoundingClientRect();if(!t||!n||e<=1)return{x:0,y:0};let o=(t.clientX||0)-n.left,i=(t.clientY||0)-n.top,{width:r,height:s}=B(),c=ea(e);if(e>1){let t=x("mouseMoveFactor");t>1&&(e*=t)}let u=r*e,f=s*e,d=(u-r)*.5-o/r*100/100*(u-r),h=(f-s)*.5-i/s*100/100*(f-s);return{x:d=a(c.x[0],d,c.x[1]),y:h=a(c.y[0],h,c.y[1])}}function Q(t="base"){if(!e)return 1;let n=e.getBoundingClientRect(),o=G(),{width:i,height:r}=U(),l=e=>{if("number"==typeof e)return e;switch(e){case"min":case"base":return 1;case"cover":return Math.max(n.height/o.height,n.width/o.width)||1;case"full":case"max":{let e=b.angle%180==90?r:i;return e&&o.width?e/o.width:1}}},s=x("minScale"),c=x("maxScale"),u=Math.min(l("full"),l(s)),f="number"==typeof c?l("full")*c:Math.min(l("full"),l(c));switch(t){case"min":return u;case"base":return a(u,1,f);case"cover":return l("cover");case"full":return Math.min(f,l("full"));case"max":return f}}function ee(){return Q("min")}function et(){return Q("base")}function en(){return Q("cover")}function eo(){return Q("full")}function ei(){return Q("max")}function ea(t){let n={x:[0,0],y:[0,0]},o=e?.getBoundingClientRect();if(!o)return n;let i=G(),a=o.width,r=o.height,l=i.width,s=i.height,c=t=void 0===t?b.scale:t,u=t;if(J()&&t>1){let e=x("mouseMoveFactor");e>1&&(l*t>a+.01&&(c*=e),s*t>r+.01&&(u*=e))}return l*=c,s*=u,t>1&&(l>a&&(n.x[0]=(a-l)*.5,n.x[1]=(l-a)*.5),n.x[0]-=(i.left-o.left)*.5,n.x[1]-=(i.left-o.left)*.5,n.x[0]-=(i.left+i.width-o.right)*.5,n.x[1]-=(i.left+i.width-o.right)*.5,s>r&&(n.y[0]=(r-s)*.5,n.y[1]=(s-r)*.5),n.y[0]-=(i.top-o.top)*.5,n.y[1]-=(i.top-o.top)*.5,n.y[0]-=(i.top+i.height-o.bottom)*.5,n.y[1]-=(i.top+i.height-o.bottom)*.5),n}function er(){if(!E()||!x("bounds")||!d)return;let e=ee(),t=ei(),n=a(e,b.scale,t);if(b.scale<e-.01||b.scale>t+.01)return void es(_.ZoomTo,{scale:n});if(d.isRunning()||ev())return;let o=ea(n);b.x<o.x[0]||b.x>o.x[1]||b.y<o.y[0]||b.y>o.y[1]?(b.x=a(o.x[0],b.x,o.x[1]),b.y=a(o.y[0],b.y,o.y[1]),d.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:d.getCurrentVelocities()}),d.from(y).to(b).start()):ec()}function el(){if(!E())return;let t=ep(),n=ev(),o=ey(),i=eb(),a=ef(),r=ed();z(l,"is-fullsize",i),z(l,"is-expanded",o),z(l,"is-dragging",n),z(l,"can-drag",t),z(l,"will-zoom-in",a),z(l,"will-zoom-out",r);let s=eg(),c=em(),u=eh(),f=!E();for(let t of e?.querySelectorAll("[data-panzoom-action]")||[]){let e=t.dataset.panzoomAction,n=!1;if(f)n=!0;else switch(e){case _.ZoomIn:s||(n=!0);break;case _.ZoomOut:u||(n=!0);break;case _.ToggleFull:c||u||(n=!0);let o=t.querySelector("g");o&&(o.style.display=i&&!n?"none":"");break;case _.ToggleCover:case _.ToggleMax:s||u||(n=!0)}n?(t.setAttribute("aria-disabled",""),t.setAttribute("tabindex","-1")):(t.removeAttribute("aria-disabled"),t.removeAttribute("tabindex"))}}function es(t,n){if(!e||!s||!d||t===_.Swipe&&Math.abs(d.getCurrentVelocities().scale)>.01)return;let o={...b},i=ea(J()?b.scale:y.scale),r=d.getCurrentVelocities(),l=G();n=n||{};let c=(n.currentTouch?.length||0)>1,u=n.velocityX||0,f=n.velocityY||0,h=n.center;!h&&n.srcEvent&&(h=L(T(n.srcEvent)));let g=n.deltaX||0,m=n.deltaY||0;switch(t){case _.MoveRight:g=n.deltaX||100;break;case _.MoveLeft:g=n.deltaX||-100;break;case _.MoveUp:m=n.deltaY||-100;break;case _.MoveDown:m=n.deltaY||100}let p=[];switch(t){case _.Reset:(b={...j}).scale=et();break;case _.Pan:case _.Move:case _.MoveLeft:case _.MoveRight:case _.MoveUp:case _.MoveDown:if(ev()){let e=1,t=1;b.x<=i.x[0]&&u<=0&&(e=.2*Math.max(.01,1-Math.abs(1/l.width*Math.abs(b.x-i.x[0])))),b.x>=i.x[1]&&u>=0&&(e=.2*Math.max(.01,1-Math.abs(1/l.width*Math.abs(b.x-i.x[1])))),b.y<=i.y[0]&&f<=0&&(t=.2*Math.max(.01,1-Math.abs(1/l.height*Math.abs(b.y-i.y[0])))),b.y>=i.y[1]&&f>=0&&(t=.2*Math.max(.01,1-Math.abs(1/l.height*Math.abs(b.y-i.y[1])))),b.x+=g*e,b.y+=m*t}else b.x=a(i.x[0],b.x+g,i.x[1]),b.y=a(i.y[0],b.y+m,i.y[1]);break;case _.Swipe:let v=(e=0)=>Math.sign(e)*Math.pow(Math.abs(e),1.5);b.x+=a(-1e3,v(u),1e3),b.y+=a(-1e3,v(f),1e3),f&&!u&&(b.x=a(i.x[0],b.x,i.x[1])),!f&&u&&(b.y=a(i.y[0],b.y,i.y[1])),r.x=u,r.y=f;break;case _.ZoomTo:b.scale=n.scale||1;break;case _.ZoomIn:b.scale=b.scale*(n.scale||2),c||(b.scale=Math.min(b.scale,ei()));break;case _.ZoomOut:b.scale=b.scale*(n.scale||.5),c||(b.scale=Math.max(b.scale,ee()));break;case _.ToggleCover:p=[et(),en()];break;case _.ToggleFull:p=[et(),eo()];break;case _.ToggleMax:p=[et(),ei()];break;case _.IterateZoom:p=[et(),eo(),ei()];break;case _.Zoom:let w=eo();b.scale>=w-.05?b.scale=et():b.scale=Math.min(w,b.scale*(n.scale||2));break;case _.RotateCW:b.angle+=90;break;case _.RotateCCW:b.angle-=90;break;case _.FlipX:b.flipX*=-1;break;case _.FlipY:b.flipY*=-1}if(void 0!==y.angle&&Math.abs(y.angle)>=360&&(b.angle-=360*Math.floor(y.angle/360),y.angle-=360*Math.floor(y.angle/360)),p.length){let e=p.findIndex(e=>e>b.scale+1/D);b.scale=p[e]||p[0]}if(c&&(b.scale=a(ee()*(c?.8:1),b.scale,ei()*(c?1.6:1))),J()){let e=K(b.scale);if(e){let{x:t,y:n}=e;b.x=t,b.y=n}}else if(b.scale!==o.scale){let t=0,n=0;if(h)t=h.x,n=h.y;else{let o=e.getBoundingClientRect();t=o.x+.5*o.width,n=o.y+.5*o.height}let r=t-l.left,s=n-l.top;r-=.5*l.width,s-=.5*l.height;let u=(r-o.x)/o.scale,f=(s-o.y)/o.scale;b.x=r-u*b.scale,b.y=s-f*b.scale,!c&&x("bounds")&&(i=ea(),b.x=a(i.x[0],b.x,i.x[1]),b.y=a(i.y[0],b.y,i.y[1]))}if(t===_.Swipe){let e=500*b.scale;d.spring({tension:94,friction:17,maxSpeed:e,restDelta:.1,restSpeed:.1,velocity:r})}else t===_.Pan||c?d.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):d.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:r});0===n.velocity?(y={...b},ec()):d.from(y).to(b).start(),S("action",t)}function ec(){if(!s||!l||!u)return;let{width:t,height:n}=U();Object.assign(l.style,{maxWidth:`min(${t}px, 100%)`,maxHeight:`min(${n}px, 100%)`});let{x:o,y:i,width:a,height:r,scale:c,angle:f,flipX:d,flipY:h}=function(){let{width:t,height:n}=U(),{width:o,height:i}=B();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:o,fitHeight:i,fullWidth:t,fullHeight:n};let{x:a,y:r,scale:l,angle:s,flipX:c,flipY:u}=y,f=1/eo(),d=t,h=n,g=y.scale*f,m=b.scale*f,p=Math.max(o,i),v=Math.min(o,i);t>n?(d=p,h=v):(d=v,h=p),g=t>n?p*l/t||1:p*l/n||1;let w=d?t*m:0,x=h?n*m:0,M=d&&h?t*g/w:0;return{x:a=a+.5*d-.5*w,y:r=r+.5*h-.5*x,width:w,height:x,scale:M,flipX:c,flipY:u,angle:s,fitWidth:o,fitHeight:i,fullWidth:t,fullHeight:n}}(),g=`translate(${X(o)}px, ${X(i)}px)`;1!==d||1!==h?g+=` scaleX(${X(c*d)}) scaleY(${X(c*h)})`:g+=` scale(${X(c)})`,0!==f&&(g+=` rotate(${f}deg)`),u.style.width=`${X(a)}px`,u.style.height=`${X(r)}px`,u.style.transform=`${g}`,S("render")}function eu(){let e=b.scale,t=void 0,n=x("clickAction"),o=et();if(n){let i=[];switch(n){case _.ZoomIn:o=e*(t||2);break;case _.ZoomOut:o=e*(t||.5);break;case _.ToggleCover:i=[et(),en()];break;case _.ToggleFull:i=[et(),eo()];break;case _.ToggleMax:i=[et(),ei()];break;case _.IterateZoom:i=[et(),eo(),ei()];break;case _.Zoom:let a=eo();o=e>=a-.05?et():Math.min(a,e*(t||2))}if(i.length){let t=i.findIndex(t=>t>e+1/D);o=i[t]||et()}}return a(ee(),o,ei())}function ef(){return!!(E()&&eu()>b.scale)}function ed(){return!!(E()&&eu()<b.scale)}function eh(){return!!(E()&&b.scale>ee())}function eg(){return!!(E()&&b.scale<ei())}function em(){return!!(E()&&b.scale<eo())}function ep(){return!!(E()&&ey()&&f&&!J())}function ev(){return!!(E()&&f?.isPointerDown()&&!J())}function ey(){return!!(E()&&b.scale>et())}function eb(){return!!(E()&&b.scale>=eo())}function ew(){let t="in-fullscreen",n="with-panzoom-in-fullscreen";e?.classList.toggle(t);let o=e?.classList.contains(t);o?(document.documentElement.classList.add(n),document.addEventListener("keydown",ex,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",ex,!0)),ec(),S(o?"enterFS":"exitFS")}function ex(e){"Escape"!==e.key||e.defaultPrevented||ew()}let eM={canDrag:ep,canZoomIn:eg,canZoomOut:eh,canZoomToFull:em,destroy:function(){for(let e of(S("destroy"),Object.values(v)))e?.destroy(eM);for(let e of w)e();return l&&(l.style.aspectRatio="",l.style.maxWidth="",l.style.maxHeight=""),u&&(u.style.width="",u.style.height="",u.style.transform=""),l=void 0,s=void 0,u=void 0,y={...j},b={...j},d?.destroy(),d=void 0,f?.destroy(),f=void 0,m=q.Destroyed,eM},emit:S,execute:es,getBoundaries:ea,getContainer:function(){return e},getContent:function(){return s},getFullDim:U,getGestures:function(){return f},getMousemovePos:K,getOptions:function(){return p},getPlugins:function(){return v},getScale:Q,getStartPosition:H,getState:function(){return m},getTransform:function(e){return!0===e?b:y},getTween:function(){return d},getViewport:function(){return u},getWrapper:function(){return l},init:function(){return m=q.Init,S("init"),function(){for(let[e,t]of Object.entries({...r,...p.plugins||{}}))if(e&&!v[e]&&t instanceof Function){let n=t();n.init(eM),v[e]=n}S("initPlugins")}(),function(){let t={...W.classes,...x("classes")};if(e&&(I(e,t.container),s=e.querySelector("."+t.content))){if(s.setAttribute("draggable","false"),(l=e.querySelector("."+t.wrapper))||(I(l=document.createElement("div"),t.wrapper),s.insertAdjacentElement("beforebegin",l),l.insertAdjacentElement("afterbegin",s)),(u=e.querySelector("."+t.viewport))||(I(u=document.createElement("div"),t.viewport),u.insertAdjacentElement("afterbegin",s),l.insertAdjacentElement("beforeend",u)),(c=s.cloneNode(!0)).removeAttribute("id"),l.insertAdjacentElement("afterbegin",c),s instanceof HTMLPictureElement&&(s=s.querySelector("img")),c instanceof HTMLPictureElement&&(c=c.querySelector("img")),u instanceof HTMLPictureElement&&(u=u.querySelector("img")),u&&(u.style.visibility="hidden",x("protected"))){u.addEventListener("contextmenu",e=>{e.preventDefault()});let e=document.createElement("div");I(e,"f-panzoom__protected"),u.appendChild(e)}S("initLayout")}}(),function(){if(e&&l&&!h){let e=null;(h=new ResizeObserver(()=>{E()&&(e=e||requestAnimationFrame(()=>{E()&&(el(),er(),S("refresh")),e=null}))})).observe(l),w.push(()=>{h?.disconnect(),h=void 0,e&&(cancelAnimationFrame(e),e=null)})}}(),function(){if(!e||!s)return;if(!(s instanceof HTMLImageElement&&c instanceof HTMLImageElement))return P();let t=()=>{s&&s instanceof HTMLImageElement&&s.decode().then(()=>{P()}).catch(()=>{P()})};if(m=q.Loading,e.classList.add("is-loading"),S("loading"),c.src&&c.complete)return t();(function(){if(!e||e?.querySelector(".f-spinner"))return;let t=i(x("spinnerTpl"));t&&(t.classList.add("f-spinner"),e.classList.add("is-loading"),l?.insertAdjacentElement("afterbegin",t))})(),c.addEventListener("load",t,!1),c.addEventListener("error",t,!1),w.push(()=>{c?.removeEventListener("load",t,!1),c?.removeEventListener("error",t,!1)})}(),eM},isDragging:ev,isExpanded:ey,isFullsize:eb,localize:function(e,t=[]){let n=x("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,(e,t)=>n[t]||e);for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)},off:function(e,t){for(let n of e instanceof Array?e:[e])k.has(n)&&k.set(n,k.get(n).filter(e=>e!==t));return eM},on:function(e,t){for(let n of e instanceof Array?e:[e])k.set(n,[...k.get(n)||[],t]);return eM},toggleFS:ew,version:"6.0.30",willZoomIn:ef,willZoomOut:ed};return eM};G.l10n={en_EN:P},G.getDefaults=()=>W,e.PANZOOM_DEFAULT_POS=j,e.Panzoom=G,e.PanzoomAction=_,e.PanzoomState=q,e.PanzoomZoomLevel=H});